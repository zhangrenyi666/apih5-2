<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.apih5.mybatis.dao.SysUserMapper" >
    <resultMap id="BaseResultMap" type="com.apih5.framework.api.sysdb.entity.SysUser" >
    <id column="user_key" property="userKey" jdbcType="CHAR" />
    <result column="user_id" property="userId" jdbcType="VARCHAR" />
    <result column="real_name" property="realName" jdbcType="VARCHAR" />
    <result column="nickname" property="nickname" jdbcType="VARCHAR" />
    <result column="user_pwd" property="userPwd" jdbcType="VARCHAR" />
    <result column="mobile" property="mobile" jdbcType="VARCHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="cert_type" property="certType" jdbcType="CHAR" />
    <result column="cert_type_name" property="certTypeName" jdbcType="VARCHAR" />
    <result column="identity_card" property="identityCard" jdbcType="VARCHAR" />
    <result column="birthday" property="birthday" jdbcType="TIMESTAMP" />
    <result column="age" property="age" jdbcType="INTEGER" />
    <result column="nationnality" property="nationnality" jdbcType="CHAR" />
    <result column="nationnality_name" property="nationnalityName" jdbcType="VARCHAR" />
    <result column="nation" property="nation" jdbcType="CHAR" />
    <result column="nation_name" property="nationName" jdbcType="VARCHAR" />
    <result column="postions" property="postions" jdbcType="CHAR" />
    <result column="postions_name" property="postionsName" jdbcType="VARCHAR" />
    <result column="positiongrade" property="positiongrade" jdbcType="CHAR" />
    <result column="positiongrade_name" property="positiongradeName" jdbcType="VARCHAR" />
    <result column="job_type" property="jobType" jdbcType="CHAR" />
    <result column="job_type_name" property="jobTypeName" jdbcType="VARCHAR" />
    <result column="emp_type" property="empType" jdbcType="CHAR" />
    <result column="emp_type_name" property="empTypeName" jdbcType="VARCHAR" />
    <result column="gender" property="gender" jdbcType="CHAR" />
    <result column="image_url" property="imageUrl" jdbcType="VARCHAR" />
    <result column="openid" property="openid" jdbcType="VARCHAR" />
    <result column="account_corp_id" property="accountCorpId" jdbcType="VARCHAR" />
    <result column="account_app_type" property="accountAppType" jdbcType="CHAR" />
    <result column="ext1" property="ext1" jdbcType="VARCHAR" />
    <result column="ext2" property="ext2" jdbcType="VARCHAR" />
    <result column="ext3" property="ext3" jdbcType="VARCHAR" />
    <result column="ext4" property="ext4" jdbcType="VARCHAR" />
    <result column="ext5" property="ext5" jdbcType="VARCHAR" />
    <result column="ext6" property="ext6" jdbcType="VARCHAR" />
    <result column="ext7" property="ext7" jdbcType="VARCHAR" />
    <result column="ext8" property="ext8" jdbcType="VARCHAR" />
    <result column="ext9" property="ext9" jdbcType="VARCHAR" />
    <result column="ext10" property="ext10" jdbcType="VARCHAR" />
    <result column="ext_version" property="extVersion" jdbcType="CHAR" />
    <result column="ext" property="ext" jdbcType="VARCHAR" />
    <result column="user_type" property="userType" jdbcType="CHAR" />
    <result column="user_status" property="userStatus" jdbcType="CHAR" />
    <result column="expiration_date" property="expirationDate" jdbcType="TIMESTAMP" />
    <result column="sort" property="sort" jdbcType="INTEGER" />
    <result column="del_flag" property="delFlag" jdbcType="CHAR" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="create_user" property="createUser" jdbcType="CHAR" />
    <result column="create_user_name" property="createUserName" jdbcType="VARCHAR" />
    <result column="modify_time" property="modifyTime" jdbcType="TIMESTAMP" />
    <result column="modify_user" property="modifyUser" jdbcType="CHAR" />
    <result column="modify_user_name" property="modifyUserName" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    user_key, user_id, real_name, nickname, user_pwd, 
    mobile, email, cert_type, cert_type_name, identity_card, 
    birthday, age, nationnality, nationnality_name, nation, 
    nation_name, postions, postions_name, positiongrade, positiongrade_name, 
    job_type, job_type_name, emp_type, emp_type_name, gender, 
    image_url, openid, account_corp_id, account_app_type, ext1, 
    ext2, ext3, ext4, ext5, ext6, 
    ext7, ext8, ext9, ext10, ext_version, 
    ext, user_type, user_status, expiration_date, sort, 
    del_flag, create_time, create_user, create_user_name, modify_time, 
    modify_user, modify_user_name

  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from sys_user
    where del_flag = '0'
    and user_key = #{userKey,jdbcType=CHAR}
  </select>
  <select id="getSysUserByUserId" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from sys_user
    where del_flag = '0'
    and user_id = #{userId,jdbcType=CHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from sys_user
    where user_key = #{userKey,jdbcType=CHAR}
  </delete>
  <insert id="insert" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    insert into sys_user (user_key, user_id, real_name, 
      nickname, user_pwd, mobile, 
      email, cert_type, cert_type_name, 
      identity_card, birthday, age, 
      nationnality, nationnality_name, nation, 
      nation_name, postions, postions_name, 
      positiongrade, positiongrade_name, job_type, 
      job_type_name, emp_type, emp_type_name, 
      gender, image_url, openid, 
      account_corp_id, account_app_type, ext1, 
      ext2, ext3, ext4, 
      ext5, ext6, ext7, 
      ext8, ext9, ext10, 
      ext_version, ext, user_type, 
      user_status, expiration_date, sort, 
      del_flag, create_time, create_user, 
      create_user_name, modify_time, modify_user, 
      modify_user_name
      )
    values (#{userKey,jdbcType=CHAR}, #{userId,jdbcType=VARCHAR}, #{realName,jdbcType=VARCHAR}, 
      #{nickname,jdbcType=VARCHAR}, #{userPwd,jdbcType=VARCHAR}, #{mobile,jdbcType=VARCHAR}, 
      #{email,jdbcType=VARCHAR}, #{certType,jdbcType=CHAR}, #{certTypeName,jdbcType=VARCHAR}, 
      #{identityCard,jdbcType=VARCHAR}, #{birthday,jdbcType=TIMESTAMP}, #{age,jdbcType=INTEGER}, 
      #{nationnality,jdbcType=CHAR}, #{nationnalityName,jdbcType=VARCHAR}, #{nation,jdbcType=CHAR}, 
      #{nationName,jdbcType=VARCHAR}, #{postions,jdbcType=CHAR}, #{postionsName,jdbcType=VARCHAR}, 
      #{positiongrade,jdbcType=CHAR}, #{positiongradeName,jdbcType=VARCHAR}, #{jobType,jdbcType=CHAR}, 
      #{jobTypeName,jdbcType=VARCHAR}, #{empType,jdbcType=CHAR}, #{empTypeName,jdbcType=VARCHAR}, 
      #{gender,jdbcType=CHAR}, #{imageUrl,jdbcType=VARCHAR}, #{openid,jdbcType=VARCHAR}, 
      #{accountCorpId,jdbcType=VARCHAR}, #{accountAppType,jdbcType=CHAR}, #{ext1,jdbcType=VARCHAR}, 
      #{ext2,jdbcType=VARCHAR}, #{ext3,jdbcType=VARCHAR}, #{ext4,jdbcType=VARCHAR}, 
      #{ext5,jdbcType=VARCHAR}, #{ext6,jdbcType=VARCHAR}, #{ext7,jdbcType=VARCHAR}, 
      #{ext8,jdbcType=VARCHAR}, #{ext9,jdbcType=VARCHAR}, #{ext10,jdbcType=VARCHAR}, 
      #{extVersion,jdbcType=CHAR}, #{ext,jdbcType=VARCHAR}, #{userType,jdbcType=CHAR}, 
      #{userStatus,jdbcType=CHAR}, #{expirationDate,jdbcType=TIMESTAMP}, #{sort,jdbcType=INTEGER}, 
      #{delFlag,jdbcType=CHAR}, #{createTime,jdbcType=TIMESTAMP}, #{createUser,jdbcType=CHAR}, 
      #{createUserName,jdbcType=VARCHAR}, #{modifyTime,jdbcType=TIMESTAMP}, #{modifyUser,jdbcType=CHAR}, 
      #{modifyUserName,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    insert into sys_user
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="userKey != null" >
        user_key,
      </if>
      <if test="userId != null" >
        user_id,
      </if>
      <if test="realName != null" >
        real_name,
      </if>
      <if test="nickname != null" >
        nickname,
      </if>
      <if test="userPwd != null" >
        user_pwd,
      </if>
      <if test="mobile != null" >
        mobile,
      </if>
      <if test="email != null" >
        email,
      </if>
      <if test="certType != null" >
        cert_type,
      </if>
      <if test="certTypeName != null" >
        cert_type_name,
      </if>
      <if test="identityCard != null" >
        identity_card,
      </if>
      <if test="birthday != null" >
        birthday,
      </if>
      <if test="age != null" >
        age,
      </if>
      <if test="nationnality != null" >
        nationnality,
      </if>
      <if test="nationnalityName != null" >
        nationnality_name,
      </if>
      <if test="nation != null" >
        nation,
      </if>
      <if test="nationName != null" >
        nation_name,
      </if>
      <if test="postions != null" >
        postions,
      </if>
      <if test="postionsName != null" >
        postions_name,
      </if>
      <if test="positiongrade != null" >
        positiongrade,
      </if>
      <if test="positiongradeName != null" >
        positiongrade_name,
      </if>
      <if test="jobType != null" >
        job_type,
      </if>
      <if test="jobTypeName != null" >
        job_type_name,
      </if>
      <if test="empType != null" >
        emp_type,
      </if>
      <if test="empTypeName != null" >
        emp_type_name,
      </if>
      <if test="gender != null" >
        gender,
      </if>
      <if test="imageUrl != null" >
        image_url,
      </if>
      <if test="openid != null" >
        openid,
      </if>
      <if test="accountCorpId != null" >
        account_corp_id,
      </if>
      <if test="accountAppType != null" >
        account_app_type,
      </if>
      <if test="ext1 != null" >
        ext1,
      </if>
      <if test="ext2 != null" >
        ext2,
      </if>
      <if test="ext3 != null" >
        ext3,
      </if>
      <if test="ext4 != null" >
        ext4,
      </if>
      <if test="ext5 != null" >
        ext5,
      </if>
      <if test="ext6 != null" >
        ext6,
      </if>
      <if test="ext7 != null" >
        ext7,
      </if>
      <if test="ext8 != null" >
        ext8,
      </if>
      <if test="ext9 != null" >
        ext9,
      </if>
      <if test="ext10 != null" >
        ext10,
      </if>
      <if test="extVersion != null" >
        ext_version,
      </if>
      <if test="ext != null" >
        ext,
      </if>
      <if test="userType != null" >
        user_type,
      </if>
      <if test="userStatus != null" >
        user_status,
      </if>
      <if test="expirationDate != null" >
        expiration_date,
      </if>
      <if test="sort != null" >
        sort,
      </if>
      <if test="delFlag != null" >
        del_flag,
      </if>
      <if test="createTime != null" >
        create_time,
      </if>
      <if test="createUser != null" >
        create_user,
      </if>
      <if test="createUserName != null" >
        create_user_name,
      </if>
      <if test="modifyTime != null" >
        modify_time,
      </if>
      <if test="modifyUser != null" >
        modify_user,
      </if>
      <if test="modifyUserName != null" >
        modify_user_name,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="userKey != null" >
        #{userKey,jdbcType=CHAR},
      </if>
      <if test="userId != null" >
        #{userId,jdbcType=VARCHAR},
      </if>
      <if test="realName != null" >
        #{realName,jdbcType=VARCHAR},
      </if>
      <if test="nickname != null" >
        #{nickname,jdbcType=VARCHAR},
      </if>
      <if test="userPwd != null" >
        #{userPwd,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null" >
        #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="certType != null" >
        #{certType,jdbcType=CHAR},
      </if>
      <if test="certTypeName != null" >
        #{certTypeName,jdbcType=VARCHAR},
      </if>
      <if test="identityCard != null" >
        #{identityCard,jdbcType=VARCHAR},
      </if>
      <if test="birthday != null" >
        #{birthday,jdbcType=TIMESTAMP},
      </if>
      <if test="age != null" >
        #{age,jdbcType=INTEGER},
      </if>
      <if test="nationnality != null" >
        #{nationnality,jdbcType=CHAR},
      </if>
      <if test="nationnalityName != null" >
        #{nationnalityName,jdbcType=VARCHAR},
      </if>
      <if test="nation != null" >
        #{nation,jdbcType=CHAR},
      </if>
      <if test="nationName != null" >
        #{nationName,jdbcType=VARCHAR},
      </if>
      <if test="postions != null" >
        #{postions,jdbcType=CHAR},
      </if>
      <if test="postionsName != null" >
        #{postionsName,jdbcType=VARCHAR},
      </if>
      <if test="positiongrade != null" >
        #{positiongrade,jdbcType=CHAR},
      </if>
      <if test="positiongradeName != null" >
        #{positiongradeName,jdbcType=VARCHAR},
      </if>
      <if test="jobType != null" >
        #{jobType,jdbcType=CHAR},
      </if>
      <if test="jobTypeName != null" >
        #{jobTypeName,jdbcType=VARCHAR},
      </if>
      <if test="empType != null" >
        #{empType,jdbcType=CHAR},
      </if>
      <if test="empTypeName != null" >
        #{empTypeName,jdbcType=VARCHAR},
      </if>
      <if test="gender != null" >
        #{gender,jdbcType=CHAR},
      </if>
      <if test="imageUrl != null" >
        #{imageUrl,jdbcType=VARCHAR},
      </if>
      <if test="openid != null" >
        #{openid,jdbcType=VARCHAR},
      </if>
      <if test="accountCorpId != null" >
        #{accountCorpId,jdbcType=VARCHAR},
      </if>
      <if test="accountAppType != null" >
        #{accountAppType,jdbcType=CHAR},
      </if>
      <if test="ext1 != null" >
        #{ext1,jdbcType=VARCHAR},
      </if>
      <if test="ext2 != null" >
        #{ext2,jdbcType=VARCHAR},
      </if>
      <if test="ext3 != null" >
        #{ext3,jdbcType=VARCHAR},
      </if>
      <if test="ext4 != null" >
        #{ext4,jdbcType=VARCHAR},
      </if>
      <if test="ext5 != null" >
        #{ext5,jdbcType=VARCHAR},
      </if>
      <if test="ext6 != null" >
        #{ext6,jdbcType=VARCHAR},
      </if>
      <if test="ext7 != null" >
        #{ext7,jdbcType=VARCHAR},
      </if>
      <if test="ext8 != null" >
        #{ext8,jdbcType=VARCHAR},
      </if>
      <if test="ext9 != null" >
        #{ext9,jdbcType=VARCHAR},
      </if>
      <if test="ext10 != null" >
        #{ext10,jdbcType=VARCHAR},
      </if>
      <if test="extVersion != null" >
        #{extVersion,jdbcType=CHAR},
      </if>
      <if test="ext != null" >
        #{ext,jdbcType=VARCHAR},
      </if>
      <if test="userType != null" >
        #{userType,jdbcType=CHAR},
      </if>
      <if test="userStatus != null" >
        #{userStatus,jdbcType=CHAR},
      </if>
      <if test="expirationDate != null" >
        #{expirationDate,jdbcType=TIMESTAMP},
      </if>
      <if test="sort != null" >
        #{sort,jdbcType=INTEGER},
      </if>
      <if test="delFlag != null" >
        #{delFlag,jdbcType=CHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUser != null" >
        #{createUser,jdbcType=CHAR},
      </if>
      <if test="createUserName != null" >
        #{createUserName,jdbcType=VARCHAR},
      </if>
      <if test="modifyTime != null" >
        #{modifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyUser != null" >
        #{modifyUser,jdbcType=CHAR},
      </if>
      <if test="modifyUserName != null" >
        #{modifyUserName,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    update sys_user
    <set >
      <if test="userId != null and userId != ''" >
        user_id = #{userId,jdbcType=VARCHAR},
      </if>
      <if test="realName != null and realName != ''" >
        real_name = #{realName,jdbcType=VARCHAR},
      </if>
      <if test="nickname != null and nickname != ''" >
        nickname = #{nickname,jdbcType=VARCHAR},
      </if>
      <if test="userPwd != null and userPwd != ''" >
        user_pwd = #{userPwd,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null and mobile != ''" >
        mobile = #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="email != null and email != ''" >
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="certType != null and certType != ''" >
        cert_type = #{certType,jdbcType=CHAR},
      </if>
      <if test="certTypeName != null and certTypeName != ''" >
        cert_type_name = #{certTypeName,jdbcType=VARCHAR},
      </if>
      <if test="identityCard != null and identityCard != ''" >
        identity_card = #{identityCard,jdbcType=VARCHAR},
      </if>
      <if test="birthday != null" >
        birthday = #{birthday,jdbcType=TIMESTAMP},
      </if>
      <if test="age != null and age != ''" >
        age = #{age,jdbcType=INTEGER},
      </if>
      <if test="nationnality != null and nationnality != ''" >
        nationnality = #{nationnality,jdbcType=CHAR},
      </if>
      <if test="nationnalityName != null and nationnalityName != ''" >
        nationnality_name = #{nationnalityName,jdbcType=VARCHAR},
      </if>
      <if test="nation != null and nation != ''" >
        nation = #{nation,jdbcType=CHAR},
      </if>
      <if test="nationName != null and nationName != ''" >
        nation_name = #{nationName,jdbcType=VARCHAR},
      </if>
      <if test="postions != null and postions != ''" >
        postions = #{postions,jdbcType=CHAR},
      </if>
      <if test="postionsName != null and postionsName != ''" >
        postions_name = #{postionsName,jdbcType=VARCHAR},
      </if>
      <if test="positiongrade != null and positiongrade != ''" >
        positiongrade = #{positiongrade,jdbcType=CHAR},
      </if>
      <if test="positiongradeName != null and positiongradeName != ''" >
        positiongrade_name = #{positiongradeName,jdbcType=VARCHAR},
      </if>
      <if test="jobType != null and jobType != ''" >
        job_type = #{jobType,jdbcType=CHAR},
      </if>
      <if test="jobTypeName != null and jobTypeName != ''" >
        job_type_name = #{jobTypeName,jdbcType=VARCHAR},
      </if>
      <if test="empType != null and empType != ''" >
        emp_type = #{empType,jdbcType=CHAR},
      </if>
      <if test="empTypeName != null and empTypeName != ''" >
        emp_type_name = #{empTypeName,jdbcType=VARCHAR},
      </if>
      <if test="gender != null and gender != ''" >
        gender = #{gender,jdbcType=CHAR},
      </if>
      <if test="imageUrl != null and imageUrl != ''" >
        image_url = #{imageUrl,jdbcType=VARCHAR},
      </if>
      <if test="openid != null and openid != ''" >
        openid = #{openid,jdbcType=VARCHAR},
      </if>
      <if test="accountCorpId != null and accountCorpId != ''" >
        account_corp_id = #{accountCorpId,jdbcType=VARCHAR},
      </if>
      <if test="accountAppType != null and accountAppType != ''" >
        account_app_type = #{accountAppType,jdbcType=VARCHAR},
      </if>
      <if test="ext1 != null and ext1 != ''" >
        ext1 = #{ext1,jdbcType=VARCHAR},
      </if>
      <if test="ext2 != null and ext2 != ''" >
        ext2 = #{ext2,jdbcType=VARCHAR},
      </if>
      <if test="ext3 != null and ext3 != ''" >
        ext3 = #{ext3,jdbcType=VARCHAR},
      </if>
      <if test="ext4 != null and ext4 != ''" >
        ext4 = #{ext4,jdbcType=VARCHAR},
      </if>
      <if test="ext5 != null and ext5 != ''" >
        ext5 = #{ext5,jdbcType=VARCHAR},
      </if>
      <if test="ext6 != null and ext6 != ''" >
        ext6 = #{ext6,jdbcType=VARCHAR},
      </if>
      <if test="ext7 != null and ext7 != ''" >
        ext7 = #{ext7,jdbcType=VARCHAR},
      </if>
      <if test="ext8 != null and ext8 != ''" >
        ext8 = #{ext8,jdbcType=VARCHAR},
      </if>
      <if test="ext9 != null and ext9 != ''" >
        ext9 = #{ext9,jdbcType=VARCHAR},
      </if>
      <if test="ext10 != null and ext10 != ''" >
        ext10 = #{ext10,jdbcType=VARCHAR},
      </if>
      <if test="extVersion != null and extVersion != ''" >
        ext_version = #{extVersion,jdbcType=CHAR},
      </if>
      <if test="ext != null and ext != ''" >
        ext = #{ext,jdbcType=VARCHAR},
      </if>
      <if test="userType != null and userType != ''" >
        user_type = #{userType,jdbcType=CHAR},
      </if>
      <if test="userStatus != null and userStatus != ''" >
        user_status = #{userStatus,jdbcType=CHAR},
      </if>
      <if test="expirationDate != null" >
        expiration_date = #{expirationDate,jdbcType=TIMESTAMP},
      </if>
      <if test="sort != null" >
        sort = #{sort,jdbcType=INTEGER},
      </if>
      <if test="delFlag != null and delFlag != ''" >
        del_flag = #{delFlag,jdbcType=CHAR},
      </if>
      <if test="createTime != null" >
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUser != null and createUser != ''" >
        create_user = #{createUser,jdbcType=CHAR},
      </if>
      <if test="createUserName != null and createUserName != ''" >
        create_user_name = #{createUserName,jdbcType=VARCHAR},
      </if>
      <if test="modifyTime != null" >
        modify_time = #{modifyTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyUser != null and modifyUser != ''" >
        modify_user = #{modifyUser,jdbcType=CHAR},
      </if>
      <if test="modifyUserName != null and modifyUserName != ''" >
        modify_user_name = #{modifyUserName,jdbcType=VARCHAR},
      </if>
    </set>
    where user_key = #{userKey,jdbcType=CHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    update sys_user
    set       user_id = #{userId,jdbcType=VARCHAR},
      real_name = #{realName,jdbcType=VARCHAR},
      nickname = #{nickname,jdbcType=VARCHAR},
      user_pwd = #{userPwd,jdbcType=VARCHAR},
      mobile = #{mobile,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      cert_type = #{certType,jdbcType=CHAR},
      cert_type_name = #{certTypeName,jdbcType=VARCHAR},
      identity_card = #{identityCard,jdbcType=VARCHAR},
      birthday = #{birthday,jdbcType=TIMESTAMP},
      age = #{age,jdbcType=INTEGER},
      nationnality = #{nationnality,jdbcType=CHAR},
      nationnality_name = #{nationnalityName,jdbcType=VARCHAR},
      nation = #{nation,jdbcType=CHAR},
      nation_name = #{nationName,jdbcType=VARCHAR},
      postions = #{postions,jdbcType=CHAR},
      postions_name = #{postionsName,jdbcType=VARCHAR},
      positiongrade = #{positiongrade,jdbcType=CHAR},
      positiongrade_name = #{positiongradeName,jdbcType=VARCHAR},
      job_type = #{jobType,jdbcType=CHAR},
      job_type_name = #{jobTypeName,jdbcType=VARCHAR},
      emp_type = #{empType,jdbcType=CHAR},
      emp_type_name = #{empTypeName,jdbcType=VARCHAR},
      gender = #{gender,jdbcType=CHAR},
      image_url = #{imageUrl,jdbcType=VARCHAR},
      openid = #{openid,jdbcType=VARCHAR},
      account_corp_id = #{accountCorpId,jdbcType=VARCHAR},
      account_app_type = #{accountAppType,jdbcType=CHAR},
      ext1 = #{ext1,jdbcType=VARCHAR},
      ext2 = #{ext2,jdbcType=VARCHAR},
      ext3 = #{ext3,jdbcType=VARCHAR},
      ext4 = #{ext4,jdbcType=VARCHAR},
      ext5 = #{ext5,jdbcType=VARCHAR},
      ext6 = #{ext6,jdbcType=VARCHAR},
      ext7 = #{ext7,jdbcType=VARCHAR},
      ext8 = #{ext8,jdbcType=VARCHAR},
      ext9 = #{ext9,jdbcType=VARCHAR},
      ext10 = #{ext10,jdbcType=VARCHAR},
      ext_version = #{extVersion,jdbcType=CHAR},
      ext = #{ext,jdbcType=VARCHAR},
      user_type = #{userType,jdbcType=CHAR},
      user_status = #{userStatus,jdbcType=CHAR},
      expiration_date = #{expirationDate,jdbcType=TIMESTAMP},
      sort = #{sort,jdbcType=INTEGER},
      del_flag = #{delFlag,jdbcType=CHAR},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      create_user = #{createUser,jdbcType=CHAR},
      create_user_name = #{createUserName,jdbcType=VARCHAR},
      modify_time = #{modifyTime,jdbcType=TIMESTAMP},
      modify_user = #{modifyUser,jdbcType=CHAR},
      modify_user_name = #{modifyUserName,jdbcType=VARCHAR}
    where user_key = #{userKey,jdbcType=CHAR}
  </update>
  <select id="selectBySysUserList" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    select 
    <include refid="Base_Column_List" />
    from sys_user
    where del_flag = '0'
    <if test="userId != null and userId != ''" >
     and user_id = #{userId,jdbcType=VARCHAR}
    </if>
    <if test="realName != null and realName != ''" >
     and real_name like CONCAT('%',#{realName,jdbcType=VARCHAR},'%')
    </if>
    <if test="nickname != null and nickname != ''" >
     and nickname = #{nickname,jdbcType=VARCHAR}
    </if>
    <if test="userPwd != null and userPwd != ''" >
     and user_pwd = #{userPwd,jdbcType=VARCHAR}
    </if>
    <if test="mobile != null and mobile != ''" >
     and mobile = #{mobile,jdbcType=VARCHAR}
    </if>
    <if test="email != null and email != ''" >
     and email = #{email,jdbcType=VARCHAR}
    </if>
    <if test="certType != null and certType != ''" >
     and cert_type = #{certType,jdbcType=CHAR}
    </if>
    <if test="certTypeName != null and certTypeName != ''" >
     and cert_type_name = #{certTypeName,jdbcType=VARCHAR}
    </if>
    <if test="identityCard != null and identityCard != ''" >
     and identity_card = #{identityCard,jdbcType=VARCHAR}
    </if>
    <if test="birthday != null and birthday != ''" >
     and birthday = #{birthday,jdbcType=TIMESTAMP}
    </if>
    <if test="age != null and age != ''" >
     and age = #{age,jdbcType=INTEGER}
    </if>
    <if test="nationnality != null and nationnality != ''" >
     and nationnality = #{nationnality,jdbcType=CHAR}
    </if>
    <if test="nationnalityName != null and nationnalityName != ''" >
     and nationnality_name = #{nationnalityName,jdbcType=VARCHAR}
    </if>
    <if test="nation != null and nation != ''" >
     and nation = #{nation,jdbcType=CHAR}
    </if>
    <if test="nationName != null and nationName != ''" >
     and nation_name = #{nationName,jdbcType=VARCHAR}
    </if>
    <if test="postions != null and postions != ''" >
     and postions = #{postions,jdbcType=CHAR}
    </if>
    <if test="postionsName != null and postionsName != ''" >
     and postions_name = #{postionsName,jdbcType=VARCHAR}
    </if>
    <if test="positiongrade != null and positiongrade != ''" >
     and positiongrade = #{positiongrade,jdbcType=CHAR}
    </if>
    <if test="positiongradeName != null and positiongradeName != ''" >
     and positiongrade_name = #{positiongradeName,jdbcType=VARCHAR}
    </if>
    <if test="jobType != null and jobType != ''" >
     and job_type = #{jobType,jdbcType=CHAR}
    </if>
    <if test="jobTypeName != null and jobTypeName != ''" >
     and job_type_name = #{jobTypeName,jdbcType=VARCHAR}
    </if>
    <if test="empType != null and empType != ''" >
     and emp_type = #{empType,jdbcType=CHAR}
    </if>
    <if test="empTypeName != null and empTypeName != ''" >
     and emp_type_name = #{empTypeName,jdbcType=VARCHAR}
    </if>
    <if test="gender != null and gender != ''" >
     and gender = #{gender,jdbcType=CHAR}
    </if>
    <if test="imageUrl != null and imageUrl != ''" >
     and image_url = #{imageUrl,jdbcType=VARCHAR}
    </if>
    <if test="openid != null and openid != ''" >
     and openid = #{openid,jdbcType=VARCHAR}
    </if>
    <if test="accountCorpId != null and accountCorpId != ''" >
     and account_corp_id = #{accountCorpId,jdbcType=VARCHAR}
    </if>
    <if test="accountAppType != null and accountAppType != ''" >
     and account_app_type = #{accountAppType,jdbcType=CHAR}
    </if>
    <if test="ext1 != null and ext1 != ''" >
     and ext1 = #{ext1,jdbcType=VARCHAR}
    </if>
    <if test="ext2 != null and ext2 != ''" >
     and ext2 = #{ext2,jdbcType=VARCHAR}
    </if>
    <if test="ext3 != null and ext3 != ''" >
     and ext3 = #{ext3,jdbcType=VARCHAR}
    </if>
    <if test="ext4 != null and ext4 != ''" >
     and ext4 = #{ext4,jdbcType=VARCHAR}
    </if>
    <if test="ext5 != null and ext5 != ''" >
     and ext5 = #{ext5,jdbcType=VARCHAR}
    </if>
    <if test="ext6 != null and ext6 != ''" >
     and ext6 = #{ext6,jdbcType=VARCHAR}
    </if>
    <if test="ext7 != null and ext7 != ''" >
     and ext7 = #{ext7,jdbcType=VARCHAR}
    </if>
    <if test="ext8 != null and ext8 != ''" >
     and ext8 = #{ext8,jdbcType=VARCHAR}
    </if>
    <if test="ext9 != null and ext9 != ''" >
     and ext9 = #{ext9,jdbcType=VARCHAR}
    </if>
    <if test="ext10 != null and ext10 != ''" >
     and ext10 = #{ext10,jdbcType=VARCHAR}
    </if>
    <if test="extVersion != null and extVersion != ''" >
     and ext_version = #{extVersion,jdbcType=CHAR}
    </if>
    <if test="ext != null and ext != ''" >
     and ext = #{ext,jdbcType=VARCHAR}
    </if>
    <if test="userType != null and userType != ''" >
     and user_type = #{userType,jdbcType=CHAR}
    </if>
    <if test="userStatus != null and userStatus != ''" >
     and user_status = #{userStatus,jdbcType=CHAR}
    </if>
    <if test="expirationDate != null and expirationDate != ''" >
     and expiration_date = #{expirationDate,jdbcType=TIMESTAMP}
    </if>
    <if test="sort != null and sort != ''" >
     and sort = #{sort,jdbcType=INTEGER}
    </if>
    <if test="createUserName != null and createUserName != ''" >
     and create_user_name = #{createUserName,jdbcType=VARCHAR}
    </if>
    <if test="modifyUserName != null and modifyUserName != ''" >
     and modify_user_name = #{modifyUserName,jdbcType=VARCHAR}
    </if>
    ORDER BY create_time DESC 
  </select>
  <delete id="batchDeleteSysUser" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    <![CDATA[ 
        update sys_user
        set del_flag = '1',
            modify_time=#{param2.modifyTime,jdbcType=TIMESTAMP},
            modify_user=#{param2.modifyUser},
            modify_user_name=#{param2.modifyUserName}
        where user_key in 
     ]]> 
     <foreach collection="param1" item = "model" open="(" separator="," close=")">#{model.userKey} 
     </foreach>
  </delete>
  <!-- 扩展 -->   
  <select id="checkUserExists" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser">
     SELECT
        <include refid="Base_Column_List" />
     FROM sys_user
     where del_flag = '0' 
       <!--  <if test="userKey != null and userKey != ''" >
          and user_key = #{userKey,jdbcType=CHAR}
        </if> -->
        <if test="userId != null and userId != ''" >
          and user_id = #{userId,jdbcType=VARCHAR}
        </if>
        <if test="userPwd != null and userPwd != ''" >
          and user_pwd = #{userPwd,jdbcType=VARCHAR}
        </if>
        <if test="accountCorpId != null and accountCorpId != ''" >
          and account_corp_id = #{accountCorpId,jdbcType=CHAR}
        </if>
        <if test="accountAppType != null and accountAppType != ''" >
          and account_app_type = #{accountAppType,jdbcType=CHAR}
        </if>
  </select>
  <select id="checkUserIdExists" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser">
        SELECT
        <include refid="Base_Column_List" />
        FROM sys_user
        where user_id = #{userId,jdbcType=VARCHAR}
          and account_corp_id = #{accountCorpId,jdbcType=CHAR}
          and account_app_type = #{accountAppType,jdbcType=CHAR}
  </select>
  <select id="checkUserStatusAndType" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
        SELECT
        <include refid="Base_Column_List" />
        FROM sys_user
        where del_flag = '0'
     <!--    <if test="userKey != null and userKey != ''" >
          and user_key = #{userKey,jdbcType=CHAR}
        </if> -->
        <if test="userId != null and userId != ''" >
          and user_id = #{userId,jdbcType=VARCHAR}
        </if>
       <!--  <if test="userPwd != null and userPwd != ''" >
          and user_pwd = #{userPwd,jdbcType=VARCHAR}
        </if> -->
        <if test="accountAppType != null and accountAppType != ''" >
          and user_type = #{accountAppType,jdbcType=VARCHAR}
        </if>
  </select>
  <delete id="deleteUserRoleMapping" parameterType="int">
        DELETE FROM sys_user_role
        WHERE user_id = #{id, jdbcType=INTEGER}
  </delete>
  <insert id="addSysUserRole" parameterType="java.util.List">
        INSERT INTO sys_user_role
        VALUES
        <foreach collection="list" item="item" index="index" separator="," >
            (NULL, #{item.userId}, #{item.roleId})
        </foreach>
  </insert>
  <select id="selectBySysUserListByDepartment" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
        SELECT DISTINCT
            t2.user_key,
            t2.user_id,
            t2.real_name,
            t2.user_pwd,
            t2.mobile,
            t2.email,
			t2.cert_type,
			t2.cert_type_name,
            t2.identity_card,
            t2.birthday,
			t2.age,
			t2.nationnality,
			t2.nationnality_name,
			t2.nation,
			t2.nation_name,
			t2.postions,
			t2.postions_name,
			t2.positiongrade,
			t2.positiongrade_name,
			t2.job_type,
			t2.job_type_name,
			t2.emp_type,
			t2.emp_type_name,
            t2.gender,
            t2.image_url,
            t2.openid,
            t2.account_corp_id,
            t2.account_app_type,
            t2.ext1,
            t2.ext2,
            t2.ext3,
            t2.ext4,
            t2.ext5,
            t2.ext6,
            t2.ext7,
            t2.ext8,
            t2.ext9,
            t2.ext10,
            t2.ext_version,
            t2.ext,
            t2.user_type,
            t2.user_status,
            t2.expiration_date,
            t2.del_flag,
            t2.create_time,
            t2.create_user,
            t2.modify_time,
            t2.modify_user,
            t1.department_id as departmentId
        FROM
            sys_user_department AS t1
        INNER JOIN sys_user AS t2 ON t1.user_key = t2.user_key
        where t1.del_flag = '0' and t2.del_flag = '0'
        <if test="_parameter != null and _parameter.departmentId != null and _parameter.departmentId != ''">
            and t1.department_id = #{_parameter.departmentId} 
        </if>
        <if test="accountCorpId != null and accountCorpId != ''" >
            and account_corp_id = #{accountCorpId,jdbcType=VARCHAR}
        </if>
        <if test="accountAppType != null and accountAppType != ''" >
            and account_app_type = #{accountAppType,jdbcType=VARCHAR}
        </if>
        <if test="_parameter != null and _parameter.search != null and _parameter.search != ''">
            and (real_name like CONCAT('%',#{_parameter.search},'%') 
                or user_id like CONCAT('%',#{_parameter.search},'%') 
                or mobile like CONCAT('%',#{_parameter.search},'%') 
            )
        </if>
        order by t2.sort,t2.real_name
  </select>
  <select id="getSysUserListByCompany" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
       SELECT t1.user_id, t2.company_id as companyId
        FROM sys_user AS t1 inner join sys_user_company t2
        on (t1.user_key = t2.user_key and t1.mobile = 
        (SELECT DISTINCT t3.mobile from sys_user t3 
        where t1.del_flag = '0' and t2.del_flag = '0' and t3.del_flag = '0'
        and t3.user_id = #{userId,jdbcType=VARCHAR}
        and t3.account_corp_id = #{accountCorpId,jdbcType=VARCHAR}
        and t3.account_app_type = #{accountAppType,jdbcType=VARCHAR}
        ))
  </select>
  <!-- 根据手机号、公司获取该用户信息，切换公司使用 -->
  <select id="getSysUserListByCompanyMobile" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
       SELECT
        t.*
        FROM
        sys_user AS t
        INNER JOIN sys_user_department AS t1 ON t.user_key = t1.user_key
        INNER JOIN sys_department AS t2 ON t1.department_id = t2.department_id
        WHERE t.del_flag = '0' 
        and t1.del_flag = '0'
        and t2.del_flag = '0'
        and t2.department_path like CONCAT('%',#{companyId,jdbcType=VARCHAR},'%') 
        and t.mobile = #{mobile,jdbcType=VARCHAR}
  </select>
  <select id="getMemberListByDepartmentId" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
       select 
       distinct t1.*
       from sys_user t1, sys_user_department t2
       where t1.user_key = t2.user_key
       and t1.del_flag = '0'
       and t2.del_flag = '0'
       and t2.department_id = #{departmentId,jdbcType=VARCHAR}
       <if test="ext1 != null and ext1 != ''" >
        and t1.ext1 = #{ext1,jdbcType=VARCHAR}
       </if>
  </select>
  <select id="getUserListByRoleAndCompanyId" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
       select 
       distinct t1.*
       from sys_user t1 
       INNER JOIN sys_user_department t2 on t1.user_key = t2.user_key
       INNER JOIN sys_department t3 on t2.department_id = t3.department_id
       where t1.del_flag = '0' and t2.del_flag = '0' 
       <if test="departmentId != null and departmentId != ''" >
           and t3.department_id = #{departmentId,jdbcType=VARCHAR}
       </if>
       <if test="realName != null and realName != ''" >
           and t1.real_name like CONCAT('%',#{realName,jdbcType=VARCHAR},'%') 
       </if>
       <if test="mobile != null and mobile != ''" >
           and t1.mobile like CONCAT('%',#{mobile,jdbcType=VARCHAR},'%') 
       </if>
       <if test="userId != null and userId != ''" >
           and t1.user_id like CONCAT('%',#{userId,jdbcType=VARCHAR},'%') 
       </if>
       <if test="companyId != null and companyId != ''" >
           and t3.department_path like CONCAT('%',#{companyId,jdbcType=VARCHAR},'%') 
       </if>
       <if test="ext != null and ext != ''" >
        and t1.ext = #{ext,jdbcType=VARCHAR}
       </if>
       <if test="_parameter != null and _parameter.search != null and _parameter.search != ''">
            and (real_name like CONCAT('%',#{_parameter.search},'%') 
                or user_id like CONCAT('%',#{_parameter.search},'%') 
                or mobile like CONCAT('%',#{_parameter.search},'%') 
            )
       </if>
       order by t1.sort,t1.real_name
  </select>
  <select id="selectBySysUserListByProject" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    SELECT
        t1.*
    FROM
        sys_user AS t1
    INNER JOIN sys_user_department AS t2 ON t2.user_key = t1.user_key
        AND t1.del_flag = '0'
        AND t2.del_flag = '0'
    where 1=1
    <if test="userKey != null and userKey != ''" >
     and t2.user_key = #{userKey,jdbcType=CHAR}
    </if>
    <if test="departmentId != null and departmentId != ''" >
     and t2.department_id = #{departmentId,jdbcType=CHAR}
    </if>
    ORDER BY t1.sort, t1.modify_time DESC 
  </select>
  <select id="selectByUserListByProJobType" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
       select 
       distinct t1.*
       from sys_user t1 
       INNER JOIN sys_user_department t2 on t1.user_key = t2.user_key
       INNER JOIN sys_department t3 on t2.department_id = t3.department_id
       where t1.del_flag = '0' and t2.del_flag = '0' 
       and job_type in ('50101','50102','50103')
       <if test="departmentId != null and departmentId != ''" >
           and t3.department_id = #{departmentId,jdbcType=VARCHAR}
       </if>
       <if test="departmentPath != null and departmentPath != ''" >
           and t3.department_path like CONCAT('%', #{departmentPath,jdbcType=VARCHAR}, '%')
       </if>
       <if test="realName != null and realName != ''" >
           and t1.real_name like CONCAT('%',#{realName,jdbcType=VARCHAR},'%') 
       </if>
       <if test="mobile != null and mobile != ''" >
           and t1.mobile like CONCAT('%',#{mobile,jdbcType=VARCHAR},'%') 
       </if>
       <if test="userId != null and userId != ''" >
           and t1.user_id like CONCAT('%',#{userId,jdbcType=VARCHAR},'%') 
       </if>
       <if test="companyId != null and companyId != ''" >
           and t3.department_path like CONCAT('%',#{companyId,jdbcType=VARCHAR},'%') 
       </if>
       <if test="ext != null and ext != ''" >
        and t1.ext = #{ext,jdbcType=VARCHAR}
       </if>
       <if test="_parameter != null and _parameter.search != null and _parameter.search != ''">
            and (real_name like CONCAT('%',#{_parameter.search},'%') 
                or user_id like CONCAT('%',#{_parameter.search},'%') 
                or mobile like CONCAT('%',#{_parameter.search},'%') 
            )
       </if>
       order by t1.sort,t1.real_name
  </select>
      
  <!-- 临时使用，旧oa替换后此方法需要删除 -->
  <select id="tempSyncZjSysInfo" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
        SELECT user_id,user_key
        FROM (
            SELECT m.id as user_key, m.userid as user_id FROM zjyj.base_member m WHERE m.mobile IS NOT NULL AND m.mobile != '' AND LENGTH(m.mobile)= 11
            UNION ALL
            SELECT t2.user_key as user_key, t2.user_id as user_id FROM sys_user t2 WHERE t2.account_app_type = '1'
        ) tbl
        GROUP BY user_id 
        HAVING count(*) = 1
        ORDER BY user_id;
      </select>
      <insert id="tempInsertSyncZjSysInfo" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
        insert into sys_user(user_key,user_id,real_name,user_pwd,mobile,account_corp_id,account_app_type,user_type,user_status,sort,del_flag) 
        (SELECT m.id,m.userid,m.name,'171a64a976dfb9c591d018bc4c03a10f',m.mobile,'zj_qyh','1','1','1',999,'0' from  zjyj.base_member m where m.userid = #{userId,jdbcType=CHAR})
      </insert>
      <insert id="tempInsertSyncZjSysInfoDepartment" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
       insert into sys_user_department (user_department_id,user_key,department_id,del_flag)
     (SELECT DISTINCT t.id,t2.user_key,t.department_id,t.del_flg from zjyj.base_member_department t inner JOIN sys_user t2 on t.user_id = t2.user_id WHERE t2.user_id = #{userId,jdbcType=CHAR})
      </insert>
      <delete id="tempDeleteSyncZjSysInfoDepartment" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
           delete from sys_user_department where user_key = #{userKey,jdbcType=CHAR} 
      </delete>
      <select id="tempSelectSysUser" resultType="int" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
        select count(*) from zjyj.base_member m where m.userid = #{userId,jdbcType=CHAR}
  </select>
      
  <insert id ="bathInsertUserCommon" parameterType="java.util.List" >
     insert into sys_user 
      (
       user_key, user_id, real_name, 
       user_pwd, mobile, identity_card, 
       gender, image_url, openid,account_corp_id,account_app_type, ext1, 
       ext2, ext3, ext4, 
       ext5, ext6, ext7, 
       ext8, ext9, ext10, 
       ext_version, ext, user_type, 
       user_status, expiration_date, del_flag, 
       create_time, create_user, modify_time, 
       modify_user
       )
      values
      <foreach collection ="list" item="item" index= "index" separator=",">
        (
        #{item.userKey,jdbcType=CHAR}, #{item.userId,jdbcType=VARCHAR}, #{item.realName,jdbcType=VARCHAR}, 
        #{item.userPwd,jdbcType=VARCHAR}, #{item.mobile,jdbcType=VARCHAR}, #{item.identityCard,jdbcType=VARCHAR}, 
        #{item.gender,jdbcType=CHAR},#{item.imageUrl,jdbcType=VARCHAR}, #{item.openid,jdbcType=VARCHAR},#{item.accountCorpId,jdbcType=CHAR},
        #{item.accountAppType,jdbcType=CHAR}, #{item.ext1,jdbcType=VARCHAR}, 
        #{item.ext2,jdbcType=VARCHAR}, #{item.ext3,jdbcType=VARCHAR}, #{item.ext4,jdbcType=VARCHAR}, 
        #{item.ext5,jdbcType=VARCHAR}, #{item.ext6,jdbcType=VARCHAR}, #{item.ext7,jdbcType=VARCHAR}, 
        #{item.ext8,jdbcType=VARCHAR}, #{item.ext9,jdbcType=VARCHAR}, #{item.ext10,jdbcType=VARCHAR}, 
        #{item.extVersion,jdbcType=CHAR}, #{item.ext,jdbcType=VARCHAR}, #{item.userType,jdbcType=CHAR}, 
        #{item.userStatus,jdbcType=CHAR}, #{item.expirationDate,jdbcType=TIMESTAMP}, #{item.delFlag,jdbcType=CHAR}, 
        #{item.createTime,jdbcType=TIMESTAMP}, #{item.createUser,jdbcType=CHAR}, #{item.modifyTime,jdbcType=TIMESTAMP}, 
        #{item.modifyUser,jdbcType=CHAR}
        )
     </foreach >
  </insert>
  <select id="selectSysUserListByLikeTree" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    select 
      <include refid="Base_Column_List" />
    from sys_user
    where del_flag = '0'
        and (real_name like CONCAT('%',#{realName,jdbcType=VARCHAR},'%') 
        or user_id like CONCAT('%',#{realName,jdbcType=VARCHAR},'%') 
        or mobile like CONCAT('%',#{realName,jdbcType=VARCHAR},'%') 
    )
  </select>
  <select id="getSysUserListByUserKeyList" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    select 
    <include refid="Base_Column_List" />
    from sys_user
    where del_flag = '0'
    <if test="list != null and list.size > 0">
     and user_key in 
     <foreach collection="list" item = "model" open="(" separator="," close=")">#{model.userKey} 
     </foreach>
    </if>
  </select>
  <select id="selectSysUserListBySync" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
    select 
      <include refid="Base_Column_List" />
    from sys_user
       where 1=1
        <if test="userId != null and userId != ''" >
             and user_id like CONCAT('%',#{userId,jdbcType=VARCHAR},'%')     
        </if>
        <if test="modifyTime != null" >
            and modify_time &gt;= #{modifyTime,jdbcType=TIMESTAMP}
          </if>
  </select>
  
  <update id="batchUpdateSysUser" parameterType="java.util.List">
     <foreach collection="list" item="item" index="index" open="" close="" separator=";" >  
        update sys_user
            <set>
             <!--  user_id = #{userId,jdbcType=VARCHAR},
              real_name = #{realName,jdbcType=VARCHAR},
              nickname = #{nickname,jdbcType=VARCHAR},
              user_pwd = #{userPwd,jdbcType=VARCHAR},
              mobile = #{mobile,jdbcType=VARCHAR},
              email = #{email,jdbcType=VARCHAR},
              cert_type = #{certType,jdbcType=CHAR},
              cert_type_name = #{certTypeName,jdbcType=VARCHAR},
              identity_card = #{identityCard,jdbcType=VARCHAR},
              birthday = #{birthday,jdbcType=TIMESTAMP},
              age = #{age,jdbcType=INTEGER},
              nationnality = #{nationnality,jdbcType=CHAR},
              nationnality_name = #{nationnalityName,jdbcType=VARCHAR},
              nation = #{nation,jdbcType=CHAR},
              nation_name = #{nationName,jdbcType=VARCHAR},
              postions = #{postions,jdbcType=CHAR},
              postions_name = #{postionsName,jdbcType=VARCHAR},
              positiongrade = #{positiongrade,jdbcType=CHAR},
              positiongrade_name = #{positiongradeName,jdbcType=VARCHAR},
              job_type = #{jobType,jdbcType=CHAR},
              job_type_name = #{jobTypeName,jdbcType=VARCHAR},
              emp_type = #{empType,jdbcType=CHAR},
              emp_type_name = #{empTypeName,jdbcType=VARCHAR},
              gender = #{gender,jdbcType=CHAR},
              image_url = #{imageUrl,jdbcType=VARCHAR},
              openid = #{openid,jdbcType=VARCHAR},
              account_corp_id = #{accountCorpId,jdbcType=VARCHAR},
              account_app_type = #{accountAppType,jdbcType=CHAR},
              ext1 = #{ext1,jdbcType=VARCHAR},
              ext2 = #{ext2,jdbcType=VARCHAR},
              ext3 = #{ext3,jdbcType=VARCHAR},
              ext4 = #{ext4,jdbcType=VARCHAR},
              ext5 = #{ext5,jdbcType=VARCHAR},
              ext6 = #{ext6,jdbcType=VARCHAR},
              ext7 = #{ext7,jdbcType=VARCHAR},
              ext8 = #{ext8,jdbcType=VARCHAR},
              ext9 = #{ext9,jdbcType=VARCHAR},
              ext10 = #{ext10,jdbcType=VARCHAR},
              ext_version = #{extVersion,jdbcType=CHAR},
              ext = #{ext,jdbcType=VARCHAR},
              user_type = #{userType,jdbcType=CHAR},
              user_status = #{userStatus,jdbcType=CHAR},
              expiration_date = #{expirationDate,jdbcType=TIMESTAMP}, -->
              sort = #{item.sort,jdbcType=INTEGER},
             <!--  del_flag = #{delFlag,jdbcType=CHAR}, -->
              create_time = #{item.createTime,jdbcType=TIMESTAMP},
              create_user = #{item.createUser,jdbcType=CHAR},
              create_user_name = #{item.createUserName,jdbcType=VARCHAR},
              modify_time = #{item.modifyTime,jdbcType=TIMESTAMP},
              modify_user = #{item.modifyUser,jdbcType=CHAR},
              modify_user_name = #{item.modifyUserName,jdbcType=VARCHAR}
          </set>  
           where user_key = #{item.userKey,jdbcType=CHAR}
      </foreach>  
    </update>
    
  <update id="updateSysUserScoringLeader" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
       <!-- <![CDATA[ ]]> -->
       update sys_user
        <set>    
              ext3 = #{ext3,jdbcType=VARCHAR},
              ext4 = #{ext4,jdbcType=VARCHAR},
        </set>
             where del_flag = 0 AND user_key in
     <foreach collection="userList" item = "model" open="(" separator="," close=")">#{model.userKey} 
     </foreach>
  </update>

  <select id="getScoringLeaderByDepartmentId" resultMap="BaseResultMap" parameterType="com.apih5.framework.api.sysdb.entity.SysUser" >
       select 
             t_leader.leader_id AS ext3,
             t_leader.leader_name AS ext4
       from zj_xm_jx_user_scoring_leader t_leader
       where t_leader.del_flag = '0'
       and t_leader.project_id = #{departmentId,jdbcType=VARCHAR}
       and t_leader.user_key = #{userKey,jdbcType=CHAR}
       limit 1
  </select>
  
</mapper>