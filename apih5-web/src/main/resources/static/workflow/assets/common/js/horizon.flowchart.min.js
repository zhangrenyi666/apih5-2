!function(t,e){var a=navigator.userAgent,n=!!(a.match(/MSIE ([\d.]+)?/)&&+a.match(/MSIE ([\d.]+)?/)[1]<9);"function"==typeof define&&define.amd?define(["jquery",n?"excanvas":null],e):"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),n&&require("excanvas")):e(t.jQuery)}(this,function($){"use strict";var t,e=navigator.userAgent,a=!!e.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),n=!!e.match(/Firefox/i),i=!!e.match(/AppleWebKit/i),o=(e.match(/MSIE ([\d.]+)?/),!!(e.match(/MSIE ([\d.]+)?/)&&+e.match(/MSIE ([\d.]+)?/)[1]<9)),r=["%E6%8","5%20%E4%BD%9","5%A7%20%E6%A","C%20%E","D%A3%20%E5%B7%A","6%B5%81"],s=["T3","m","Jn","Ft","T","ZQ"],c=window.atob||function(t){return f(p(t))},l=eval,d=decodeURIComponent,h=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],p=function(t){var e,a,n,i,o,r,s;for(r=t.length,o=0,s="";o<r;){do{e=h[255&t.charCodeAt(o++)]}while(o<r&&-1==e);if(-1==e)break;do{a=h[255&t.charCodeAt(o++)]}while(o<r&&-1==a);if(-1==a)break;s+=String.fromCharCode(e<<2|(48&a)>>4);do{if(61==(n=255&t.charCodeAt(o++)))return s;n=h[n]}while(o<r&&-1==n);if(-1==n)break;s+=String.fromCharCode((15&a)<<4|(60&n)>>2);do{if(61==(i=255&t.charCodeAt(o++)))return s;i=h[i]}while(o<r&&-1==i);if(-1==i)break;s+=String.fromCharCode((3&n)<<6|i)}return s},f=function(t){var e,a,n,i,o,r;for(e="",n=t.length,a=0;a<n;)switch((i=t.charCodeAt(a++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(a-1);break;case 12:case 13:o=t.charCodeAt(a++),e+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t.charCodeAt(a++),r=t.charCodeAt(a++),e+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&r)<<0)}return e},x={define:"#868686",now:"#FF8600",jump:"#1F76C8",done:"#529208",extended:"#DF3031"},u={drawByEvent:function(t,e,a,n,i){var o=this,r=!1;return $.each(a.data.MapXML.node,function(s,c){var l=o.getImgOption(c,a.positions);if(e.beginPath(),e.fillStyle="rgba(255, 255, 255, 0)",e.rect(l.x,l.y,l.swidth,l.sheight),e.fill(),e.isPointInPath(n.x,n.y)){if(r=!0,"click"===i){var d=a.data._historys;if(a.data.Historys&&!d){var h={};$.each(a.data.Historys,function(t,e){var a=h[e.nodeid]||[];a.push(e),h[e.nodeid]=a}),d=a.data._historys=h}a.fnNodeClick.apply(this,[c,d?d[c.ID]:null])}else"mousemove"===i&&w.showTitle(t,c.Name+"("+c.ID+")",n);return!1}var p=t.find(".flowchart-title");p.length&&p.hide(),e.closePath()}),r},draw:function(t,e){var a=this,n={},i=e.nodeRadius;$.each(e.data.MapXML.node,function(o,r){n[r.ID]=r,a.drawImg(t,r,e),a.drawText(t,r,i)}),e.data._nodes=n},drawNow:function(t,e,a,n){var i=e.data._nodes,o=2,r=0,s=e.nodeRadius;e._interval&&window.clearInterval(e._interval);var c=function(e){var a=i[e],n=parseInt(a.x),r=parseInt(a.y);t.beginPath();var c=t.createRadialGradient(n+s,r+s,s,n+s,r+s,s+o);c.addColorStop(0,"rgba(255, 134, 0, 0.6)"),c.addColorStop(1,"rgba(255, 134, 0, 0.1)"),t.arc(n+s,r+s,s+o,0,2*Math.PI),t.fillStyle=c,t.fill(),t.closePath()},l=function(){t.clearRect(0,0,a,n),t.fillStyle=e.bgColor,t.fillRect(0,0,a,n);var i=e.data.Map.NowNodes.split(";");e.dataParam.nodeId&&-1!=$.inArray(e.dataParam.nodeId,i)?c(e.dataParam.nodeId):$.each(i,function(t,e){e&&c(e)}),r?o--:o++,8===o?r=1:2===o&&(r=0)};e._interval=setInterval(l,100)},drawImg:function(t,e,a){var n=this,i=a._imgs||(a._imgs={}),o=e._nodeType,r=i[o],s=this.getImgOption(e,a.positions),c=a.nodeRadius;t.beginPath(),r&&r.complete?(t.drawImage(r,s.sx,s.sy,s.swidth,s.sheight,s.x,s.y,s.swidth,s.sheight),e._nodeNum&&n.drawNum(t,e,c)):(r=i[o]=new Image,r.setAttribute("data-type",o),r.onload=function(){t.drawImage(r,s.sx,s.sy,s.swidth,s.sheight,s.x,s.y,s.swidth,s.sheight),e._nodeNum&&n.drawNum(t,e,c)},r.src=a.images[o]),t.closePath()},getImgOption:function(t,e){var a={x:parseInt(t.x),y:parseInt(t.y)},n=t.sub&&"1"===t.sub,i=t.Type+(n?"-sub":""),o=e[i];return a.sx=o.x,a.sy=o.y,a.swidth=o.width,a.sheight=o.height,a},drawText:function(t,e,a){var n=e.Name;n=n.length>6?n.substr(0,6)+"...":n,t.beginPath(),t.fillStyle=x[e._nodeType],t.textAlign="center",t.font="12px Microsoft Yahei",t.fillText(n,parseInt(e.x)+a,parseInt(e.y)+2*a+12),t.closePath()},drawNum:function(t,e,a){var n=e._nodeNum.sumnum;t.beginPath(),t.fillStyle="rgba(48, 169, 241, 0.7)";var i=16+8*((n+"").length-1);t.fillRect(parseInt(e.x)+2*a-i/2-1,parseInt(e.y)-6,i,16),t.fillStyle="#FFF",t.textAlign="center",t.font="12px Microsoft Yahei",t.fillText(n,parseInt(e.x)+2*a-1,parseInt(e.y)+6),t.fill(),t.closePath()}},m={getPositions:function(t){for(var e=[],a="100"==t.Type?2:5,n=0;n<a;n++){var i=parseInt(t["x"+(n+1)]),o=parseInt(t["y"+(n+1)]);5==a&&(i+=parseInt(t.x),o+=parseInt(t.y)),e.push({x:i,y:o})}return e},getIntersection:function(t,e,a,n){var i=(t.x-a.x)*(e.y-a.y)-(t.y-a.y)*(e.x-a.x),o=(t.x-n.x)*(e.y-n.y)-(t.y-n.y)*(e.x-n.x);if(i*o>=0)return!1;var r=(a.x-t.x)*(n.y-t.y)-(a.y-t.y)*(n.x-t.x);if(r*(r+i-o)>=0)return!1;var s=r/(o-i),c=s*(e.x-t.x),l=s*(e.y-t.y);return{x:t.x+c,y:t.y+l}},drawByEvent:function(t,e,a,n){var i=this,o=[],r=!1;return $.each(a.data.MapXML.line,function(s,c){var l=c._positions;if(r=i.drawText(e,c,a.data._lines,a.nodeRadius,n),!r&&e.isPointInStroke&&((r=i.drawLine(e,l,o,n))||(r=i.drawArrow(e,l,a.nodeRadius,n))),r)return w.showTitle(t,c.Name,n),!1;var d=t.find(".flowchart-title");d.length&&d.hide()}),r},draw:function(t,e){var a=this,n=[];e.data._lines={},$.each(e.data.MapXML.line,function(i,o){var r=o.fromID+"-"+o.toID,s=a.getPositions(o);o._positions=s,e.data._lines[r]=o,a.drawLine(t,s,n),a.drawArrow(t,s,e.nodeRadius),a.drawText(t,o,e.data._lines,e.nodeRadius)})},drawLine:function(t,e,a,n){var i=this,o=!1;t.strokeStyle=n?"rgba(255, 255, 255, 0)":"#979797",t.lineWidth=2,t.beginPath(),t.moveTo(e[0].x,e[0].y);var r=e.length;if(2==r)t.lineTo(e[1].x,e[1].y);else{t.lineJoin="round";for(var s=a.slice(0),c=1;c<r;c++){var l=e[c-1].x,d=e[c-1].y,h=e[c].x,p=e[c].y;if(a.push({x1:l,y1:d,x2:h,y2:p}),s.length){var f=[];$.each(s,function(t,e){var a=e.x1,n=e.y1,o=e.x2,r=e.y2,s=i.getIntersection({x:l,y:d},{x:h,y:p},{x:a,y:n},{x:o,y:r});s&&f.push(s)});f.length&&(f.sort(function(t,e){return t.y===p?l>t.x?-(t.x-e.x):t.x-e.x:d>t.y?-(t.y-e.y):t.y-e.y}),$.each(f,function(e,a){a.y===p?l>a.x?(t.lineTo(a.x+8,a.y),t.quadraticCurveTo(a.x,a.y-10,a.x-8,a.y)):(t.lineTo(a.x-8,a.y),t.quadraticCurveTo(a.x,a.y-10,a.x+8,a.y)):d>a.y?(t.lineTo(a.x,a.y+8),t.quadraticCurveTo(a.x+10,a.y,a.x,a.y-8)):(t.lineTo(a.x,a.y-8),t.quadraticCurveTo(a.x-10,a.y,a.x,a.y+8))}))}t.lineTo(h,p)}}return t.stroke(),n&&(o=t.isPointInStroke(n.x,n.y)),t.closePath(),o},drawArrow:function(t,e,a,n){var i=!1,o=e.length,r=e[o-2].x,s=e[o-2].y,c=e[o-1].x,l=e[o-1].y;if(2==o)if(Math.max(s,l)-Math.min(s,l)>Math.max(r,c)-Math.min(r,c)){var d=(Math.max(r,c)-Math.min(r,c))/Math.max(Math.max(s,l)-Math.min(s,l),1)*a;c=c>r?c-d:c<r?c+d:c,l=l>s?l-a:l<s?l+a:l}else{var h=(Math.max(s,l)-Math.min(s,l))/Math.max(Math.max(r,c)-Math.min(r,c),1)*a;l<h?l=l>s?l-a:l<s?l+a:l:(c=c>r?c-a:c<r?c+a:c,l=l>s?l-h:l<s?l+h:l)}else c<r&&(c-=6);var p=Math.atan((l-s)/(c-r));return p+=(c>=r||5==o&&c>=r?90:-90)*Math.PI/180,t.fillStyle=n?"rgba(255, 255, 255, 0)":"#868686",t.save(),t.beginPath(),t.translate(c,l),t.rotate(p),t.moveTo(0,0),t.lineTo(6,12),t.lineTo(-6,12),t.fill(),n&&(i=t.isPointInStroke(n.x,n.y)||t.isPointInPath(n.x,n.y)),t.closePath(),t.restore(),i},drawText:function(t,e,a,n,i){var r,s,c,l,d,h=!1;if(e._rotate)r=e._translate.x,s=e._translate.y,c=e._rotate,l=e._name,d=e._nameWidth;else{var p=e._positions,f=p.length,x=p[0].x,u=p[0].y,m=p[1].x,g=p[1].y;if(5==f)for(var y=0,v=0;v<f-1;v++){var w=p[v],b=p[v+1],M=Math.max(Math.max(w.x,b.x)-Math.min(w.x,b.x),Math.max(w.y,b.y)-Math.min(w.y,b.y));M>y&&(y=M,x=w.x,u=w.y,m=b.x,g=b.y)}if(r=Math.min(x,m)+(Math.max(x,m)-Math.min(x,m))/2,s=Math.min(u,g)+(Math.max(u,g)-Math.min(u,g))/2,e._translate={x:r,y:s},l=e.Name,o)l.length>6&&(l=l.substring(0,6)+"...");else{c=Math.atan((g-u)/(m-x));var I=Math.sqrt(Math.pow(m-x,2)+Math.pow(g-u,2));e._rotate=c,e._distance=I,d=I-Math.sqrt(Math.pow(2*n,2)+Math.pow(2*n,2)),l.length>d/12&&(l=l.substring(0,Math.max(d/12-1,1))+"...")}e._name=l;var P=$('<span style="display:inline-block;font-size: 12px;font-family: Microsoft Yahei;">'+l+"</span>");$("body").append(P),d=P.width(),P.remove(),e._nameWidth=d}return t.save(),t.beginPath(),t.translate(r,s),o||t.rotate(c),i?(t.fillStyle="rgba(254, 255, 255, 0)",t.rect(0-d/2,5==f?2:a[e.toID+"-"+e.fromID]?2:-14,d,12),t.fill(),h=t.isPointInPath(i.x,i.y)):(t.fillStyle="#868686",t.textAlign="center",t.font="12px Microsoft Yahei",t.fillText(l,0,5==f?12:a[e.toID+"-"+e.fromID]?12:-4)),t.closePath(),t.restore(),h}},g={draw:function(t,e,a,n){var i=e.data.MapXML.ZND.fx,o=0,r=0;$.each(e.data.MapXML.ZND.rect,function(e,s){t.fillStyle="#999999",t.textAlign="center",t.font="14px Microsoft Yahei","0"===i?(n=parseInt(s.rHeight),t.beginPath(),0===e&&t.fillRect(o,r,a,1),t.fillRect(o,r,1,n),t.fillRect(o,r+n-1,a,1),t.fillRect(a-1,r,1,n),t.closePath(),t.save(),t.translate(40,e?r:r+1),t.rotate(90*Math.PI/180),t.beginPath(),t.fillRect(0,-1,n-1,1),t.fillStyle="#F3F3F3",t.fillRect(0,0,e?n-1:n-2,39),t.fillStyle="#868686",t.fillText(s.name,n/2,26),t.closePath(),t.restore(),r+=n):(a=parseInt(s.rHeight),o+=a,t.beginPath(),0===e&&t.fillRect(0,r,1,n),t.fillRect(o-a,r,a,1),t.fillRect(o-1,r,1,n),t.fillRect(o-a,n-1,a,1),t.fillRect(o-a,40,a,1),t.fillStyle="#F3F3F3",t.fillRect(0===e?o-a+1:o-a,1,e?a-1:a-2,39),t.fillStyle="#868686",t.fillText(s.name,o-a/2,26),t.closePath())})}},y=function(e,a){var n="string"==typeof t?t:"";if(!n||!n.replace(/ /g,"").length){if("object"!=typeof r)return!1;$.each([0,0,0,0,0,0],function(t){n+=r[t>2?2*t-5:2*t]}),n=d(n)}var i=a.data("flowchart-content-option"),o=i.contentWidth,s=i.contentHeight,c=100;return n.length>o/c&&(c=o/n.length),e.beginPath(),e.fillStyle="#f2f2f2",e.textAlign="center",e.font=c+"px Microsoft Yahei",e.fillText(n,o/2,s/2+(c/2-10)),e.fill(),e.closePath(),!0},v=function(e){var a="";if($.each([0,0,0,0,0,0],function(t){a+=s[t>2?2*t-5:2*t]}),a=c(a)){$.each([0,0],function(t){e=c(e.replace(/[\n\r]/g,""))}),e=d(e);var n=l("["+e+"]")[0];return t=n[a]||"",delete n[a],n}},w={css:{position:{position:"absolute",zIndex:99},others:{background:"#FFF",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.3)",borderRadius:"2px",padding:"5px"}},getTemplate:function(t){var e;switch(t){case"operate-list":e=$("<ul></ul>"),e.css($.extend({listStyle:"none",margin:0,border:o?"1px solid #ccc":""},this.css.others));break;case"operate-a":e=$('<a tabindex="-1" href="javascript:void(0)"></a>'),e.css({padding:0,margin:"0 3px",outline:"none",fontSize:"16px",fontWeight:"bold",lineHeight:"22px",color:"#555555",border:"none",textDecoration:"none",textAlign:"center"});break;case"hr":e=$("<hr/>"),e.css({border:"none",borderTop:"1px solid #CCC",margin:"5px 0"});break;case"vr":e=$("<span></span>"),e.css({height:"18px",borderRight:"1px solid #CCC",margin:"0 5px"});break;case"dynamicdemo":e=$('<div class="flowchart-dynamicdemo" data-move="false"></div>'),e.css({position:"absolute",zIndex:100,left:0,top:0,bottom:0,right:0,background:"rgba(255, 255, 255, 0)"});break;case"dynamicdemo-move":e=$(['<div class="dynamicdemo-move">','<span class="move-user"></span>','<span class="move-plane"></span>',"</div>"].join("")),e.css({position:"absolute",backgroundColor:"orange",color:"#4CA6D7",borderRadius:"100%",display:"none",textAlign:"center"});break;case"status":e=$("<span></span>"),e.css({width:"15px",height:"15px",display:"inline-block",borderRadius:"100%",margin:"0 2px"});break;case"title":e=$('<div class="flowchart-title" ></div>'),e.css({position:"absolute",zIndex:98,fontSize:"12px",backgroundColor:"#FFF",padding:"5px 10px",border:o?"1px solid #ccc":"",borderRadius:"2px",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.3)",wordBreak:"break-all"});break;case"exceptNodes":e=$('<div class="flowchart-exceptnodes-container"><div></div></div>'),e.css({position:"absolute",zIndex:100,left:0,top:0,bottom:0,right:0,background:"rgba(255, 255, 255, 0)"}).children().css({padding:"5px",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.3)",background:"rgba(255, 255, 255, 0.9)",margin:"10px",borderRadius:"3px",border:o?"1px solid #ccc":""})}return e},showDynamicDemo:function(t,e){if(e.data.Historys){var a=t.find(".flowchart-dynamicdemo"),n=e.iconType,i=e.icon[n];if(!a.length){a=this.getTemplate("dynamicdemo");var o=e.data._nodes,r=this.getTemplate("dynamicdemo-move");if(i.dynamicMoveUser&&i.dynamicMovePlane){r.css({background:"none"}).children(".move-user").append(i.dynamicMoveUser).end().children(".move-plane").append(i.dynamicMovePlane);var s=0;i.dynamicMovePlane.indexOf("plane")&&("bootstrap"===n?s=90:"font-awesome"===n&&(s=45)),s&&r.children(".move-plane").children().css("transform","rotate("+s+"deg)")}var c=0,l=e.nodeRadius;$.each(e.data.Historys,function(t,n){if(n.nextnodeids){var i=n.nodeid,s=n.nextnodeids.split(";");$.each(s,function(t,n){if(n){var s=r.clone(),d=n,h=[],p={x:parseInt(o[i].x)+l,y:parseInt(o[i].y)+l},f={x:parseInt(o[d].x)+l,y:parseInt(o[d].y)+l};if(h.push(p),e.data._lines){var x=e.data._lines[i+"-"+d];if(x){var u=x._positions,m=180*x._rotate/Math.PI;p.x>f.x&&(m+=180),s.children(".move-plane").css({transform:"rotate("+m+"deg)"}),5===u.length&&(h=h.concat(u))}}h.push(f),s.attr({"data-start":i,"data-end":d,"data-step":c}).data("routes",h),a.append(s)}}),c++}}),t.append(a)}"true"!==a.attr("data-move")&&(a.show().attr("data-move","true"),this.dynamicDemoMove(t,0))}},dynamicDemoMove:function(t,e){var a=this,n=t.find(".flowchart-dynamicdemo"),i=n.children('.dynamicdemo-move[data-step="'+e+'"]'),o=t.data("flowchart-content-option");e++;i.each(function(r){var s=$(this),c=s.data("routes"),l=c.length,d=o.scale,h=o.translate;s.css({width:20*d+"px",height:20*d+"px",lineHeight:20*d+"px",fontSize:20*d+"px",textShadow:"black "+4*d+"px "+2*d+"px "+2*d+"px",left:(c[0].x-10+h.x)*d,top:(c[0].y-10+h.y)*d}).show().children(".move-user").show().end().children(".move-plane").hide();var p=0;l>2&&$.each(c,function(t){if(t>0){var e=c[t-1].x,a=c[t-1].y,n=c[t].x,i=c[t].y,o=n-e,r=i-a;p+=Math.pow(o*o+r*r,.5)}}),setTimeout(function(){$.each(c,function(o){if(o>0){var f=1500;if(l>2){var x=c[o-1].x,u=c[o-1].y,m=c[o].x,g=c[o].y,y=m-x,v=g-u;f=Math.pow(y*y+v*v,.5)/p*1500}s.children(".move-user").hide().end().children(".move-plane").css("display","inline-block").end().animate({left:(c[o].x-10+h.x)*d,top:(c[o].y-10+h.y)*d},f,function(){if(!(l-1>o)){var c;i.length-1===r&&(c=n.children('.dynamicdemo-move[data-step="'+e+'"]')),s.children(".move-user").show().end().children(".move-plane").hide(),c&&c.length?(s.hide(),a.dynamicDemoMove(t,e)):i.length-1===r?setTimeout(function(){n.hide().attr("data-move","false"),s.hide()},500):s.hide()}})}})},500)})},addZoom:function(t,e){var n=$('<div class="flowchart-zoom-controls"></div>'),i=e.icon[e.iconType],r=e.lang;n.css($.extend({bottom:"10px",right:"10px"},this.css.position));var s=this.getTemplate("operate-list").css("text-align","center"),c=this.getTemplate("operate-a"),l=s.clone().addClass("flowchart-zoom-reset"),d=c.clone();if(d.html(i.reset).attr("title",r.reset),n.append(l.append(d)),d.on(a?"touchend":"click",function(){t.trigger("flowchart:zoom.reset")}).wrap("<li></li>"),!o){l.css("marginBottom","10px");var h=s.clone().addClass("flowchart-zoom"),p=c.clone(),f=c.clone(),x=this.getTemplate("hr");p.html(i.zoomIn).attr("title",r.zoomIn),f.html(i.zoomOut).attr("title",r.zoomOut),h.append(p).append(x).append(f),n.append(h),p.on(a?"touchend":"click",function(){t.trigger("flowchart:zoom.in")}).wrap("<li></li>"),f.on(a?"touchend":"click",function(){t.trigger("flowchart:zoom.out")}).wrap("<li></li>"),x.wrap("<li></li>")}t.append(n)},addTools:function(t,e){var n=this,i=e.tools,r=e.icon[e.iconType],s=e.lang,c=$('<div class="flowchart-tools-container"></div>');c.css($.extend({bottom:"10px",left:"10px"},this.css.position));var l=this.getTemplate("operate-list"),d=this.getTemplate("operate-a"),h=this.getTemplate("vr"),p=l.clone();if(c.append(p),i.dynamicDemo){var f=d.clone();f.html(r.dynamicDemo).attr("title",s.dynamicDemo),p.append(f),f.wrap('<li style="display: inline-block;"></li>'),f.on(a?"touchend":"click",function(a){n.showDynamicDemo(t,e)})}if(i.exportImg&&!o){if(p.children().length){var u=h.clone();p.append(u),u.wrap('<li style="display: inline-block;"></li>')}var m=d.clone().addClass("flowchart-exportimg");m.attr("title",s.exportImg).html(r.exportImg),p.append(m),m.wrap('<li style="display: inline-block;"></li>'),m.on(a?"touchend":"click",function(){t.trigger("flowchart:exportimg")})}if(i.exceptNodes){if(p.children().length){var u=h.clone();p.append(u),u.wrap('<li style="display: inline-block;"></li>')}var g=d.clone().addClass("flowchart-exceptnodes");g.attr("title",s.exceptNodes).html(r.exceptNodes),p.append(g),g.wrap('<li style="display: inline-block;"></li>'),g.on(a?"touchend":"click",function(){n.showExceptNodes(t,e)})}if(i.status){if(p.children().length){var u=h.clone();p.append(u),u.wrap('<li style="display: inline-block;"></li>')}var y=this.getTemplate("status"),v=$('<li style="display: inline-block;vertical-align: middle;"></li>');if(e.data.Map&&$.each(e.data.Map,function(t,e){if(e&&e.length){var a=t.replace("Nodes","").toLowerCase(),n=y.clone();x[a]&&(n.css("background",x[a]).attr("title",s[a]),v.append(n))}}),0<e.data.MapXML.node.length){var w=y.clone();w.css("background",x.define).attr("title",s.define),v.append(w)}p.append(v)}p.children().length&&t.append(c)},showExceptNodes:function(t,e){var n=t.find(".flowchart-exceptnodes-container");n.length?n.show():(n=this.getTemplate("exceptNodes"),$.each(e.data._nodeNums,function(t,i){var o=$('<button type="button">'+i.nodename+" ["+i.sumnum+"]</button>");o.css({margin:"3px 6px",padding:"6px 12px",border:"1px solid #ccc",borderRadius:"3px",background:"#FFF"}),n.children().append(o),e.fnNodeClick&&o.on(a?"touchend":"click",function(t){e.fnNodeClick.apply(this,[i])})}),t.append(n),n.on(a?"touchend":"click",function(){n.hide()}))},showTitle:function(t,e,a){var n=t.find(".flowchart-title");n.length||(n=this.getTemplate("title"),t.append(n));var i=a.x+10,o=a.y+15;t.width()-a.x<125&&(i-=125-(t.width()-a.x)),n.css({left:i,top:o}).html(e).show()},showPosition:function(t,e,a){var n=t.data("flowchart-content-option");t.css("cursor","crosshair");var i=t.find(".flowchart-position");i.length||(i=$('<div class="flowchart-position"><div class="x" style="width:100%; border-top: 2px dashed #ccc;left: 0;right: 0;position: absolute;z-index:100;"></div><div class="y" style="height:100%; border-left: 2px dashed #ccc;top: 0;bottom: 0;position: absolute;z-index:100;"></div><div class="text" style="position: absolute;font-size: 12px;z-index:100;"></div></div>'),t.append(i));var o=a.x+10,r=a.y+15;i.find(".x").css("top",a.y-1).siblings(".y").css("left",a.x-1).siblings(".text").css({left:a.x+10,top:a.y-20}).html(parseInt(o/n.scale)+", "+parseInt(r/n.scale)),i.show()}},b={addEvent:function(t,e,a,n){t.addEventListener?t.addEventListener(e,a,n):t.attachEvent?t.attachEvent("on"+e,a):t["on"+e]=a},getEventPosition:function(t){var e,a;if(o&&t.srcElement){var n="image"==t.srcElement.tagName?$(t.srcElement).parent()[0]:t.srcElement;e=t.offsetX+n.offsetLeft,a=t.offsetY+n.offsetTop}else if(t.offsetX||0==t.offsetX)e=t.offsetX,a=t.offsetY;else if(t.layerX||0==t.layerX)e=t.layerX,a=t.layerY;else if(t.targetTouches&&t.targetTouches.length){var i=t.targetTouches[0];e=i.clientX,a=i.clientY}return{x:e,y:a}},getPositionInCanvas:function(t,e,a){var n=this.getEventPosition(t);return n.x||(n.x=25),n.y||(n.y=25),{x:parseInt(n.x/e)-a.x,y:parseInt(n.y/e)-a.y}},init:function(t,e){if(e.url){var a=this;$.ajax({dataType:"text",url:e.url,data:e.dataParam,cache:!1,success:function(n){e.data=v(n),a.load(t,e)}})}},initVmlCanvas:function(t){t=G_vmlCanvasManager.initElement(t);var e=10,a=Math,n=a.round,i=t.getContext(),o=function(t,a,n){var i=t.m_;return{x:e*(a*i[0][0]+n*i[1][0]+i[2][0])-5,y:e*(a*i[0][1]+n*i[1][1]+i[2][1])-5}};return i.drawImage=function(t,i){var r,s,c,l,d,h,p,f,x=t.runtimeStyle.width,u=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var m=t.width,g=t.height;if(t.runtimeStyle.width=x,t.runtimeStyle.height=u,3==arguments.length)r=arguments[1],s=arguments[2],d=h=0,p=c=m,f=l=g;else if(5==arguments.length)r=arguments[1],s=arguments[2],c=arguments[3],l=arguments[4],d=h=0,p=m,f=g;else{if(9!=arguments.length)throw Error("Invalid number of arguments");d=arguments[1],h=arguments[2],p=arguments[3],f=arguments[4],r=arguments[5],s=arguments[6],c=arguments[7],l=arguments[8]}var y=o(this,r,s),v=[];if(v.push(" <g_vml_:group",' coordsize="',100,",",100,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var w=[];w.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",n(y.x/e),",","Dy=",n(y.y/e),"");var b=y,M=o(this,r+c,s),I=o(this,r,s+l),P=o(this,r+c,s+l);b.x=a.max(b.x,M.x,I.x,P.x),b.y=a.max(b.y,M.y,I.y,P.y),v.push("padding:0 ",n(b.x/e),"px ",n(b.y/e),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",w.join(""),", sizingmethod='clip');")}else v.push("top:",n(y.y/e),"px;left:",n(y.x/e),"px;");v.push(' ">',"<g_vml_:image ",' style="background:url(',t.src,") no-repeat ",-d,"px ",-h,"px;"," width:",e*c,"px;"," height:",e*l,'px"',' cropleft="',d/m,'"',' croptop="',h/g,'"',' cropright="',(m-d-p)/m,'"',' cropbottom="',(g-h-f)/g,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",v.join(""))},i.isPointInPath=function(t,a){var n=i.m_,o={x:e*(t*n[0][0]+a*n[1][0]),y:e*(t*n[0][1]+a*n[1][1])},r=this.currentPath_,s=r[0],c=r[2];return o.x>=s.x&&o.x<=c.x&&o.y>=s.y&&o.y<=c.y},t},load:function(t,e){var a=this;a.convertData(t,e),a.addContainerStyle(t,e);var i=a.createCanvas(t,e);if(i){if($.each(i,function(e,a){t.append(a),o&&(a.width=a.width,a.height=a.height)}),"chart"===e.type){var r=a.draw(i,t,e);if(e.data._nodeNums&&(e.tools||(e.tools={}),e.tools.exceptNodes=!0),!r)return;a.bindEvent(i,t,e),w.addZoom(t,e),$.each(e.tools,function(a,n){if(n)return w.addTools(t,e),!1})}else{var r=a.drawForImage(i.main,t,e);if(o||!r)return;if(n)setTimeout(function(){var e=$('<img style="width:100%;" src="'+i.main.toDataURL("image/png")+'"/>');t.append(e).children("canvas").remove()},100);else{var s=$('<img style="width:100%;" src="'+i.main.toDataURL("image/png")+'"/>');t.append(s).children("canvas").remove()}}"function"==typeof e.fnAfterSuccess&&e.fnAfterSuccess.apply(this,[e.data])}},convertData:function(t,e){var a=e.data.MapXML,n=e.data.Map,i=e.nodeRadius,o=[],r=[],s=[],c=[],l=[],d=[],h={};if(n){e.data.Historys&&(o=n.NowNodes||[],"string"==typeof o&&(o=o.split(";")),r=n.JumpNodes||[],"string"==typeof r&&(r=r.split(";")),s=n.DoneNodes||[],"string"==typeof s&&(s=s.split(";")),"string"==typeof(c=n.ExtendedNodes||[])&&(c=c.split(";")));var p=n.InstanceNums||[];p&&p.length&&$.each(p,function(t,e){h[e.nodeid]=e})}if($.each(a.node,function(t,e){var a=e.ID,n="define";-1!==$.inArray(a,c)?n="extended":-1!==$.inArray(a,o)?n="now":-1!==$.inArray(a,r)?n="jump":-1!==$.inArray(a,s)&&(n="done"),e._nodeType=n,e._nodeNum=h[a],delete h[a],l.push(parseInt(e.x)+2*i+16),d.push(parseInt(e.y)+2*i+16)}),$.isEmptyObject(h)||(e.data._nodeNums=h),$.each(a.line,function(t,e){-1!=e.Name.indexOf("(")&&(e.Name=e.Name.substring(0,e.Name.lastIndexOf("(")));for(var a="100"==e.Type?2:5,n=0;n<a;n++){var i=parseInt(e["x"+(n+1)]),o=parseInt(e["y"+(n+1)]);5==a&&(i+=parseInt(e.x),o=o+parseInt(e.y)+28),l.push(i),d.push(o)}}),a.ZND&&a.ZND.rect.length){var f=0;$.each(a.ZND.rect,function(t,e){f+=parseInt(e.rHeight)}),"0"===a.ZND.fx?d.push(f):l.push(f)}l.sort(function(t,e){return e-t}),d.sort(function(t,e){return e-t});var x={contentWidth:Math.max(l[0],980),contentHeight:Math.max(d[0],200),mousedown:!1};t.data("flowchart-content-option",x)},addContainerStyle:function(t,e){var a={overflow:"auto"},n=t.data("flowchart-content-option"),i=n.contentWidth,o=n.contentHeight;if("chart"===e.type&&(a={overflow:"hidden",padding:0},"static"===t.css("position")&&(a.position="relative"),$.each(e.tools,function(t,e){if(e)return o+=44,!1})),e.width){var r=e.width;"auto"===r?r=i:"function"==typeof r&&(r=e.width()),a.width=r}if(e.height){var s=e.height;"auto"===s?s=o:"function"==typeof s&&(s=e.height()),a.height=s}t.addClass("flowchart-container").css(a)},createCanvas:function(t,e){var n=this,i=t.data("flowchart-content-option"),r=i.contentWidth,s=i.contentHeight,c={main:document.createElement("canvas"),operate:document.createElement("canvas")};if("chart"===e.type){e.data.MapXML;if(e.canvasWidth){var l=e.canvasWidth;"auto"===l?l=r:"function"==typeof l&&(l=e.canvasWidth()),r=Math.max(r,l)}if(e.canvasHeight){var d=e.canvasHeight;"auto"===d?d=s:"function"==typeof d&&(d=e.canvasHeight()),s=Math.max(s,d)}a&&(r=Math.min(r,1500),s=Math.min(s,1500));e.data.Map&&e.data.Map.NowNodes&&e.data.Map.NowNodes.length&&(c.now=document.createElement("canvas"))}return $.each(c,function(e,a){if(o){if("undefined"==typeof G_vmlCanvasManager)return c=null,t.html("<p>当前浏览器不支持canvas</p>"),!1;n.initVmlCanvas(a)}a.width=r,a.height=s,a.ctx=a.getContext("2d"),"main"==e?$(a).css({position:"absolute",zIndex:97}):"operate"==e&&$(a).css({position:"absolute",zIndex:98})}),c},bindEvent:function(t,e,r){var s=this;s.addEvent(t.operate,"click",function(a){var n=e.data("flowchart-content-option");if(n.drawFree){var i=s.getPositionInCanvas(a,n.scale,n.translate);s.drawFree(t.operate,e,i,r),"function"==typeof r.fnFreeNodeClick&&r.fnFreeNodeClick.apply(this,[{x:i.x-25,y:i.y-25}])}else"function"==typeof r.fnNodeClick&&u.drawByEvent(e,t.operate.ctx,r,s.getEventPosition(a),"click")}),s.addEvent(t.operate,a?"touchmove":"mousemove",function(a){if(!("touchmove"===a.type&&a.targetTouches.length>1)){var o=e.data("flowchart-content-option");if(o.drawFree){var c=s.getPositionInCanvas(a,o.scale,o.translate);s.drawFree(t.operate,e,c,r)}else if(o.mousedown){var l=i?"-webkit-grabbing":n?"-moz-grabbing":"move",d=s.getEventPosition(a);$(t.operate).css("cursor",l);var h=o.mousePosition,p=o.translate;p.x+=d.x-h.x,p.y+=d.y-h.y,o.mousePosition=d,s.draw(t,e,r);var f=e.find(".flowchart-title");f.length&&f.hide()}else s.drawByEvent(e,t.operate.ctx,r,s.getEventPosition(a),"mousemove");a&&a.preventDefault&&a.preventDefault()}}),a&&(s.addEvent(t.operate,"gesturestart",function(t){e.data("flowchart-content-option").escale=1,t.preventDefault()}),s.addEvent(t.operate,"gesturechange",function(a){var n=e.data("flowchart-content-option"),i=(n.mousePosition,n.scale),o=a.scale;i+=o-n.escale,n.scale=Math.min(Math.max(i,.1),3),s.draw(t,e,r),n.escale=o,a.preventDefault()})),s.addEvent(t.operate,a?"touchstart":"mousedown",function(a){var o=e.data("flowchart-content-option");if(2===a.button||o.drawFree)return!1;var r=s.getEventPosition(a);o.mousedown=!0,o.mousePosition=r;var c=i?"-webkit-grab":n?"-moz-grab":"move";$(t.operate).css("cursor",c)}),s.addEvent(t.operate,a?"touchend":"mouseup",function(a){e.data("flowchart-content-option").mousedown=!1,$(t.operate).css("cursor","")}),o?s.addEvent(t.operate,"contextmenu",function(t){return!1}):(a||(s.addEvent(t.operate,n?"DOMMouseScroll":"mousewheel",function(a){a=a||window.event;var n=a.wheelDelta||a.detail,i=e.data("flowchart-content-option"),o=i.scale;if(!(.1===o&&n>0||3===o&&n<0)){if(i.scale=parseFloat((n>0?o-=.1:o+=.1).toFixed(1)),s.draw(t,e,r),i.drawFree){var c=s.getPositionInCanvas(a,i.scale,i.translate);s.drawFree(t.operate,e,c,r)}var l=e.find(".flowchart-title");l.length&&l.hide()}}),$("body").on(n?"DOMMouseScroll":"mousewheel",function(e){return e=e||window.event,!$(e.target).is(t.operate)})),e.on("flowchart:zoom.in",function(){var a=e.data("flowchart-content-option"),n=a.scale;3!==n&&(a.scale=parseFloat((n+=.1).toFixed(1)),s.draw(t,e,r))}).on("flowchart:zoom.out",function(){var a=e.data("flowchart-content-option"),n=a.scale;.1!==n&&(a.scale=parseFloat((n-=.1).toFixed(1)),s.draw(t,e,r))}),e.on("flowchart:exportimg",function(){var t=e.find(".flowchart-exportimg-container");if(t.length)return t.show(),void(r.downloadUrl&&t.find("form")[0].submit());var a=e.data("flowchart-content-option"),n=a.contentWidth,i=a.contentHeight,o=$('<canvas width="'+n+'" height="'+i+'"></canvas>');o[0].ctx=o[0].getContext("2d"),s.drawForImage(o[0],e,r);var c=o[0].toDataURL("image/png"),l=['<div align="center" class="flowchart-exportimg-container">','<div><div><span><img width="100%" src="'+c+'"/></span></div></div>'];r.downloadUrl&&l.push('<form action="',r.downloadUrl,'" method="post">','<input name="imageName" value="',r.data.MapXML.title,'.png"/>','<input name="imageData" value="',c,'"/></form>'),l.push("</div>"),t=$(l.join("")),t.css({position:"fixed",zIndex:100,left:0,top:0,bottom:0,right:0,background:"rgba(255, 255, 255, 0)"}).children("div").css({display:"table",height:"100%"}).children("div").css({display:"table-cell",verticalAlign:"middle",maxWidth:"100%"}).children("span").css({display:"inline-block",background:"#FFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",borderRadius:"5px",padding:"5px",margin:"5px"}),t.on("click",function(){$(this).hide()}),e.append(t),r.downloadUrl&&(t.find("img")[0].onload=function(){t.find("form")[0].submit()})}),t.operate.oncontextmenu=function(t){return!1}),e.on("flowchart:zoom.reset",function(){var a=e.data("flowchart-content-option");a.scale=1,a.translate={x:0,y:0},s.draw(t,e,r)}),e.on("flowchart:free.start",function(a){var n=e.data("flowchart-content-option");n.drawFree=!0,e.trigger("flowchart:zoom.reset"),e.children(":not(canvas)").hide();var i=s.getPositionInCanvas(a,n.scale,n.translate);s.drawFree(t.operate,e,i,r)}),e.on("flowchart:free.over",function(t){e.data("flowchart-content-option").drawFree=!1,e.trigger("flowchart:zoom.reset"),e.css("cursor","default").children().filter(".flowchart-zoom-controls, .flowchart-tools-container").show()})},drawFree:function(t,e,a,n){e.css("cursor","crosshair");e.data("flowchart-content-option");this.drawCoordinate(t,e,a);var i,o=n.data.Map.NowNodes.split(";");i=n.dataParam.nodeId&&-1!=$.inArray(n.dataParam.nodeId,o)?n.dataParam.nodeId:o[0];var r=n.data._nodes[i];u.drawImg(t.ctx,{_nodeType:"now",Type:r.Type||"10",sub:r.sub,x:a.x-25,y:a.y-25},n)},drawCoordinate:function(t,e,a,n){var i=e.data("flowchart-content-option"),o=t.width,r=t.height;t.ctx.clearRect(Math.min(0,-i.translate.x),Math.min(0,-i.translate.y),o/i.scale,r/i.scale),t.ctx.strokeStyle="#CCC",t.ctx.lineWidth=2,t.ctx.setLineDash&&t.ctx.setLineDash([10,10]),t.ctx.beginPath();var s=Math.min(0,-i.translate.x),c=o/i.scale;if(t.ctx.setLineDash)t.ctx.moveTo(s,a.y),t.ctx.lineTo(c,a.y);else for(var l=s;l<c;l+=20)t.ctx.moveTo(s+l,a.y),t.ctx.lineTo(s+l+10,a.y);t.ctx.stroke(),t.ctx.closePath(),t.ctx.beginPath();var d=Math.min(0,-i.translate.y),h=r/i.scale;if(t.ctx.setLineDash)t.ctx.moveTo(a.x,d),t.ctx.lineTo(a.x,h);else for(var l=d;l<h;l+=20)t.ctx.moveTo(a.x,d+l),t.ctx.lineTo(a.x,d+l+10);t.ctx.stroke(),t.ctx.closePath(),n&&(t.ctx.beginPath(),t.ctx.fillStyle="#000",t.ctx.textAlign="left",t.ctx.font="12px Microsoft Yahei",t.ctx.fillText(a.x+", "+a.y,a.x+10,a.x-10),t.ctx.fill(),t.ctx.closePath())},draw:function(t,e,a){var n=t.main.width,i=t.main.height,o=e.data("flowchart-content-option"),r=(o.contentWidth,o.contentHeight,o.scale),s=o.translate;return $.each(t,function(e,o){(r||s)&&o.ctx.restore(),o.ctx.clearRect(0,0,n,i),(t.now&&"now"==e||!t.now&&"main"==e)&&(o.ctx.fillStyle=a.bgColor,o.ctx.fillRect(0,0,n,i)),o.ctx.save(),(r||s)&&(o.ctx.scale(r,r),o.ctx.translate(s.x,s.y))}),r&&s||(o.scale=1,o.translate={x:0,y:0}),y(t.main.ctx,e)?(a.data.MapXML.ZND&&a.data.MapXML.ZND.rect.length&&g.draw(t.main.ctx,a,n,i),m.draw(t.main.ctx,a),u.draw(t.main.ctx,a),t.now&&u.drawNow(t.now.ctx,a,n,i),!0):($.each(t,function(t,e){
e.ctx.clearRect(0,0,n,i)}),!1)},drawForImage:function(t,e,a){var n=e.data("flowchart-content-option"),i=n.contentWidth,o=n.contentHeight;return t.ctx.fillStyle=a.bgColor,t.ctx.fillRect(0,0,i,o),y(t.ctx,e)?(a.data.MapXML.ZND&&a.data.MapXML.ZND.rect.length&&g.draw(t.ctx,a,i,o),m.draw(t.ctx,a),u.draw(t.ctx,a),!0):(t.ctx.clearRect(0,0,i,o),!1)},drawByEvent:function(t,e,a,n,i){u.drawByEvent(t,e,a,n,i)||m.drawByEvent(t,e,a,n)}};$.fn.horizonFlowChart=function(t){return t=$.extend(!0,{},$.fn.horizonFlowChart.defaults,t),$(this).each(function(){b.init($(this),t)})},$.fn.horizonFlowChart.defaults={images:{define:"../img/define.png",now:"../img/now.png",done:"../img/done.png",jump:"../img/jump.png",extended:"../img/extended.png"},positions:{0:{x:51,y:0,width:50,height:50},1:{x:204,y:51,width:50,height:50},2:{x:0,y:51,width:50,height:50},3:{x:51,y:51,width:50,height:50},10:{x:102,y:0,width:50,height:50},11:{x:0,y:102,width:50,height:50},20:{x:102,y:102,width:50,height:50},25:{x:153,y:51,width:50,height:50},30:{x:0,y:153,width:50,height:50},41:{x:102,y:153,width:50,height:50},42:{x:204,y:0,width:50,height:50},43:{x:0,y:0,width:50,height:50},50:{x:204,y:102,width:50,height:50},71:{x:51,y:204,width:50,height:50},72:{x:102,y:204,width:50,height:50},73:{x:153,y:204,width:50,height:50},81:{x:204,y:204,width:50,height:50},82:{x:255,y:0,width:50,height:50},83:{x:255,y:51,width:50,height:50},84:{x:255,y:102,width:50,height:50},85:{x:255,y:153,width:50,height:50},91:{x:255,y:204,width:50,height:50},100:{x:0,y:255,width:50,height:50},101:{x:51,y:255,width:50,height:50},210:{x:102,y:255,width:50,height:50},900:{x:153,y:255,width:50,height:50},"10-sub":{x:102,y:51,width:50,height:50},"11-sub":{x:51,y:102,width:50,height:50},"20-sub":{x:153,y:0,width:50,height:50},"25-sub":{x:153,y:102,width:50,height:50},"30-sub":{x:51,y:153,width:50,height:50},"41-sub":{x:153,y:153,width:50,height:50},"50-sub":{x:204,y:153,width:50,height:50},"60-sub":{x:0,y:204,width:50,height:50}},nodeRadius:25,type:"chart",url:null,dataParam:null,downloadUrl:null,bgColor:"#FFF",width:"100%",height:"auto",canvasWidth:a?1500:3e3,canvasHeight:a?1500:3e3,iconType:"text",icon:{text:{exportImg:"&dArr;",dynamicDemo:"&hearts;",exceptNodes:"&sect;",zoomIn:"+",zoomOut:"&minus;",reset:"&plusmn;"},bootstrap:{exportImg:'<i class="glyphicon glyphicon-picture"></i>',dynamicDemo:'<i class="glyphicon glyphicon-plane"></i>',dynamicMoveUser:'<i class="glyphicon glyphicon-user"></i>',dynamicMovePlane:'<i class="glyphicon glyphicon-plane"></i>',exceptNodes:'<i class="glyphicon glyphicon-inbox"></i>',zoomIn:'<i class="glyphicon glyphicon-plus"></i>',zoomOut:'<i class="glyphicon glyphicon-minus"></i>',reset:'<i class="glyphicon glyphicon-screenshot"></i>'},"font-awesome":{exportImg:'<i class="fa fa-image"></i>',dynamicDemo:'<i class="fa fa-plane"></i>',dynamicMoveUser:'<i class="fa fa-user"></i>',dynamicMovePlane:'<i class="fa fa-plane"></i>',exceptNodes:'<i class="fa fa-inbox"></i>',zoomIn:'<i class="fa fa-plus"></i>',zoomOut:'<i class="fa fa-minus"></i>',reset:'<i class="fa fa-crosshairs"></i>'}},tools:{status:!1,exportImg:!1,dynamicDemo:!1},lang:{now:"正在办理",jump:"跳过",done:"已办理",extended:"超期",define:"未办理",exportImg:"图片",dynamicDemo:"动态演示",exceptNodes:"例外节点",zoomIn:"放大",zoomOut:"缩小",reset:"还原"},fnNodeClick:null,fnFreeNodeClick:null,fnAfterSuccess:null}});