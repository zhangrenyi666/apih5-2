(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{"1qr+":function(t,e,n){"use strict";n.r(e);n("9U97"),n("zIPO"),n("3fBH");var a=n("g2mn"),o=n("UpC8"),i=(n("am1t"),n("5WK1")),r=(n("07Zm"),n("2HLw")),d=(n("fx2i"),n("cZi0")),l=(n("5fiz"),n("LepS")),p=n("Id3l"),s=n("RNsw"),c=n("OR/T"),m=n("bn5B"),h=n("PnTt"),I=n("r0ML"),f=n.n(I),u=n("6eYn"),g=n("vcLm"),w=n("ID3L"),b=n.n(w),x={drawerConfig:{width:"1100px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!1},y=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(c.a)(this,Object(m.a)(e).call(this,t))).state={loading:!1,period:""},n}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this,e=this.props.myPublic,n=e.domain,p=e.appInfo.ureport,s=this.state.period,c=this.props.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectId;return f.a.createElement("div",null,f.a.createElement(a.a,{tip:"Loading...",spinning:this.state.loading},f.a.createElement(i.a,null,f.a.createElement(l.a,{span:8},f.a.createElement(g.a,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(e){t.formHasTicket=e},formItemLayout:{labelCol:{xs:{span:7},sm:{span:6}},wrapperCol:{xs:{span:17},sm:{span:18}}},formConfig:[{label:"\u62a5\u8868\u5468\u671f",field:"period",type:"month",span:24}]})),f.a.createElement(l.a,{span:16},f.a.createElement("div",{style:{padding:"11px 11px 11px 71px"}},f.a.createElement(r.a,{type:"primary",onClick:function(){var e=t.formHasTicket.form.getFieldsValue();e.period?t.setState({period:new Date(e.period._d).getTime()},function(){t.table.refresh()}):d.b.warn("\u8bf7\u9009\u62e9\u62a5\u8868\u5468\u671f\uff01")}},"\u751f\u6210\u62a5\u8868"),f.a.createElement(r.a,{style:{marginLeft:"20px"},type:"primary",onClick:function(){var e=t.props.loginAndLogoutInfo.loginInfo.userInfo,a=e.ext1,o=e.userId,i=e.curCompany,r=t.formHasTicket.form.getFieldsValue();if(r.period){var l="".concat(p,"excel?_u=file:zjTzXmhgqk.xml&url=").concat(n,"&period=").concat(new Date(r.period._d).getTime(),"&userId=").concat(o,"&ext1=").concat(a,"&projectId=").concat(i.projectId,"&_n=\u9879\u76ee\u91c7\u8d2d\uff08\u56de\u8d2d\uff09\u60c5\u51b5\u8868_").concat(b()(r.period).format("YYYYMM"),"&token=").concat(t.props.loginAndLogoutInfo.loginInfo.token);window.open(l)}else d.b.warn("\u8bf7\u9009\u62e9\u62a5\u8868\u5468\u671f\uff01")}},"\u5bfc\u51fa")))),f.a.createElement(u.a,Object(o.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(e){t.table=e},fetchConfig:s?{apiName:"getZjTzInvXmhgqkMonthlyReportList",otherParams:{period:s,projectId:c}}:{}},x,{antd:{rowKey:"id",size:"small",scroll:{y:.55*document.documentElement.clientHeight}},formConfig:[{isInTable:!1,form:{field:"id",type:"string",hide:!0}},{table:{title:"\u5e8f\u53f7",dataIndex:"no",key:"no",width:60,align:"center",render:function(t,e,n){return n+1}}},{table:{title:"\u5355\u4f4d\u540d\u79f0",dataIndex:"gldw",width:180,tooltip:23,render:function(t,e,n){return{children:f.a.createElement("div",null,t),props:{rowSpan:Number(e.count)}}}},isInForm:!1},{table:{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"proName",width:180,tooltip:23},isInForm:!1},{table:{title:"\u9879\u76ee\u7c7b\u522b",dataIndex:"proCategory",width:180},isInForm:!1},{table:{title:"\u603b\u6295\u8d44\u989d",dataIndex:"ztze"},isInForm:!1},{table:{title:"\u80a1\u6743\u6bd4\u4f8b(%)",dataIndex:"szgq"},isInForm:!1},{table:{title:"\u9884\u8ba1\u56de\u8d2d\u603b\u989d",width:130,dataIndex:"hgxyMoney"},isInForm:!1},{table:{title:"\u5408\u540c\u56de\u8d2d\u671f(\u5e74)",dataIndex:"hgq"},isInForm:!1},{table:{title:"\u56de\u8d2d\u8d77\u59cb\u65e5",dataIndex:"hgxyDate",format:"YYYY-MM-DD"},isInForm:!1},{table:{title:"\u7d2f\u8ba1\u56de\u8d2d\u671f(\u6708)",dataIndex:"ljhgq"},isInForm:!1},{table:{title:"\u56de\u8d2d\u91d1\u989d",noHaveSearchInput:!0,children:[{dataIndex:"hgjeBq",title:"\u672c\u671f",width:110},{title:"\u672c\u5e74",dataIndex:"bnlj",width:130},{title:"\u5f00\u7d2f",dataIndex:"sjhgje",width:110}]},isInForm:!1},{table:{title:"\u56de\u8d2d\u6bd4\u4f8b(%)",width:130,dataIndex:"hgjeHgbl"},isInForm:!1},{table:{title:"\u56de\u8d2d\u6b3e\u7d2f\u8ba1\u4f7f\u7528\u60c5\u51b5",noHaveSearchInput:!0,children:[{dataIndex:"chyhdk",title:"\u507f\u8fd8\u94f6\u884c\u8d37\u6b3e",width:110},{title:"\u507f\u8fd8\u8d37\u6b3e\u5229\u606f",dataIndex:"chdklx",width:130},{title:"\u507f\u8fd8\u8d44\u672c\u91d1",dataIndex:"chzbj",width:110},{title:"\u8d44\u91d1\u96c6\u4e2d",dataIndex:"zjjz",width:110},{title:"\u5176\u4ed6",dataIndex:"qt",width:110}]},isInForm:!1},{table:{title:"\u5907\u6ce8",width:130,dataIndex:"bz",tooltip:23},isInForm:!1}]}))))}}]),e}(I.Component);e.default=y}}]);