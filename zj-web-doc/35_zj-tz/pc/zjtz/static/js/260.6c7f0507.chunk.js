(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{r9v5:function(e,t,a){"use strict";a.r(t);a("9U97"),a("fx2i");var o=a("cZi0"),l=a("UpC8"),n=a("Id3l"),i=a("RNsw"),r=a("OR/T"),s=a("bn5B"),p=a("PnTt"),c=(a("w9C0"),a("XW+2")),d=a("r0ML"),m=a.n(d),f=a("6eYn"),u=a("U8v4"),b=a("sP8l"),h=a.n(b),w=a("1Omx"),I=c.a.confirm,C={antd:{rowKey:function(e){return e.threeDirectorId},size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).handleCancelSend=function(){a.setState({visibleSend:!1,loadingSend:!1})},a.state={threeDirectorId:"",proNameId:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectId:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.proNameId;return m.a.createElement("div",{className:h.a.root},m.a.createElement(f.a,Object(l.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t}},C,{fetchConfig:{apiName:"getZjTzThreeDirectorList",otherParams:{projectId:t}},formConfig:[{isInTable:!1,form:{field:"threeDirectorId",type:"string",hide:!0}},{table:{title:"\u9879\u76ee\u540d\u79f0",filter:!0,width:300,dataIndex:"projectId",key:"projectId",type:"select",fieldsConfig:{field:"projectId",type:"select",showSearch:!0,optionConfig:{label:"projectName",value:"projectId"},fetchConfig:{apiName:"getZjTzProManageList"}}},form:{field:"projectId",type:"select",showSearch:!0,addDisabled:!0,disabled:!0,editDisabled:!0,initialValue:function(){return t},optionConfig:{label:"projectName",value:"projectId"},fetchConfig:{apiName:"getZjTzProManageList"},placeholder:"\u8bf7\u9009\u62e9",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{isInSearch:!1,table:{title:"\u671f\u6b21",width:160,onClick:"detail",dataIndex:"meetNumberName",key:"meetNumberName"},form:{type:"select",required:!0,field:"periodId",editDisabled:!0,optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"huiYiJieCi"}},placeholder:"\u8bf7\u8f93\u5165",spanForm:6,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{isInTable:!1,form:{label:"",type:"select",field:"meetNumberId",editDisabled:!0,required:!0,optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"huiYiQiCiOther"}},placeholder:"\u8bf7\u8f93\u5165",spanForm:6,formItemLayoutForm:{labelCol:{xs:{span:0},sm:{span:0}},wrapperCol:{xs:{span:24},sm:{span:24}}}}},{isInSearch:!1,table:{title:"\u4f1a\u8bae\u65f6\u95f4",filter:!0,format:"YYYY-MM-DD",dataIndex:"meetDate",key:"meetDate",fieldsConfig:{type:"rangeDate",field:"meetDateList"}},form:{type:"date",field:"meetDate",placeholder:"\u8bf7\u8f93\u5165",required:!0,spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u4f1a\u8bae\u7c7b\u578b",filter:!0,dataIndex:"meetTypeId",key:"meetTypeId",type:"select"},form:{label:"\u4f1a\u8bae\u7c7b\u578b",type:"select",field:"meetTypeId",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"huiYiLeiXing"}},spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u4f1a\u8bae\u8868\u51b3\u65b9\u5f0f",width:120,filter:!0,dataIndex:"meetVoteId",key:"meetVoteId",type:"select"},form:{label:"\u4f1a\u8bae\u8868\u51b3\u65b9\u5f0f",type:"select",field:"meetVoteId",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"huiYiBiaoJueFangShi"}},spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u539f\u4ef6\u662f\u5426\u5907\u6848",filter:!0,width:120,dataIndex:"originalId",key:"originalId",type:"select"},form:{type:"select",field:"originalId",optionData:[{label:"\u662f",value:"1"},{label:"\u5426",value:"0"}],spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u4f1a\u8bae\u5730\u70b9",width:130,tooltip:23,dataIndex:"meetPlace",key:"meetPlace"},form:{label:"\u4f1a\u8bae\u5730\u70b9",type:"textarea",field:"meetPlace",formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}}},{isInTable:!1,form:{label:"\u4f1a\u8bae\u901a\u77e5\u6587\u4ef6",field:"zjTzFileList1",type:"files",fetchConfig:{apiName:window.configs.domain+"upload"}}},{isInTable:!1,form:{label:"\u8bae\u6848\u8d44\u6599",field:"zjTzFileList2",type:"files",fetchConfig:{apiName:window.configs.domain+"upload"}}},{isInTable:!1,form:{label:"\u51b3\u8bae\u53ca\u4f1a\u8bae\u7eaa\u8981",field:"zjTzFileList3",type:"files",fetchConfig:{apiName:window.configs.domain+"upload"}}},{isInForm:!1,table:{title:"\u64cd\u4f5c",fixed:"right",dataIndex:"action",key:"action",align:"center",noHaveSearchInput:!0,showType:"tile",width:120,btns:[{name:"PolicyDetail",render:function(e){return"<a>\u660e\u7ec6</a>"},onClick:function(e){var t=e.props.myPublic.appInfo.mainModule,a=e.rowData,o=a.threeDirectorId,l=a.apih5FlowStatus,n="";n=""===l?"99":l,e.props.dispatch(Object(u.push)("".concat(t,"ThreeMeetingMangeShareholderDetail/").concat(o,"/").concat(n,"/",0)))}}]}}],componentsKey:{FlowByWorkPlan:function(t){e.table.clearSelectedRows();var a=t.selectedRows;return!a||!a.length||a.length>1?(t.btnCallbackFn.closeDrawer(),t.btnCallbackFn.msg.error("\u8bf7\u9009\u62e9\u4e00\u6761\u6570\u636e\uff01"),m.a.createElement("div",null)):""!=t.selectedRows[0].workId?(t.btnCallbackFn.closeDrawer(),t.btnCallbackFn.msg.error("\u5df2\u53d1\u8d77\u5ba1\u6279\u7684\u4e0d\u53ef\u518d\u53d1\u8d77\uff01"),m.a.createElement("div",null)):m.a.createElement(w.a,Object(l.a)({},t,{flowData:a[0]}))}},method:{addClick:function(e){"all"===t&&(e.btnCallbackFn.closeDrawer(),e.btnCallbackFn.clearSelectedRows(),o.b.warn("\u8bf7\u9009\u62e9\u53f3\u4e0a\u89d2\u9879\u76ee\uff01"))},editClick:function(t){e.table.clearSelectedRows(),"1"===t.selectedRows[0].apih5FlowStatus?(o.b.warn("\u5ba1\u6838\u4e2d\u7684\u6570\u636e\u4e0d\u80fd\u4fee\u6539\uff01"),t.btnCallbackFn.closeDrawer()):"2"===t.selectedRows[0].apih5FlowStatus&&(o.b.warn("\u5ba1\u6838\u7ed3\u675f\u7684\u6570\u636e\u4e0d\u80fd\u4fee\u6539\uff01"),t.btnCallbackFn.closeDrawer())},delClick:function(t){var a=t.props.myFetch,l=[];if(t.selectedRows.length>0){for(var n=0;n<t.selectedRows.length;n++)"1"!==t.selectedRows[n].apih5FlowStatus&&"2"!==t.selectedRows[n].apih5FlowStatus||l.push(t.selectedRows[n].apih5FlowStatus);l.length>0?(t.btnCallbackFn.closeDrawer(),o.b.warn("\u8bf7\u9009\u62e9\u672a\u5ba1\u6838\u7684\u6570\u636e!"),e.table.clearSelectedRows()):I({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchDeleteUpdateZjTzThreeDirector",t.selectedRows).then(function(t){var a=t.success,l=t.message;a?(o.b.success(l),e.table.refresh(),e.table.clearSelectedRows()):o.b.error(l)})}})}else o.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(d.Component);t.default=g}}]);