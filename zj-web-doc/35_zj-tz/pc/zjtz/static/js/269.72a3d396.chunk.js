(window.webpackJsonp=window.webpackJsonp||[]).push([[269],{"j+2h":function(e,t,l){"use strict";l.r(t);var a=l("UpC8"),i=(l("fx2i"),l("cZi0")),o=l("Id3l"),r=l("RNsw"),n=l("OR/T"),d=l("bn5B"),c=l("PnTt"),f=(l("w9C0"),l("XW+2")),s=l("r0ML"),p=l.n(s),u=l("6eYn"),m=f.a.confirm,b=function(e){function t(e){var l;return Object(o.a)(this,t),(l=Object(n.a)(this,Object(d.a)(t).call(this,e))).state={},l}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.loginAndLogoutInfo.loginInfo.userInfo,l=(t.realName,t.curCompany),o=(l.projectShortName,l.projectId);return p.a.createElement("div",null,p.a.createElement(u.a,Object(a.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t},fetchConfig:{apiName:"getZjTzRunFileList",otherParams:{projectId:o}}},window.ZjTzRunFile,{formConfig:[{isInTable:!1,form:{field:"runFileId",type:"string",placeholder:"\u8bf7\u8f93\u5165",hide:!0},_id:"0",_edit:!1},{table:{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"projectId",key:"projectId",width:200,filter:!0,type:"select"},form:{field:"projectId",label:"\u9879\u76ee\u540d\u79f0",type:"select",showSearch:!0,addDisabled:!0,editDisabled:!0,initialValue:function(){return o},optionConfig:{label:"projectName",value:"projectId"},fetchConfig:{apiName:"getZjTzProManageList"},placeholder:"\u8bf7\u9009\u62e9"}},{table:{title:"\u6587\u4ef6\u7c7b\u578b",width:130,dataIndex:"fileForm",type:"select",filter:!0},form:{type:"select",required:!0,field:"fileForm",placeholder:"\u8bf7\u8f93\u5165",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"wenJianLeiXingFile"}}}},{table:{title:"\u6587\u4ef6\u7c7b\u522b",width:130,dataIndex:"fileType",type:"select",filter:!0},form:{type:"select",required:!0,field:"fileType",placeholder:"\u8bf7\u8f93\u5165",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"wenJianLeiBie"}}}},{isInForm:!0,table:{title:"\u6587\u53f7",filter:!0,width:120,onClick:"detail",dataIndex:"referenceNumber"},_id:"5",_edit:!1,form:{type:"string",required:!0,label:"\u6587\u53f7",field:"referenceNumber",placeholder:"\u8bf7\u8f93\u5165"}},{isInForm:!1,table:{title:"\u6587\u4ef6\u540d\u79f0",filter:!0,width:140,tooltip:16,dataIndex:"fileName"},_id:"7",_edit:!1,form:{type:"string",field:"fileName"}},{isInTable:!1,form:{type:"string",required:!0,label:"\u6587\u4ef6\u540d\u79f0",field:"fileName",placeholder:"\u8bf7\u8f93\u5165"},_id:"8",_edit:!1},{isInForm:!1,table:{title:"\u53d1\u5e03\u65f6\u95f4",filter:!0,width:120,dataIndex:"releaseDate",format:"YYYY-MM-DD"},_id:"9",_edit:!1,form:{type:"date",field:"releaseDate"}},{isInTable:!1,form:{type:"date",required:!0,label:"\u53d1\u5e03\u65f6\u95f4",field:"releaseDate",placeholder:"\u8bf7\u8f93\u5165"},_id:"10",_edit:!1},{isInForm:!1,table:{title:"\u662f\u5426\u6709\u6548",filter:!0,width:100,dataIndex:"effectFlag",type:"select"},_id:"11",_edit:!1,form:{type:"select",required:!0,label:"\u662f\u5426\u6709\u6548",field:"effectFlag",placeholder:"\u8bf7\u8f93\u5165",optionConfig:{label:"label",value:"value"},optionData:[{label:"\u662f",value:"1"},{label:"\u5426",value:"0"}]}},{isInTable:!1,form:{type:"select",required:!0,label:"\u662f\u5426\u6709\u6548",field:"effectFlag",placeholder:"\u8bf7\u8f93\u5165",optionConfig:{label:"label",value:"value"},optionData:[{label:"\u662f",value:"1"},{label:"\u5426",value:"0"}]},_id:"12",_edit:!1},{isInForm:!1,table:{title:"\u4e3b\u8981\u5185\u5bb9\u6216\u53d8\u5316\u8bf4\u660e",width:200,tooltip:23,dataIndex:"content"},_id:"13",_edit:!1,form:{}},{isInTable:!1,form:{type:"textarea",required:!0,label:"\u4e3b\u8981\u5185\u5bb9\u6216\u53d8\u5316\u8bf4\u660e",field:"content",placeholder:"\u8bf7\u8f93\u5165"},_id:"14",_edit:!1},{isInTable:!1,form:{label:"\u9644\u4ef6",required:!0,field:"zjTzFileList",type:"files",showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u8fd0\u8425\u6587\u4ef6\u7ba1\u7406"}}}}],method:{addClick:function(e){"all"===o&&(e.btnCallbackFn.closeDrawer(),e.btnCallbackFn.clearSelectedRows(),i.b.warn("\u8bf7\u9009\u62e9\u53f3\u4e0a\u89d2\u9879\u76ee\uff01"))},filestExport:function(t){e.table.clearSelectedRows();var l=t.props.myFetch;t.selectedRows.length>0?m({title:"\u786e\u5b9a\u5bfc\u51fa\u9644\u4ef6\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){l("batchExportZjTzRunFile",t.selectedRows).then(function(t){var l=t.success,a=t.message,o=t.data;l?(i.b.success(a),window.location.href=o,e.table.refresh(),e.table.clearSelectedRows()):i.b.error(a)})}}):i.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},editClick:function(){e.table.clearSelectedRows()}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(s.Component);t.default=b}}]);