(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{"/OJl":function(e,t,a){"use strict";a.r(t);a("zIPO");var o=a("UpC8"),n=(a("fx2i"),a("cZi0")),l=a("Id3l"),s=a("RNsw"),r=a("OR/T"),i=a("bn5B"),c=a("PnTt"),d=(a("w9C0"),a("XW+2")),p=a("r0ML"),f=a.n(p),u=a("6eYn"),m=a("u3Jm"),b=a.n(m),h=a("ID3L"),w=a.n(h),I=d.a.confirm,g={antd:{rowKey:function(e){return e.financeMonthId},size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={projectId:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectId,projectName:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectName},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.projectId;t.projectName;return console.log(a),f.a.createElement("div",{className:b.a.root},f.a.createElement(u.a,Object(o.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t},fetchConfig:{apiName:"getZjTzFinanceMonthList",otherParams:{projectId:a}}},g,{formConfig:[{isInTable:!1,form:{field:"financeMonthId",type:"string",hide:!0}},{table:{title:"\u9879\u76ee\u540d\u79f0",filter:!0,dataIndex:"projectId",key:"projectId",type:"select"},form:{label:"\u9879\u76ee\u540d\u79f0",field:"projectId",type:"select",showSearch:!0,required:!0,initialValue:a,addDisabled:!0,editDisabled:!0,optionConfig:{label:"projectName",value:"projectId"},fetchConfig:{apiName:"getZjTzProManageList"},placeholder:"\u8bf7\u9009\u62e9",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u5e74\u6708",dataIndex:"yearMonthDate",filter:!0,onClick:"detail",format:"YYYY-MM",key:"yearMonthDate",render:function(e){return w()(e).format("YYYY-MM-DD")}},form:{type:"month",editDisabled:!0,field:"yearMonthDate",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{isInTable:!1,form:{label:"\u878d\u8d44\u843d\u5b9e\u8fc7\u7a0b",type:"textarea",field:"process",placeholder:"\u8bf7\u8f93\u5165",required:!0,formItemLayout:{labelCol:{xs:{span:21},sm:{span:3}},wrapperCol:{xs:{span:21},sm:{span:21}}}}},{isInTable:!1,form:{label:"\u9644\u4ef6",field:"zjTzFileList",type:"files",showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u4e00\u516c\u5c40\u672a\u843d\u5b9e\u878d\u8d44\uff08\u878d\u8d44\u6682\u505c\uff09\u60c5\u51b5\u6708\u62a5"}}}},{table:{title:"\u767b\u8bb0\u65e5\u671f",dataIndex:"registerDate",format:"YYYY-MM-DD",key:"registerDate"},form:{field:"registerDate",type:"date",label:"\u767b\u8bb0\u65e5\u671f",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},initialValue:function(){return new Date}}},{table:{title:"\u767b\u8bb0\u7528\u6237",dataIndex:"registerPerson",key:"registerPerson"},form:{field:"registerPerson",type:"string",label:"\u767b\u8bb0\u7528\u6237",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},initialValue:function(e){return e.loginAndLogoutInfo.loginInfo.userInfo.realName}}},{table:{title:"\u72b6\u6001",dataIndex:"releaseName",key:"releaseName"},isInForm:!1,form:{type:"select",field:"releaseId",optionData:[{label:"\u672a\u4e0a\u62a5",value:"0"},{label:"\u5df2\u4e0a\u62a5",value:"1"},{label:"\u88ab\u9000\u56de",value:"2"}]}}],method:{addClick:function(e){"all"===a&&(e.btnCallbackFn.closeDrawer(),e.btnCallbackFn.clearSelectedRows(),n.b.warn("\u8bf7\u9009\u62e9\u53f3\u4e0a\u89d2\u9879\u76ee\uff01"))},editClick:function(t){"1"===t.selectedRows[0].apih5FlowStatus||"2"===t.selectedRows[0].apih5FlowStatus?(t.btnCallbackFn.closeDrawer(),n.b.warn("\u8bf7\u9009\u62e9\u672a\u5ba1\u6838\u7684\u6570\u636e!"),e.table.clearSelectedRows()):e.table.clearSelectedRows()},delClick:function(t){var a=t.props.myFetch,o=[];if(t.selectedRows.length>0){for(var l=0;l<t.selectedRows.length;l++)"1"!==t.selectedRows[l].apih5FlowStatus&&"2"!==t.selectedRows[l].apih5FlowStatus||o.push(t.selectedRows[l].apih5FlowStatus);o.length>0?(t.btnCallbackFn.closeDrawer(),n.b.warn("\u8bf7\u9009\u62e9\u672a\u5ba1\u6838\u7684\u6570\u636e!"),e.table.clearSelectedRows()):I({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchDeleteUpdateZjTzFinanceMonth",t.selectedRows).then(function(t){var a=t.success,o=t.message;a?(n.b.success(o),e.table.refresh(),e.table.clearSelectedRows()):n.b.error(o)})}})}else n.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")},faBuClick:function(t){e.table.clearSelectedRows();var a=t.props.myFetch;if(t.selectedRows.length>0){for(var o=[],l=0;l<t.selectedRows.length;l++)"1"===t.selectedRows[l].releaseId&&o.push(t.selectedRows[l].releaseId);o.length>0?n.b.warn("\u5df2\u4e0a\u62a5\u7684\u6d88\u606f\u4e0d\u80fd\u4e0a\u62a5\uff01"):I({title:"\u786e\u5b9a\u4e0a\u62a5\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchReleaseZjTzFinanceMonth",t.selectedRows).then(function(t){var a=t.success,o=t.message;a?(n.b.success(o),e.table.refresh()):n.b.error(o)})}})}else n.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},cheHuiClick:function(t){e.table.clearSelectedRows();var a=t.props.myFetch;if(t.selectedRows.length>0){for(var o=[],l=0;l<t.selectedRows.length;l++)"0"!==t.selectedRows[l].releaseId&&"2"!==t.selectedRows[l].releaseId||o.push(t.selectedRows[l].releaseId);o.length>0?n.b.warn("\u672a\u4e0a\u62a5/\u88ab\u9000\u56de\u7684\u6d88\u606f\u4e0d\u80fd\u9000\u56de\uff01"):I({title:"\u786e\u5b9a\u9000\u56de\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchRecallZjTzFinanceMonth",t.selectedRows).then(function(t){var a=t.success,o=t.message;a?(n.b.success(o),e.table.refresh()):n.b.error(o)})}})}else n.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(p.Component);t.default=y},u3Jm:function(e,t,a){}}]);