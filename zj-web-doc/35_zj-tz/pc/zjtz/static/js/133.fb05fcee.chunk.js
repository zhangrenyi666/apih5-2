(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{"8Vno":function(e,t,o){"use strict";o.r(t);o("zIPO"),o("IdsT"),o("S26F");var a=o("UpC8"),n=(o("fx2i"),o("cZi0")),l=(o("TSXX"),o("iZJp")),s=o("Id3l"),r=o("RNsw"),i=o("OR/T"),c=o("bn5B"),d=o("PnTt"),p=(o("w9C0"),o("XW+2")),u=o("r0ML"),f=o.n(u),m=o("6eYn"),h=(o("vcLm"),o("ID3L"),o("9vCG")),w=o.n(h),b=p.a.confirm,I={antd:{rowKey:function(e){return e.resultShowId},size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},g=function(e){function t(e){var o;return Object(s.a)(this,t),(o=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={resultShowId:"",companyId:e.loginAndLogoutInfo.loginInfo.userInfo.companyList[0].companyId,companyName:e.loginAndLogoutInfo.loginInfo.userInfo.companyList[0].companyName,curCompanyId:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.value:"",curCompanyName:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.label:"",departmentList:[{label:e.loginAndLogoutInfo.loginInfo.userInfo.departmentList[0].departmentName,value:e.loginAndLogoutInfo.loginInfo.userInfo.departmentList[0].departmentId}]},o}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this,o=this.state,s=o.companyId,r=o.departmentList,i=this.props.loginAndLogoutInfo.loginInfo.userInfo.realName;e=r;var c=this.props.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectId,d=this.props.loginAndLogoutInfo.loginInfo.userInfo.ext1;return f.a.createElement("div",{className:w.a.root},f.a.createElement(m.a,Object(a.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(e){t.table=e},fetchConfig:{apiName:"getZjTzSpecialResultShowList",otherParams:{companyId:c}}},I,{desc:"1"===d?"\u53d1\u5e03\uff1a\u4f7f\u6570\u636e\u5168\u5e73\u53f0\u7528\u6237\u53ef\u89c1\uff1b\u5e7f\u800c\u544a\u4e4b\uff1a\u5c06\u5df2\u53d1\u5e03\u7684\u6570\u636e\u5c55\u793a\u81f3\u9996\u9875":null,formConfig:[{isInTable:!1,form:{field:"resultShowId",type:"string",hide:!0}},{isInTable:!1,form:{field:"companyId",type:"string",hide:!0,initialValue:s}},{table:{title:"\u6807\u9898",onClick:"detail",tooltip:23,width:160,dataIndex:"title",key:"title"},form:{type:"string",field:"title",placeholder:"\u8bf7\u8f93\u5165",required:!0,formItemLayoutForm:{labelCol:{xs:{span:6},sm:{span:3}},wrapperCol:{xs:{span:18},sm:{span:21}}}}},{table:{title:"\u6210\u679c\u6743\u5c5e",width:200,dataIndex:"companyName",key:"companyName"},form:{field:"projectList",required:!0,initialValue:e,addDisabled:!0,editDisabled:!0,type:"treeSelect",treeSelectOption:{selectType:"1",maxNumber:1,fetchConfig:{apiName:"getSysDepartmentUserAllTree"},useCollect:!0,collectApi:"appGetSysFrequentContactsList",collectApiByAdd:"appAddSysFrequentContacts",collectApiByDel:"appRemoveSysFrequentContacts",search:!0,searchPlaceholder:"\u59d3\u540d\u3001\u8d26\u53f7\u3001\u7535\u8bdd",searchParamsKey:"search",searchOtherParams:{pageSize:999}}}},{table:{title:"\u6210\u679c\u7c7b\u578b",width:100,dataIndex:"resultTypeName",key:"resultTypeName"},form:{type:"select",field:"resultTypeId",placeholder:"\u8bf7\u9009\u62e9",required:!0,optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"chengGuoLeiXing"}},formItemLayoutForm:{labelCol:{xs:{span:6},sm:{span:3}},wrapperCol:{xs:{span:18},sm:{span:21}}}}},{table:{title:"\u5185\u5bb9\u7b80\u4ecb",width:400,dataIndex:"content",key:"content",render:function(e){return e?(e=(e=(e=(e=(e=e.replace(/(\n)/g,"")).replace(/(\t)/g,"")).replace(/(\r)/g,"")).replace(/<\/?[^>]*>/g,"")).replace(/\s*/g,""),f.a.createElement("div",null,f.a.createElement(l.a,{title:e},f.a.createElement("div",{style:{maxWidth:"380px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e)))):""}},form:{type:"richtext",label:"\u5185\u5bb9\u7b80\u4ecb",field:"content",fetchConfig:{uploadUrl:window.configs.domain+"upload"}}},{isInTable:!1,form:{label:"\u767b\u8bb0\u65e5\u671f",type:"date",field:"registerDate",initialValue:new Date,placeholder:"\u8bf7\u9009\u62e9",addDisabled:!0,editDisabled:!0,spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{isInTable:!1,form:{field:"registerPerson",type:"string",label:"\u767b\u8bb0\u4eba",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},initialValue:i}},{table:{title:"\u72b6\u6001",width:100,dataIndex:"releaseName",key:"releaseName"},isInForm:!1,form:{type:"select",field:"releaseId",hide:!0,optionData:[{label:"\u672a\u53d1\u5e03",value:"0"},{label:"\u53d1\u5e03",value:"1"}]}},{table:{title:"\u662f\u5426\u5728\u9996\u9875\u5e7f\u800c\u544a\u4e4b",dataIndex:"homeShow",filter:!0,width:160,key:"homeShow",render:function(e){return"0"===e?"\u5426":"\u662f"}},isInForm:!1,form:{type:"select",field:"homeShow",hide:!0,optionData:[{label:"\u5426",value:"0"},{label:"\u662f",value:"1"}]}},{isInTable:!1,form:{label:"\u9644\u4ef6",field:"zjTzFileList",type:"files",fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u4e13\u9879\u6d3b\u52a8-\u6210\u679c\u5c55\u793a"}},showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl"}}],method:{editClick:function(e){"1"===e.selectedRows[0].releaseId?(e.btnCallbackFn.closeDrawer(),n.b.warn("\u5df2\u53d1\u5e03\u7684\u4e0d\u80fd\u4fee\u6539!"),t.table.clearSelectedRows()):t.table.clearSelectedRows()},faBuClick:function(e){t.table.clearSelectedRows();var o=e.props.myFetch;if(e.selectedRows.length>0){for(var a=[],l=0;l<e.selectedRows.length;l++)"1"===e.selectedRows[l].releaseId&&a.push(e.selectedRows[l].releaseId);a.length>0?n.b.warn("\u5df2\u53d1\u5e03\u7684\u6d88\u606f\u4e0d\u80fd\u53d1\u5e03\uff01"):b({title:"\u786e\u5b9a\u53d1\u5e03\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){o("batchReleaseZjTzSpecialResultShow",e.selectedRows).then(function(e){var o=e.success,a=e.message;o?(n.b.success(a),t.table.refresh()):n.b.error(a)})}})}else n.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},cheHuiClick:function(e){t.table.clearSelectedRows();var o=e.props.myFetch;if(e.selectedRows.length>0){for(var a=[],l=0;l<e.selectedRows.length;l++)"0"===e.selectedRows[l].releaseId&&a.push(e.selectedRows[l].releaseId);a.length>0?n.b.warn("\u672a\u53d1\u5e03\u7684\u6d88\u606f\u4e0d\u80fd\u64a4\u56de\uff01"):b({title:"\u786e\u5b9a\u64a4\u56de\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){o("batchRecallZjTzSpecialResultShow",e.selectedRows).then(function(e){var o=e.success,a=e.message;o?(n.b.success(a),t.table.refresh()):n.b.error(a)})}})}else n.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},guangErGaoZhi:function(e){t.table.clearSelectedRows(),e.selectedRows.length>0?1===e.selectedRows.length?"1"===e.selectedRows[0].releaseId?b({title:"\u786e\u5b9a\u5e7f\u800c\u544a\u4e4b\u5230\u9996\u9875\u4e48\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){t.props.myFetch("toHomeShowZjTzSpecialResultShow",e.selectedRows[0]).then(function(e){var o=e.success,a=e.message;e.data;o?(n.b.success(a),t.table.refresh()):n.b.error(a)})}}):n.b.warn("\u672a\u53d1\u5e03\u7684\u6d88\u606f\u4e0d\u80fd\u5e7f\u800c\u544a\u4e4b\uff01"):n.b.warn("\u8bf7\u9009\u62e9\u4e00\u6761\u6570\u636e"):n.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},filestExport:function(e){t.table.clearSelectedRows();var o=e.props.myFetch;e.selectedRows.length>0?b({title:"\u786e\u5b9a\u5bfc\u51fa\u9644\u4ef6\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){o("batchExportZjTzSpecialResultShowFile",e.selectedRows).then(function(e){var o=e.success,a=e.message,l=e.data;o?(n.b.success(a),window.location.href=l,t.table.refresh(),t.table.clearSelectedRows()):n.b.error(a)})}}):n.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},delClick:function(e){var o=e.props.myFetch,a=[];if(e.selectedRows.length>0){for(var l=0;l<e.selectedRows.length;l++)"1"===e.selectedRows[l].releaseId&&a.push(e.selectedRows[l].releaseId);a.length>0?(e.btnCallbackFn.closeDrawer(),n.b.warn("\u5df2\u53d1\u5e03\u7684\u4e0d\u80fd\u5220\u9664!"),t.table.clearSelectedRows()):b({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){o("batchDeleteUpdateZjTzSpecialResultShow",e.selectedRows).then(function(e){var o=e.success,a=e.message;o?(n.b.success(a),t.table.refresh(),t.table.clearSelectedRows()):n.b.error(a)})}})}else n.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(u.Component);t.default=g},"9vCG":function(e,t,o){}}]);