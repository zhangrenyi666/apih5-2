(window.webpackJsonp=window.webpackJsonp||[]).push([[210],{mqbn:function(e,t,a){"use strict";a.r(t);a("9U97"),a("zIPO"),a("8Qi2"),a("IdsT"),a("pBsb");var i=a("UpC8"),n=(a("fx2i"),a("cZi0")),o=a("Id3l"),r=a("RNsw"),l=a("OR/T"),d=a("bn5B"),s=a("PnTt"),p=a("r0ML"),m=a.n(p),f=a("6eYn"),c=a("U8v4"),u=a("C3OH"),I=a.n(u),g={fetchConfig:{apiName:"getZjTzDesignAdvistoryUnitStandardListForHard"},antd:{rowKey:function(e){return e.designAdvistoryUnitStandardId},size:"small",scroll:{y:.65*document.documentElement.clientHeight}},drawerConfig:{width:"1100px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={proNameVal:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectShortName:"",proNameId:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectId:"",realName:e.loginAndLogoutInfo.loginInfo.userInfo.realName},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.realName,o=t.proNameId;return m.a.createElement("div",{className:I.a.root},m.a.createElement(f.a,Object(i.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t}},g,{formConfig:[{isInTable:!1,form:{field:"designAdvistoryUnitStandardId",type:"string",hide:!0}},{isInTable:!1,form:{field:"projectId",type:"string",hide:!0,initialValue:o}},{table:{title:"\u5355\u4f4d\u540d\u79f0",dataIndex:"unitName",key:"unitName",filter:!0,onClick:"detail",fixed:"left"},form:{field:"unitName",required:!0,type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801",width:140,dataIndex:"orgCode",key:"orgCode"},form:{field:"orgCode",type:"string",required:!0,placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u5355\u4f4d\u7c7b\u578b",width:100,dataIndex:"unitTypeName",key:"unitTypeName"},form:{field:"unitTypeId",type:"select",placeholder:"\u8bf7\u9009\u62e9",required:!0,optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"danWeiLeiXing"}},spanForm:12,formItemLayout:{labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:20},sm:{span:18}}}}},{table:{title:"\u4e1a\u52a1\u7c7b\u578b",dataIndex:"majorTypeName",width:200,key:"majorTypeName"},isInForm:!1},{table:{title:"\u8d44\u8d28\u7b49\u7ea7",dataIndex:"correspondQualityName",width:100,key:"correspondQualityName"},isInForm:!1},{table:{title:"\u5185\u5916\u90e8\u5355\u4f4d",dataIndex:"inOutUnitName",width:100,key:"inOutUnitName"},form:{field:"inOutUnitId",type:"select",required:!0,placeholder:"\u8bf7\u9009\u62e9...",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"neiWaiBuDanWei"}},spanForm:12,formItemLayout:{labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:20},sm:{span:18}}}}},{isInTable:"1"===this.props.loginAndLogoutInfo.loginInfo.userInfo.ext1,table:{title:"\u6240\u5c5e\u7ba1\u7406\u5e93",width:120,dataIndex:"libraryName",key:"libraryName"},isInForm:!1,form:{field:"libraryId",type:"select",initialValue:"suoshuku",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"suoShuKu"}}}},{isInTable:!1,form:{type:"component",field:"diySK1",Component:function(e){return m.a.createElement("div",{style:{width:"100%",backgroundColor:"#eeeded",height:"32px",lineHeight:"32px",borderRadius:"2px",paddingLeft:"10px",marginBottom:"10px",marginTop:"10px"}},"\u8d44\u8d28\u5217\u8868")}}},{isInTable:!1,form:{type:"qnnTable",field:"zjTzQualityList",colStyle:{paddingLeft:12},incToForm:!0,qnnTableConfig:{actionBtnsPosition:"top",antd:{rowKey:"typeId",size:"small"},drawerConfig:{width:"1000px"},limit:999,curPage:1,paginationConfig:!1,firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},wrappedComponentRef:function(t){e.tables=t},formConfig:[{isInTable:!1,form:{label:"\u4e3b\u952eid",field:"typeId",hide:!0}},{table:{title:"\u4e13\u4e1a\u7c7b\u578b",dataIndex:"majorTypeId",key:"majorTypeId",tdEdit:!0,type:"select"},form:{type:"select",field:"majorTypeId",placeholder:"\u8bf7\u9009\u62e9",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"zhuanYeLeiXing"}}}},{table:{title:"\u5bf9\u5e94\u8d44\u8d28",dataIndex:"correspondQualityId",key:"correspondQualityId",tdEdit:!0,type:"select"},form:{type:"select",field:"correspondQualityId",placeholder:"\u8bf7\u9009\u62e9",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"duiYingZiZhi"}}}},{table:{title:"\u767b\u8bb0\u7528\u6237",dataIndex:"registeredUser",key:"registeredUser",tdEdit:!1,render:function(){return a}},form:{field:"registeredUser",type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u8d44\u8d28\u9644\u4ef6",dataIndex:"zjTzFileList",key:"zjTzFileList",tdEdit:!0,render:function(e,t){return e&&t.zjTzFileList.length>0?t.zjTzFileList[0].name:""},onClick:function(e){e.rowData&&e.rowData.zjTzFileList&&e.rowData.zjTzFileList[0]&&e.rowData.zjTzFileList[0].url&&window.open(e.rowData.zjTzFileList[0].url)}},form:{field:"zjTzFileList",type:"files",max:1,fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u8bbe\u8ba1\u54a8\u8be2\u5355\u4f4d\u7ba1\u7406"}},showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",onChange:function(t,a){t&&t[0]&&t[0].name&&("rar"===t[0].name.split(".")[1]||"zip"===t[0].name.split(".")[1]||"7z"===t[0].name.split(".")[1])&&(n.b.warn("\u4e0d\u5141\u8bb8\u4e0a\u4f20rar\u3001zip\u30017z\u683c\u5f0f\u7684\u6587\u4ef6\uff01"),setTimeout(function(){e.table.qnnForm.form.setFieldsValue({zjTzFileList:[]})},200))}}}],actionBtns:[{name:"addRow",icon:"plus",type:"primary",label:"\u65b0\u589e\u884c"},{name:"del",icon:"delete",type:"danger",label:"\u5220\u9664"}]}}},{isInTable:!1,form:{type:"textarea",label:"\u5907\u6ce8",field:"remarks",placeholder:"\u8bf7\u8f93\u5165",required:!1}},{isInTable:!1,form:{field:"createTime",type:"date",label:"\u521b\u5efa\u65e5\u671f",addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayout:{labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:20},sm:{span:18}}},initialValue:function(){return new Date}}},{isInTable:!1,form:{field:"createUserName",type:"string",label:"\u521b\u5efa\u7528\u6237",addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayout:{labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:20},sm:{span:18}}},initialValue:a}},{isInTable:!1,form:{label:"\u9644\u4ef6",field:"zjTzFileList",type:"files",fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u8bbe\u8ba1\u54a8\u8be2\u5355\u4f4d\u6807\u51c6\u5316"}},showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",onChange:function(t,a){t&&t[0]&&t[0].name&&("rar"===t[0].name.split(".")[1]||"zip"===t[0].name.split(".")[1]||"7z"===t[0].name.split(".")[1])&&(n.b.warn("\u4e0d\u5141\u8bb8\u4e0a\u4f20rar\u3001zip\u30017z\u683c\u5f0f\u7684\u6587\u4ef6\uff01"),setTimeout(function(){e.table.qnnForm.form.setFieldsValue({zjTzFileList:[]})},200))}}},{isInForm:!1,isInTable:"1"===this.props.loginAndLogoutInfo.loginInfo.userInfo.ext1,table:{title:"\u64cd\u4f5c",fixed:"right",dataIndex:"action",key:"action",align:"center",noHaveSearchInput:!0,showType:"tile",width:100,btns:[{name:"PolicyDetail",render:function(e){return"<a>\u8bbe\u7f6e\u6240\u5c5e\u5e93</a>"},onClick:function(e){var t=e.props.myPublic.appInfo.mainModule,a=e.rowData.designAdvistoryUnitStandardId,i="";i=e.rowData.libraryId?e.rowData.libraryId:"suoshuku",e.props.dispatch(Object(c.push)("".concat(t,"unitMangeStandardDetail/").concat(a,"/").concat(i)))}}]}}],method:{editClick:function(t){e.table.clearSelectedRows()}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(p.Component);t.default=y}}]);