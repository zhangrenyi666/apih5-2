(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{agdI:function(e,t,n){},jBTH:function(e,t,n){"use strict";n.r(t);n("zIPO");var o=n("UpC8"),a=(n("fx2i"),n("cZi0")),l=n("Id3l"),s=n("RNsw"),r=n("OR/T"),i=n("bn5B"),c=n("PnTt"),d=(n("w9C0"),n("XW+2")),p=n("r0ML"),m=n.n(p),f=n("6eYn"),u=(n("vcLm"),n("ID3L")),I=n.n(u),b=n("agdI"),h=n.n(b),g=d.a.confirm,w={antd:{rowKey:function(e){return e.implementPointId},size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},y=function(e){function t(e){var n;return Object(l.a)(this,t),n=Object(r.a)(this,Object(i.a)(t).call(this,e)),console.log(e.loginAndLogoutInfo.loginInfo.userInfo),n.state={implementPointId:"",companyId:e.loginAndLogoutInfo.loginInfo.userInfo.companyList[0].companyId,companyName:e.loginAndLogoutInfo.loginInfo.userInfo.companyList[0].companyName,curCompanyId:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.value:"",curCompanyName:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.label:"",departmentList:[{label:e.loginAndLogoutInfo.loginInfo.userInfo.departmentList[0].departmentName,value:e.loginAndLogoutInfo.loginInfo.userInfo.departmentList[0].departmentId}]},n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this,n=this.state,l=(n.implementPointId,n.companyId),s=(n.companyName,n.departmentList);n.curCompanyId,n.curCompanyName,this.props.loginAndLogoutInfo.loginInfo.userInfo.ext1;e=s;var r=this.props.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectId;return m.a.createElement("div",{className:h.a.root},m.a.createElement(f.a,Object(o.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(e){t.table=e},fetchConfig:{apiName:"getZjTzBrandImplementPointList",otherParams:{companyId:r}}},w,{formConfig:[{isInTable:!1,form:{field:"implementPointId",type:"string",hide:!0}},{isInTable:!1,form:{field:"companyId",type:"string",hide:!0,initialValue:l}},{table:{title:"\u5e74\u5ea6",dataIndex:"yearDate",onClick:"detail",key:"yearDate",filter:!0,render:function(e){return e?I()(e).format("YYYY"):""}},form:{type:"year",field:"yearDate",placeholder:"\u8bf7\u8f93\u5165",required:!0,editDisabled:!0,formItemLayoutForm:{labelCol:{xs:{span:6},sm:{span:3}},wrapperCol:{xs:{span:18},sm:{span:21}}}}},{table:{title:"\u6240\u5c5e\u673a\u6784",dataIndex:"companyName",key:"companyName"},form:{field:"projectList",required:!0,editDisabled:!0,addDisabled:!0,initialValue:e,type:"treeSelect",treeSelectOption:{selectType:"1",maxNumber:1,fetchConfig:{apiName:"getSysDepartmentUserAllTree"},useCollect:!0,collectApi:"appGetSysFrequentContactsList",collectApiByAdd:"appAddSysFrequentContacts",collectApiByDel:"appRemoveSysFrequentContacts",search:!0,searchPlaceholder:"\u59d3\u540d\u3001\u8d26\u53f7\u3001\u7535\u8bdd",searchParamsKey:"search",searchOtherParams:{pageSize:999}}}},{table:{title:"\u767b\u8bb0\u65e5\u671f",dataIndex:"registerDate",key:"registerDate",format:"YYYY-MM-DD"},form:{field:"registerDate",type:"date",initialValue:new Date,placeholder:"\u8bf7\u9009\u62e9",addDisabled:!0,editDisabled:!0,formItemLayoutForm:{labelCol:{xs:{span:6},sm:{span:3}},wrapperCol:{xs:{span:18},sm:{span:21}}}}},{table:{title:"\u767b\u8bb0\u4eba",dataIndex:"registerPerson",key:"registerPerson"},form:{field:"registerPerson",type:"string",label:"\u767b\u8bb0\u4eba",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",formItemLayoutForm:{labelCol:{xs:{span:6},sm:{span:3}},wrapperCol:{xs:{span:18},sm:{span:21}}},initialValue:function(e){return e.loginAndLogoutInfo.loginInfo.userInfo.realName}}},{table:{title:"\u5185\u5bb9\u7b80\u4ecb",dataIndex:"content",key:"content"},form:{field:"content",type:"textarea",label:"\u5185\u5bb9\u7b80\u4ecb",required:!0,placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u72b6\u6001",filter:!0,dataIndex:"releaseId",key:"releaseId",type:"select"},isInForm:!1,form:{type:"select",field:"releaseId",optionConfig:{label:"label",value:"value"},optionData:[{label:"\u672a\u4e0a\u62a5",value:"0"},{label:"\u5df2\u4e0a\u62a5",value:"1"},{label:"\u88ab\u9000\u56de",value:"2"},{label:"\u6295\u8d44\u4e8b\u4e1a\u90e8\u5f55\u5165",value:"4"}]}},{table:{title:"\u662f\u5426\u5728\u9996\u9875\u5e7f\u800c\u544a\u4e4b",dataIndex:"homeShow",filter:!0,width:160,key:"homeShow",render:function(e){return"0"===e?"\u5426":"\u662f"}},isInForm:!1,form:{type:"select",field:"homeShow",hide:!0,optionData:[{label:"\u5426",value:"0"},{label:"\u662f",value:"1"}]}},{isInTable:!1,form:{label:"\u9644\u4ef6",field:"zjTzFileList",showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",type:"files",fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u9879\u76ee\u3001\u4e13\u9879\u5b9e\u65bd\u65b9\u6848\u8981\u70b9"}}}}],method:{editClick:function(e){"1"===e.selectedRows[0].releaseId?(e.btnCallbackFn.closeDrawer(),a.b.warn("\u5df2\u4e0a\u62a5\u7684\u4e0d\u80fd\u4fee\u6539!"),t.table.clearSelectedRows()):t.table.clearSelectedRows()},guangErGaoZhi:function(e){t.table.clearSelectedRows(),e.selectedRows.length>0?1===e.selectedRows.length?g({title:"\u786e\u5b9a\u5e7f\u800c\u544a\u4e4b\u5230\u9996\u9875\u4e48\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){t.props.myFetch("toHomeShowZjTzBrandImplementPoint",e.selectedRows[0]).then(function(e){var n=e.success,o=e.message;e.data;n?(a.b.success(o),t.table.refresh()):a.b.error(o)})}}):a.b.warn("\u8bf7\u9009\u62e9\u4e00\u6761\u6570\u636e"):a.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},filestExport:function(e){t.table.clearSelectedRows();var n=e.props.myFetch;e.selectedRows.length>0?g({title:"\u786e\u5b9a\u5bfc\u51fa\u9644\u4ef6\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){n("batchExportZjTzBrandImplementPointFile",e.selectedRows).then(function(e){var n=e.success,o=e.message,l=e.data;n?(a.b.success(o),window.location.href=l,t.table.refresh(),t.table.clearSelectedRows()):a.b.error(o)})}}):a.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},delClick:function(e){var n=e.props.myFetch,o=[];if(e.selectedRows.length>0){for(var l=0;l<e.selectedRows.length;l++)"1"===e.selectedRows[l].releaseId&&o.push(e.selectedRows[l].releaseId);o.length>0?(e.btnCallbackFn.closeDrawer(),a.b.warn("\u5df2\u4e0a\u62a5\u7684\u4e0d\u80fd\u5220\u9664!"),t.table.clearSelectedRows()):g({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){n("batchDeleteUpdateZjTzBrandImplementPoint",e.selectedRows).then(function(e){var n=e.success,o=e.message;n?(a.b.success(o),t.table.refresh(),t.table.clearSelectedRows()):a.b.error(o)})}})}else a.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")},shangBao:function(e){var n=e.props.myFetch,o=[],l="0";if(e.selectedRows.length>0){for(var s=0;s<e.selectedRows.length;s++)"1"===e.selectedRows[s].releaseId&&o.push(e.selectedRows[s]),"4"===e.selectedRows[s].releaseId&&(l="4");"4"===l?a.b.warn("\u7531\u6295\u8d44\u4e8b\u4e1a\u90e8\u5f55\u5165\u7684\u6570\u636e\u4e0d\u53ef\u4ee5\u4e0a\u62a5\uff01"):o.length>0?a.b.warn("\u5df2\u4e0a\u62a5\u7684\u6570\u636e\u4e0d\u5141\u8bb8\u4e0a\u62a5\uff01"):g({title:"\u786e\u5b9a\u4e0a\u62a5\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){n("batchReleaseZjTzBrandImplementPoint",e.selectedRows).then(function(e){var n=e.success,o=e.message;n?(a.b.success(o),t.table.refresh(),t.table.clearSelectedRows()):a.b.error(o)})}})}else a.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")},tuiHui:function(e){var n=e.props.myFetch,o=[],l="0";if(e.selectedRows.length>0){for(var s=0;s<e.selectedRows.length;s++)"2"!==e.selectedRows[s].releaseId&&"0"!==e.selectedRows[s].releaseId||o.push(e.selectedRows[s]),"4"===e.selectedRows[s].releaseId&&(l="4");"4"===l?a.b.warn("\u7531\u6295\u8d44\u4e8b\u4e1a\u90e8\u5f55\u5165\u7684\u6570\u636e\u4e0d\u53ef\u9000\u56de\uff01"):o.length>0?a.b.warn("\u5df2\u4e0a\u62a5/\u88ab\u9000\u56de\u7684\u6570\u636e\u4e0d\u5141\u8bb8\u9000\u56de\uff01"):g({title:"\u786e\u5b9a\u9000\u56de\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){n("batchRecallZjTzBrandImplementPoint",e.selectedRows).then(function(e){var n=e.success,o=e.message;n?(a.b.success(o),t.table.refresh(),t.table.clearSelectedRows()):a.b.error(o)})}})}else a.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(p.Component);t.default=y}}]);