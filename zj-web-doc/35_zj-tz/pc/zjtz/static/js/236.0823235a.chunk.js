(window.webpackJsonp=window.webpackJsonp||[]).push([[236],{LnVM:function(e,t,a){"use strict";a.r(t);a("9U97"),a("x/6R"),a("zIPO"),a("MRnW"),a("IdsT"),a("l9AF"),a("orcL");var l=a("C9HG"),o=a("UpC8"),s=(a("fx2i"),a("cZi0")),n=a("Id3l"),r=a("RNsw"),c=a("OR/T"),i=a("bn5B"),d=a("PnTt"),p=(a("w9C0"),a("XW+2")),u=a("r0ML"),h=a.n(u),f=a("6eYn"),b=a("vcLm"),w=a("U8v4"),m=(a("ID3L"),a("FH7h")),y=a.n(m),I=p.a.confirm,R=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(c.a)(this,Object(i.a)(t).call(this))).state={visible:!1,PlansToPushData:[]},e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.PlansToPushData,r=this.props.loginAndLogoutInfo.loginInfo.userInfo,c=r.realName,i=r.ext1;return h.a.createElement("div",{className:y.a.root},h.a.createElement(f.a,Object(o.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t},method:{editClick:function(t){e.table.clearSelectedRows(),"1"===t.selectedRows[0].apih5FlowStatus?(s.b.warn("\u5ba1\u6838\u4e2d\u7684\u6570\u636e\u4e0d\u80fd\u4fee\u6539\uff01"),t.btnCallbackFn.closeDrawer()):"2"===t.selectedRows[0].apih5FlowStatus?(s.b.warn("\u5ba1\u6838\u7ed3\u675f\u7684\u6570\u636e\u4e0d\u80fd\u4fee\u6539\uff01"),t.btnCallbackFn.closeDrawer()):"1"===t.selectedRows[0].releaseId?(t.btnCallbackFn.closeDrawer(),s.b.warn("\u5df2\u53d1\u5e03\u7684\u4e0d\u80fd\u4fee\u6539!"),e.table.clearSelectedRows()):e.table.clearSelectedRows()},faBuClick:function(t){e.table.clearSelectedRows();var a=t.props.myFetch;if(t.selectedRows.length>0){for(var l=[],o=0;o<t.selectedRows.length;o++)"1"===t.selectedRows[o].releaseId&&l.push(t.selectedRows[o].releaseId);l.length>0?s.b.warn("\u5df2\u53d1\u5e03\u7684\u6d88\u606f\u4e0d\u80fd\u53d1\u5e03\uff01"):I({title:"\u786e\u5b9a\u53d1\u5e03\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchDeleteReleaseZjTzPolicyCountry",t.selectedRows).then(function(t){var a=t.success,l=t.message;a?(s.b.success(l),e.table.refresh()):s.b.error(l)})}})}else s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},cheHuiClick:function(t){e.table.clearSelectedRows();var a=t.props.myFetch;if(t.selectedRows.length>0){for(var l=[],o=0;o<t.selectedRows.length;o++)"0"===t.selectedRows[o].releaseId&&l.push(t.selectedRows[o].releaseId);l.length>0?s.b.warn("\u672a\u53d1\u5e03\u7684\u6d88\u606f\u4e0d\u80fd\u64a4\u56de\uff01"):I({title:"\u786e\u5b9a\u64a4\u56de\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchDeleteRecallZjTzPolicyCountry",t.selectedRows).then(function(t){var a=t.success,l=t.message;a?(s.b.success(l),e.table.refresh()):s.b.error(l)})}})}else s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},fenXiBaoGao:function(t){e.table.clearSelectedRows(),t.selectedRows.length>0?1===t.selectedRows.length?"1"===t.selectedRows[0].releaseId?e.setState({PlansToPushData:t.selectedRows,visible:!0}):s.b.warn("\u672a\u53d1\u5e03\u7684\u6d88\u606f\u4e0d\u80fd\u63a8\u9001\uff01"):s.b.warn("\u8bf7\u9009\u62e9\u4e00\u6761\u6570\u636e"):s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},guangErGaoZhi:function(t){e.table.clearSelectedRows(),t.selectedRows.length>0?1===t.selectedRows.length?"1"===t.selectedRows[0].releaseId?I({title:"\u786e\u5b9a\u5e7f\u800c\u544a\u4e4b\u5230\u9996\u9875\u4e48\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){e.props.myFetch("updateZjTzPolicyCountryHomeShow",t.selectedRows[0]).then(function(t){var a=t.success,l=t.message;t.data;a?(s.b.success(l),e.table.refresh()):s.b.error(l)})}}):s.b.warn("\u672a\u53d1\u5e03\u7684\u6d88\u606f\u4e0d\u80fd\u5e7f\u800c\u544a\u4e4b\uff01"):s.b.warn("\u8bf7\u9009\u62e9\u4e00\u6761\u6570\u636e"):s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},filestExport:function(t){e.table.clearSelectedRows();var a=t.props.myFetch;t.selectedRows.length>0?I({title:"\u786e\u5b9a\u5bfc\u51fa\u9644\u4ef6\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchExportZjTzPolicyCountryFile",t.selectedRows).then(function(t){var a=t.success,l=t.message,o=t.data;a?(s.b.success(l),window.location.href=o,e.table.refresh(),e.table.clearSelectedRows()):s.b.error(l)})}}):s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},delClick:function(t){var a=t.props.myFetch,l=[];if(t.selectedRows.length>0){for(var o=0;o<t.selectedRows.length;o++)"1"===t.selectedRows[o].releaseId&&l.push(t.selectedRows[o].releaseId);l.length>0?(t.btnCallbackFn.closeDrawer(),s.b.warn("\u5df2\u53d1\u5e03\u7684\u4e0d\u80fd\u5220\u9664!"),e.table.clearSelectedRows()):I({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchDeleteUpdateZjTzPolicyCountry",t.selectedRows).then(function(t){var a=t.success,l=t.message;a?(s.b.success(l),e.table.refresh(),e.table.clearSelectedRows()):s.b.error(l)})}})}else s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}},window.PolicyPage,{desc:"1"===i?"\u53d1\u5e03\uff1a\u4f7f\u6570\u636e\u5168\u5e73\u53f0\u7528\u6237\u53ef\u89c1\uff1b\u5e7f\u800c\u544a\u4e4b\uff1a\u5c06\u5df2\u53d1\u5e03\u7684\u6570\u636e\u5c55\u793a\u81f3\u9996\u9875":null,formConfig:[{isInTable:!1,form:{field:"policyId",type:"string",hide:!0}},{table:{title:"\u6807\u9898",dataIndex:"title",key:"title",width:200,filter:!0,onClick:"detail",fixed:"left"},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165",required:!0}},{isInTable:!1,form:{type:"string",label:"\u6587\u53f7",field:"symbolNo",required:!0,placeholder:"\u8bf7\u8f93\u5165"}},{isInTable:!1,form:{type:"date",label:"\u7cfb\u7edf\u53d1\u5e03\u65e5\u671f",field:"sysDate",required:!0,initialValue:new Date,placeholder:"\u8bf7\u9009\u62e9"}},{table:{title:"\u53d1\u6587\u90e8\u95e8",tooltip:23,dataIndex:"departmentName",key:"departmentName",width:120},form:{field:"departmentName",label:"\u53d1\u6587\u90e8\u95e8",type:"string",required:!0,placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u539f\u6587\u751f\u6548\u65e5\u671f",dataIndex:"effectDate",key:"effectDate",format:"YYYY-MM-DD",width:120},form:{required:!0,type:"date",placeholder:"\u8bf7\u9009\u62e9"}},{table:{title:"\u539f\u6587\u53d1\u5e03\u65e5\u671f",dataIndex:"releaseDate",key:"releaseDate",format:"YYYY-MM-DD",width:120},form:{required:!0,type:"date",placeholder:"\u8bf7\u9009\u62e9"}},{isInTable:!1,form:{required:!0,type:"string",label:"\u767b\u8bb0\u7528\u6237",field:"registerUser",initialValue:c,placeholder:"\u8bf7\u8f93\u5165",addDisabled:!0,editDisabled:!0}},{table:{title:"\u662f\u5426\u6709\u6548\u6587\u4ef6",dataIndex:"effectiveName",key:"effectiveName",width:120},form:{type:"radio",required:!0,label:"\u662f\u5426\u6709\u6548\u6587\u4ef6",field:"effectiveId",initialValue:"1",optionData:[{label:"\u5426",value:"0"},{label:"\u662f",value:"1"}]}},{isInTable:!1,form:{type:"textarea",label:"\u5206\u6790\u62a5\u544a",field:"report",required:!0,autoSize:{minRows:2},placeholder:"\u8bf7\u8f93\u5165"}},{isInForm:!1,table:{title:"\u56de\u590d\u6570/\u63a8\u9001\u6570",dataIndex:"pushInfoReply",key:"pushInfoReply",render:function(e,t){return h.a.createElement("a",null,t.pushInfoReply," / ",t.pushInfoAll)},width:120,onClick:function(e){var t=e.props.myPublic.appInfo.mainModule,a=e.rowData.policyId;e.props.dispatch(Object(w.push)("".concat(t,"PolicyDetail/").concat(a)))}}},{table:{title:"\u53d1\u5e03\u72b6\u6001",dataIndex:"releaseName",key:"releaseName",filter:!0,width:100},isInForm:!1,form:{type:"select",field:"releaseId",optionData:[{label:"\u672a\u53d1\u5e03",value:"0"},{label:"\u53d1\u5e03",value:"1"}]}},{table:{title:"\u662f\u5426\u5728\u9996\u9875\u5e7f\u800c\u544a\u4e4b",dataIndex:"homeShow",filter:!0,width:160,key:"homeShow",render:function(e){return"0"===e?"\u5426":"\u662f"}},isInForm:!1,form:{type:"select",field:"homeShow",hide:!0,optionData:[{label:"\u5426",value:"0"},{label:"\u662f",value:"1"}]}},{isInTable:!1,form:{label:"\u9644\u4ef6",field:"zjTzFileList",type:"files",showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u56fd\u5bb6\u653f\u7b56"}}}},{isInForm:!1,table:{title:"\u64cd\u4f5c",fixed:"right",dataIndex:"action",key:"action",align:"center",noHaveSearchInput:!0,showType:"tile",width:80,btns:[{name:"PolicyDetail",render:function(e){return"<a>\u9884\u6848\u8be6\u60c5</a>"},onClick:function(e){var t=e.props.myPublic.appInfo.mainModule,a=e.rowData.policyId;e.props.dispatch(Object(w.push)("".concat(t,"PolicyDetail/").concat(a)))}}]}}]})),a?h.a.createElement("div",null,h.a.createElement(p.a,{width:"40%",style:{paddingBottom:"0",top:"0"},title:"\u9884\u6848\u63a8\u9001",visible:a,footer:null,onCancel:this.handleCancel,bodyStyle:{padding:"10px",overflow:"hidden"},centered:!0,closable:!1,maskClosable:!1,wrapClassName:"PlansToPush"},h.a.createElement(b.a,{form:this.props.form,history:this.props.history,match:this.props.match,fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},formItemLayout:{labelCol:{xs:{span:7},sm:{span:7}},wrapperCol:{xs:{span:17},sm:{span:17}}},formConfig:[{label:"\u63a8\u9001\u7ed9",field:"zjTzPolicyCountryReplyList",type:"treeSelect",required:!0,treeSelectOption:{help:!0,selectType:"2",fetchConfig:{apiName:"getSysDepartmentUserAllTree"},useCollect:!0,collectApi:"appGetSysFrequentContactsList",collectApiByAdd:"appAddSysFrequentContacts",collectApiByDel:"appRemoveSysFrequentContacts",search:!0,searchPlaceholder:"\u59d3\u540d\u3001\u8d26\u53f7\u3001\u7535\u8bdd",searchParamsKey:"search",searchOtherParams:{pageSize:999}}}],btns:[{name:"cancel",type:"dashed",label:"\u53d6\u6d88",isValidate:!1,onClick:function(t){e.setState({visible:!1})}},{name:"submit",type:"primary",label:"\u786e\u5b9a",onClick:function(t){var a;n[0].zjTzPolicyCountryReplyList=t.values.zjTzPolicyCountryReplyList,(a=t.btnfns).fetchByCb.apply(a,["updateZjTzPolicyCountryPush"].concat(Object(l.a)(n),[function(t){t.data;var a=t.success,l=t.message;a?(s.b.success(l),e.setState({visible:!1}),e.table.refresh()):s.b.error(l)}]))}}]}))):null)}}]),t}(u.Component);t.default=R}}]);