(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"2Jyx":function(e,t,i){"use strict";i("IdsT"),i("l9AF"),i("fx2i");var n=i("cZi0"),a=(i("07Zm"),i("2HLw")),o=i("Id3l"),d=i("RNsw"),r=i("OR/T"),s=i("bn5B"),l=i("PnTt"),c=i("r0ML"),p=i.n(c),f=i("pBSS"),m="",g="",h=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(r.a)(this,Object(s.a)(t).call(this,e))).refreshSAelect=function(e){i.setState({codeId:e})},i.state={designFlowId:e.match.params.designFlowId||"",codeId:""},i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,i=t.codeId,o=t.designFlowId;return p.a.createElement("div",{style:{height:"100%",position:"relative"}},p.a.createElement(f.a,{style:{height:"91vh",paddingRight:"10px",paddingLeft:"10px"},fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},fetchConfig:{apiName:"",otherParams:{}},drawerConfig:{width:"600px"},wrappedComponentRef:function(t){e.formHasTicket=t},formConfig:[{title:"\u4e3b\u952eid",field:"invoiceId",type:"string",hide:!0},{title:"\u6700\u5916\u5c42\u4e3b\u952eid",field:"designFlowId",type:"string",initialValue:o,hide:!0},{type:"select",label:"\u9009\u62e9\u8bbe\u8ba1\u6d41\u7a0b\u73af\u8282\u6a21\u677f",field:"codeId",placeholder:"\u8bf7\u9009\u62e9",required:!0,optionConfig:{label:"itemName",value:"codeId"},fetchConfig:{apiName:"getZjTzBaseCodeList",otherParams:{typeId:"SheJiLiuChengHuanJieMuBan",interfaceFlag:"0"}},onSelect:function(t,i){m=i.itemdata.itemId,g=i.itemdata.itemName,e.refreshSAelect(t)}},{type:"qnnTable",field:"qnnTableKP",qnnTableConfig:{fetchConfig:{apiName:"getZjTzBaseCodeList",otherParams:{codePid:i,interfaceFlag:"1"}},drawerConfig:{width:"800px"},actionBtnsPosition:"top",antd:{rowKey:function(e){return e.designFlowId},size:"small"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!1,wrappedComponentRef:function(t){e.tableMB=t},actionBtns:[],formConfig:[{isInTable:!1,form:{title:"\u5173\u8054\u7684\u4e3b\u952eid",field:"designFlowId",type:"string",hide:!0}},{table:{title:"\u8bbe\u8ba1\u73af\u8282\u540d\u79f0",dataIndex:"itemName",key:"itemName"},isInForm:!1},{table:{title:"\u5907\u6ce8",dataIndex:"ext1",key:"ext1"},isInForm:!1}]}}]}),p.a.createElement("div",{style:{position:"absolute",background:"white",bottom:0,textAlign:"end",width:"100%",padding:"10px 16px",borderTop:"1px solid rgb(232, 232, 232)"}},p.a.createElement(a.a,{type:"dashed",style:{marginRight:"8px"},onClick:function(){e.props.btnCallbackFn.closeDrawer()}},"\u53d6\u6d88"),p.a.createElement(a.a,{type:"primary",onClick:function(){var t=e.formHasTicket.form.getFieldsValue();t.designFlowTempId=m,t.designFlowTempName=g,e.props.myFetch("addZjTzPartManage",t).then(function(t){var i=t.success,a=(t.data,t.message);i?(n.b.success(a),e.props.refreshOut(),e.props.btnCallbackFn.closeDrawer()):n.b.error(a)})}},"\u4fdd\u5b58")))}}]),t}(c.Component);t.a=h}}]);