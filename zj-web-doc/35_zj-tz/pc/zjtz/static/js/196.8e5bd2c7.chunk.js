(window.webpackJsonp=window.webpackJsonp||[]).push([[196],{qaNo:function(e,t,a){"use strict";a.r(t);a("9U97"),a("zIPO"),a("fx2i");var o=a("cZi0"),n=a("UpC8"),l=a("Id3l"),r=a("RNsw"),i=a("OR/T"),s=a("bn5B"),d=a("PnTt"),c=(a("w9C0"),a("XW+2")),p=a("r0ML"),b=a.n(p),m=a("6eYn"),u=a("U8v4"),h=a("05wd"),w=a.n(h),f=a("96eo"),I=c.a.confirm,y={fetchConfig:{apiName:"getZjTzCashList"},antd:{rowKey:"cashId",size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={visibleSend:!1,loadingSend:!1,cashId:""},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return b.a.createElement("div",{className:w.a.root},b.a.createElement(m.a,Object(n.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t}},y,{formConfig:[{isInTable:!1,form:{field:"cashId",type:"string",hide:!0}},{table:{title:"\u9879\u76ee\u540d\u79f0",filter:!0,onClick:"detail",width:300,dataIndex:"projectName",key:"projectName"},form:{label:"\u9879\u76ee\u540d\u79f0",field:"projectId",type:"select",required:!0,editDisabled:!0,optionConfig:{label:"projectName",value:"projectId"},fetchConfig:{apiName:"getZjTzProManageList"},placeholder:"\u8bf7\u9009\u62e9",formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}}},{table:{title:"\u5e74\u6708",dataIndex:"yearMonthDate",filter:!0,width:100,format:"YYYY-MM",key:"yearMonthDate"},form:{type:"month",editDisabled:!0,field:"yearMonthDate",formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}}},{table:{title:"<div>\u7ecf\u8425\u6d3b\u52a8\u4ea7\u751f\u7684\u73b0\u91d1\u6d41\u91cf\u51c0\u989d<br/>\uff08\u5143\uff09</div>",width:240,dataIndex:"total1",key:"total1"},isInForm:!1},{table:{title:"<div>\u6295\u8d44\u6d3b\u52a8\u4ea7\u751f\u7684\u73b0\u91d1\u6d41\u91cf\u51c0\u989d<br/>\uff08\u5143\uff09</div>",width:240,dataIndex:"total2",key:"total2"},isInForm:!1},{table:{title:"<div>\u7b79\u8d44\u6d3b\u52a8\u4ea7\u751f\u7684\u73b0\u91d1\u6d41\u91cf\u51c0\u989d<br/>\uff08\u5143\uff09</div>",width:240,dataIndex:"total3",key:"total3"},isInForm:!1},{table:{title:"\u6c47\u7387\u53d8\u52a8\u5bf9\u73b0\u91d1\u53ca\u73b0\u91d1\u7b49\u4ef7\u7269\u7684\u5f71\u54cd",width:260,dataIndex:"total4",key:"total4"},isInForm:!1},{table:{title:"<div>\u73b0\u91d1\u53ca\u73b0\u91d1\u7b49\u4ef7\u7269\u51c0\u589e\u52a0\u989d<br/>\uff08\u5143\uff09</div>",width:220,dataIndex:"total5",key:"total5"},isInForm:!1},{table:{title:"<div>\u671f\u672b\u73b0\u91d1\u53ca\u73b0\u91d1\u7b49\u4ef7\u7269\u4f59\u989d<br/>\uff08\u5143\uff09</div>",width:200,dataIndex:"total6",key:"total6"},isInForm:!1},{isInTable:!1,form:{field:"registerDate",type:"date",label:"\u767b\u8bb0\u65e5\u671f",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}},initialValue:function(){return new Date}}},{isInTable:!1,form:{field:"registerPerson",type:"string",label:"\u767b\u8bb0\u7528\u6237",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}},initialValue:function(e){return e.loginAndLogoutInfo.loginInfo.userInfo.realName}}},{table:{title:"\u5ba1\u6838\u72b6\u6001",fixed:"right",width:120,dataIndex:"apih5FlowStatus",key:"apih5FlowStatus",render:function(e){return"0"===e?"\u5df2\u53d1\u8d77":"1"===e?"\u5ba1\u6838\u4e2d":"2"===e?"\u5ba1\u6838\u7ed3\u675f":"3"===e?"\u9000\u56de":""===e?"\u672a\u5ba1\u6838":"--"}},isInForm:!1},{isInForm:!1,table:{title:"\u64cd\u4f5c",fixed:"right",dataIndex:"action",key:"action",align:"center",noHaveSearchInput:!0,showType:"tile",width:80,btns:[{name:"PolicyDetail",render:function(e){return"<a>\u8be6\u60c5</a>"},onClick:function(e){var t=e.props.myPublic.appInfo.mainModule,a=e.rowData,o=a.cashId,n=a.apih5FlowStatus,l="";l=""===n?"99":n,e.props.dispatch(Object(u.push)("".concat(t,"CashFlowStatementDetail/").concat(o,"/").concat(l,"/",0)))}}]}}],componentsKey:{FlowByMonthlyReport:function(t){e.table.clearSelectedRows();var a=t.selectedRows;return!a||!a.length||a.length>1?(t.btnCallbackFn.closeDrawer(),t.btnCallbackFn.msg.error("\u8bf7\u9009\u62e9\u4e00\u6761\u6570\u636e\uff01"),b.a.createElement("div",null)):""!=t.selectedRows[0].workId?(t.btnCallbackFn.closeDrawer(),t.btnCallbackFn.msg.error("\u5df2\u53d1\u8d77\u5ba1\u6279\u7684\u4e0d\u53ef\u518d\u53d1\u8d77\uff01"),b.a.createElement("div",null)):b.a.createElement(f.a,Object(n.a)({},t,{flowData:a[0]}))}},method:{editClick:function(t){"1"===t.selectedRows[0].apih5FlowStatus||"2"===t.selectedRows[0].apih5FlowStatus?(t.btnCallbackFn.closeDrawer(),o.b.warn("\u8bf7\u9009\u62e9\u672a\u5ba1\u6838\u7684\u6570\u636e!"),e.table.clearSelectedRows()):e.table.clearSelectedRows()},delClick:function(t){var a=t.props.myFetch,n=[];if(t.selectedRows.length>0){for(var l=0;l<t.selectedRows.length;l++)"1"!==t.selectedRows[l].apih5FlowStatus&&"2"!==t.selectedRows[l].apih5FlowStatus||n.push(t.selectedRows[l].apih5FlowStatus);n.length>0?(t.btnCallbackFn.closeDrawer(),o.b.warn("\u8bf7\u9009\u62e9\u672a\u5ba1\u6838\u7684\u6570\u636e!"),e.table.clearSelectedRows()):I({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchDeleteUpdateZjTzCash",t.selectedRows).then(function(t){var a=t.success,n=t.message;a?(o.b.success(n),e.table.refresh(),e.table.clearSelectedRows()):o.b.error(n)})}})}else o.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(p.Component);t.default=g}}]);