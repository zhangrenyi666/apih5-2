(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{"0bR2":function(e,t,a){},W2hb:function(e,t,a){"use strict";a.r(t);a("zIPO");var o=a("UpC8"),r=(a("fx2i"),a("cZi0")),l=a("Id3l"),s=a("RNsw"),n=a("OR/T"),i=a("bn5B"),c=a("PnTt"),p=(a("w9C0"),a("XW+2")),d=a("r0ML"),f=a.n(d),m=a("6eYn"),u=a("0bR2"),b=a.n(u),h=p.a.confirm,w={fetchConfig:{apiName:"getZjTzProPreApprovalList"},antd:{rowKey:function(e){return e.proPreApprovalId},size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(n.a)(this,Object(i.a)(t).call(this,e))).state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:b.a.root},f.a.createElement(m.a,Object(o.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t}},w,{formConfig:[{isInTable:!1,form:{field:"proPreApprovalId",type:"string",hide:!0}},{isInSearch:!1,table:{title:"\u6807\u9898",tooltip:23,width:200,dataIndex:"title",key:"title",onClick:"detail"},form:{type:"string",field:"title",placeholder:"\u8bf7\u8f93\u5165",required:!0,spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"projectName",key:"projectName"},form:{label:"\u9879\u76ee\u540d\u79f0",field:"projectId",type:"select",showSearch:!0,required:!0,optionConfig:{label:"projectName",value:"projectId"},fetchConfig:{apiName:"getZjTzProManageList"},placeholder:"\u8bf7\u9009\u62e9",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u4e3b\u8981\u5185\u5bb9",dataIndex:"content",width:200,tooltip:23,key:"content"},form:{label:"\u4e3b\u8981\u5185\u5bb9",type:"textarea",field:"content",placeholder:"\u8bf7\u8f93\u5165",required:!0,formItemLayout:{labelCol:{xs:{span:21},sm:{span:3}},wrapperCol:{xs:{span:21},sm:{span:21}}}}},{table:{title:"\u72b6\u6001",dataIndex:"releaseId",key:"releaseId",filter:!0,width:100,type:"select"},isInForm:!1,form:{type:"select",field:"releaseId",optionData:[{label:"\u5df2\u4e0b\u8fbe",value:"1"},{label:"\u672a\u4e0b\u8fbe",value:"0"}]}},{isInTable:!1,form:{label:"\u9644\u4ef6",field:"zjTzFileList",type:"files",showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u9879\u76ee\u6807\u524d\u6838\u51c6"}}}},{table:{title:"\u767b\u8bb0\u65e5\u671f",width:100,dataIndex:"registerDate",format:"YYYY-MM-DD",key:"registerDate"},form:{field:"registerDate",type:"date",label:"\u767b\u8bb0\u65e5\u671f",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},initialValue:function(){return new Date}}},{table:{title:"\u767b\u8bb0\u7528\u6237",width:100,dataIndex:"registerPerson",key:"registerPerson"},form:{field:"registerPerson",type:"string",label:"\u767b\u8bb0\u7528\u6237",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},initialValue:function(e){return e.loginAndLogoutInfo.loginInfo.userInfo.realName}}}],method:{editClick:function(t){"1"===t.selectedRows[0].releaseId?(t.btnCallbackFn.closeDrawer(),r.b.warn("\u5df2\u4e0b\u8fbe\u7684\u4e0d\u80fd\u4fee\u6539!"),e.table.clearSelectedRows()):e.table.clearSelectedRows()},zhengGaiXiaDa:function(t){e.table.clearSelectedRows();var a=t.props.myFetch;if(t.selectedRows.length>0){for(var o=[],l=0;l<t.selectedRows.length;l++)"1"===t.selectedRows[l].releaseId&&o.push(t.selectedRows[l].releaseId);o.length>0?r.b.warn("\u5df2\u4e0b\u8fbe\u7684\u6d88\u606f\u4e0d\u80fd\u4e0b\u8fbe\uff01"):h({title:"\u786e\u5b9a\u4e0b\u8fbe\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchReleaseZjTzProPreApproval",t.selectedRows).then(function(t){var a=t.success,o=t.message;a?(r.b.success(o),e.table.refresh()):r.b.error(o)})}})}else r.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},cheHuiClick:function(t){e.table.clearSelectedRows();var a=t.props.myFetch;if(t.selectedRows.length>0){for(var o=[],l=0;l<t.selectedRows.length;l++)"0"===t.selectedRows[l].releaseId&&o.push(t.selectedRows[l].releaseId);o.length>0?r.b.warn("\u672a\u4e0b\u8fbe\u7684\u6d88\u606f\u4e0d\u80fd\u64a4\u56de\uff01"):h({title:"\u786e\u5b9a\u64a4\u56de\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchRecallZjTzProPreApproval",t.selectedRows).then(function(t){var a=t.success,o=t.message;a?(r.b.success(o),e.table.refresh()):r.b.error(o)})}})}else r.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},filestExport:function(t){e.table.clearSelectedRows();var a=t.props.myFetch;t.selectedRows.length>0?h({title:"\u786e\u5b9a\u5bfc\u51fa\u9644\u4ef6\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchExportZjTzProPreApprovalFile",t.selectedRows).then(function(t){var a=t.success,o=t.message,l=t.data;a?(r.b.success(o),window.location.href=l,e.table.refresh(),e.table.clearSelectedRows()):r.b.error(o)})}}):r.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},delClick:function(t){var a=t.props.myFetch;t.selectedRows.length>0?h({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchDeleteUpdateZjTzProPreApproval",t.selectedRows).then(function(t){var a=t.success,o=t.message;a?(r.b.success(o),e.table.refresh(),e.table.clearSelectedRows()):r.b.error(o)})}}):r.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(d.Component);t.default=g}}]);