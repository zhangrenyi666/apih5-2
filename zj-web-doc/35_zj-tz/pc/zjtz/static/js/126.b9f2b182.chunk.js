(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{"6xQy":function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},QfjS:function(e,t,n){n("lxyW"),e.exports=n("WsQ/").parseInt},UFgO:function(e,t,n){e.exports=n("QfjS")},czqC:function(e,t,n){var o=n("NhKq"),a=n("/GEf"),r=n("G1lJ"),d=n("6xQy"),i="["+d+"]",s=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),u=function(e,t,n){var a={},i=r(function(){return!!d[e]()||"\u200b\x85"!="\u200b\x85"[e]()}),s=a[e]=i?t(l):d[e];n&&(a[n]=s),o(o.P+o.F*i,"String",a)},l=u.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},lxyW:function(e,t,n){var o=n("NhKq"),a=n("wzrq");o(o.G+o.F*(parseInt!=a),{parseInt:a})},o3qd:function(e,t,n){"use strict";n.r(t);n("IdsT"),n("l9AF"),n("3fBH");var o=n("g2mn"),a=n("UpC8"),r=(n("fx2i"),n("cZi0")),d=n("UFgO"),i=n.n(d),s=n("Id3l"),c=n("RNsw"),u=n("OR/T"),l=n("bn5B"),f=n("PnTt"),h=n("r0ML"),p=n.n(h),m=n("U8v4"),I=n("iEDq"),g=n.n(I),b=n("vcLm"),v=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={thousandCheckId:e.match.params.thousandCheckId||"",releaseId:e.match.params.releaseId||"",loadingSend:!1,actionBtnsVal:[]},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.routerInfo.routeData[t.routerInfo.curKey];t.myFetch("getSysMenuBtn",{menuParentId:n._value,tableField:"projectInfo"}).then(function(t){var n=t.success,o=t.data;t.message;n&&e.setState({actionBtnsVal:o})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.thousandCheckId,d=t.actionBtnsVal;return p.a.createElement("div",{className:g.a.root},p.a.createElement(o.a,{spinning:this.state.loadingSend},p.a.createElement(b.a,Object(a.a)({},this.props,{fetchConfig:{apiName:"getZjTzThousandDeductList",otherParams:{thousandCheckId:n}},fetch:this.props.myFetch,wrappedComponentRef:function(t){e.formmm=t},headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},formConfig:[{label:"\u4e3b\u952eid",field:"codePid",hide:!0},{label:"\u5916\u5c42\u4e3b\u952eid",field:"thousandCheckId",hide:!0},{type:"qnnTable",field:"zjTzThousandDeductList",incToForm:!0,qnnTableConfig:{actionBtnsPosition:"top",antd:{rowKey:"thousandDeductId",size:"small",scroll:{y:.65*document.documentElement.clientHeight}},drawerConfig:{width:"1000px"},limit:999,curPage:1,paginationConfig:!1,firstRowIsSearch:!1,isShowRowSelect:!1,formConfig:[{isInTable:!1,form:{label:"\u4e3b\u952eid",field:"thousandDeductId",hide:!0}},{table:{title:"\u8bc4\u4ef7\u9879\u76ee",dataIndex:"evalPro",key:"evalPro",render:function(e,t,n){return{children:p.a.createElement("div",null,e),props:{rowSpan:Number(t.count)}}}}},{table:{title:"\u8bc4\u4ef7\u6307\u6807",dataIndex:"evalIndex",key:"evalIndex"}},{table:{title:"\u8bc4\u4ef7\u5185\u5bb9\u53ca\u6263\u5206\u6807\u51c6",dataIndex:"evalContent",tooltip:80,width:"35%",key:"evalContent"}},{table:{title:"\u6807\u51c6\u914d\u5206",width:80,dataIndex:"score",key:"score"}},{table:{title:"\u6263\u5206",dataIndex:"deduct",key:"deduct",width:120,tdEdit:function(t){return"1"===e.props.loginAndLogoutInfo.loginInfo.userInfo.ext1&&"1"!==e.state.releaseId}},form:{type:"number",placeholder:"\u8bf7\u8f93\u5165...",onFocus:function(e,t){t.record.deduct>=0?i()(t.record.deduct)===Number(t.record.deduct)?t.record.deduct<=t.record.score||r.b.error("\u6263\u5206\u5e94\u5c0f\u4e8e\u6807\u51c6\u914d\u5206"):r.b.error("\u8bf7\u8f93\u5165\u6574\u6570"):r.b.error("\u6263\u5206\u4e0d\u80fd\u4e3a\u8d1f\u6570")}}},{table:{title:"\u6263\u5206\u8bf4\u660e",dataIndex:"deductDesc",key:"deductDesc",width:150,tdEdit:function(t){return"1"===e.props.loginAndLogoutInfo.loginInfo.userInfo.ext1&&"1"!==e.state.releaseId}},form:{type:"textarea",placeholder:"\u8bf7\u8f93\u5165...",autoSize:{minRows:1,maxRows:4}}}],method:{save:function(){for(var t=e.formmm.form.getFieldsValue(),n=0;n<t.zjTzThousandDeductList.length;n++)t.zjTzThousandDeductList[n].actualScore=t.zjTzThousandDeductList[n].score-t.zjTzThousandDeductList[n].deduct;e.props.myFetch("saveZjTzThousandCheckAllDeduct",t).then(function(t){var n=t.success,o=(t.data,t.message);n&&(r.b.success(o),e.setState({loadingSend:!1}),e.formmm.refresh())})},goBack:function(){var t=e.props.myPublic.appInfo.mainModule;e.props.dispatch(Object(m.push)("".concat(t,"ThousandthSystemInspection")))}},actionBtns:d}}],btns:[]}))))}}]),t}(h.Component);t.default=v},wzrq:function(e,t,n){var o=n("+e9d").parseInt,a=n("czqC").trim,r=n("6xQy"),d=/^[-+]?0[xX]/;e.exports=8!==o(r+"08")||22!==o(r+"0x16")?function(e,t){var n=a(String(e),3);return o(n,t>>>0||(d.test(n)?16:10))}:o}}]);