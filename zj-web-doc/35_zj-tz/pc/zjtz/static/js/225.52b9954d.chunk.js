(window.webpackJsonp=window.webpackJsonp||[]).push([[225],{D92g:function(e,t,a){"use strict";a.r(t);a("x/6R"),a("MRnW"),a("IdsT"),a("l9AF"),a("orcL"),a("w9C0");var n=a("XW+2"),i=(a("3fBH"),a("g2mn")),o=(a("fx2i"),a("cZi0")),s=a("UpC8"),l=a("Id3l"),d=a("RNsw"),r=a("OR/T"),c=a("bn5B"),p=a("PnTt"),m=a("r0ML"),h=a.n(m),u=a("6eYn"),f=a("vcLm"),b=a("Jgst"),I=a.n(b),w=a("U32T"),g={antd:{rowKey:"debtExcelId",size:"small",scroll:{y:.65*document.documentElement.clientHeight}},drawerConfig:{width:"1100px"},limit:99999,curPage:1,paginationConfig:!1,firstRowIsSearch:!1,isShowRowSelect:!1,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleCancelSend=function(){a.setState({visibleSend:!1,loadingSend:!1})},a.state={debtId:e.match.params.debtId||"",visibleSend:!1,loadingSend:!1,rowDataList:[],apih5FlowStatus:e.match.params.apih5FlowStatus||"",isWorkId:e.match.params.isWorkId||""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.debtId,l=t.visibleSend,d=t.loadingSend,r=t.apih5FlowStatus,c=this.props.myPublic.domain;return h.a.createElement("div",{className:I.a.root},h.a.createElement(u.a,Object(s.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},fetchConfig:{apiName:"getZjTzDebtExcelList",otherParams:function(){return"1"===e.state.isWorkId?{workId:a}:{debtId:a}}},wrappedComponentRef:function(t){e.tableGM=t},method:{importClick:function(t){e.setState({visibleSend:!0})},goBack:function(e){e.props.dispatch(Object(w.c)())},hideClick:function(){return"1"===r||"2"===r}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}},g,{formConfig:[{isInTable:!1,form:{field:"debtExcelId",type:"string",hide:!0}},{isInTable:!1,form:"1"===this.state.isWorkId?{label:"\u4e3b\u952eid",field:"workId",initialValue:a,hide:!0}:{label:"\u4e3b\u952eid",field:"debtId",initialValue:a,hide:!0}},{table:{title:"\u9879\u76ee",dataIndex:"ext11",key:"ext11"},isInForm:!1},{table:{title:"\u884c\u6b21",width:80,dataIndex:"ext12",key:"ext12",align:"center",defaultSortOrder:"descend"},isInForm:!1},{table:{title:"\u91d1\u989d",width:200,dataIndex:"ext13",key:"ext13"},isInForm:!1},{table:{title:"\u9879\u76ee",dataIndex:"ext21",key:"ext21"},isInForm:!1},{table:{title:"\u884c\u6b21",width:80,dataIndex:"ext22",align:"center",defaultSortOrder:"descend",key:"ext22"},isInForm:!1},{table:{title:"\u91d1\u989d",width:200,dataIndex:"ext23",key:"ext23"},isInForm:!1}]})),h.a.createElement(n.a,{width:"500px",style:{top:"0"},title:"\u5bfc\u5165",visible:l,footer:null,onCancel:this.handleCancelSend,bodyStyle:{width:"500px"},centered:!0,destroyOnClose:this.handleCancelSend,wrapClassName:"modals"},h.a.createElement(i.a,{spinning:d},h.a.createElement("div",{style:{marginLeft:"15px"},onClick:function(){window.open(c+"upload/template/zjtz/debt.xlsx")}},"\u6a21\u677f\u4e0b\u8f7d\uff1a",h.a.createElement("a",null,"\u8d44\u4ea7\u8d1f\u503a\u60c5\u51b5\u8868")),h.a.createElement(f.a,Object(s.a)({},this.props,{match:this.props.match,fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},formConfig:[{label:"\u9644\u4ef6",field:"fileList",showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",required:!0,type:"files",fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u8d44\u4ea7\u8d1f\u503a\u60c5\u51b5\u8868"}}}],btns:[{name:"cancel",type:"dashed",label:"\u53d6\u6d88",isValidate:!1,onClick:function(){e.setState({visibleSend:!1,loadingSend:!1})}},{name:"submit",type:"primary",label:"\u4fdd\u5b58",onClick:function(t){e.setState({loadingSend:!0}),"1"===e.state.isWorkId?t.values.workId=a:t.values.debtId=a,e.props.myFetch("batchImportZjTzDebtExcel",t.values).then(function(t){var a=t.success,n=t.message;a?(o.b.success(n),e.tableGM.refresh(),e.setState({visibleSend:!1,loadingSend:!1})):o.b.error(n)})}}],formItemLayout:{labelCol:{xs:{span:4},sm:{span:4}},wrapperCol:{xs:{span:20},sm:{span:20}}}})))))}}]),t}(m.Component);t.default=x}}]);