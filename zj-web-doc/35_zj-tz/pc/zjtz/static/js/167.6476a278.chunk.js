(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{DyYw:function(e,t,n){"use strict";n.r(t);n("x/6R"),n("8Qi2"),n("MRnW"),n("orcL"),n("w9C0");var a=n("XW+2"),o=(n("fx2i"),n("cZi0")),i=n("UpC8"),r=n("Id3l"),s=n("RNsw"),l=n("OR/T"),c=n("bn5B"),m=n("PnTt"),p=n("r0ML"),d=n.n(p),u=n("6eYn"),f=n("vcLm"),b=n("yatL"),h=n.n(b),y={antd:{rowKey:function(e){return e.complianceBaseId},size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},formItemLayout:{labelCol:{xs:{span:21},sm:{span:3}},wrapperCol:{xs:{span:21},sm:{span:21}}},firstRowIsSearch:!1,isShowRowSelect:!0},I=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={visible:!1,proNameId:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectId:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.visible,r=t.proNameId;return d.a.createElement("div",{className:h.a.root},d.a.createElement(u.a,Object(i.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t},fetchConfig:{apiName:"getZjTzComplianceBaseList",otherParams:{projectId:r}},getRowSelection:function(e){return{getCheckboxProps:function(e){return{name:e.name,disabled:"001"===e.num||"002"===e.num||"003"===e.num||"004"===e.num||"005"===e.num||"006"===e.num||"007"===e.num||"008"===e.num}}}}},y,{formConfig:[{isInTable:!1,form:{field:"complianceBaseId",type:"string",hide:!0}},{isInTable:!1,form:{field:"projectId",type:"string",initialValue:r,hide:!0}},{table:{title:"\u5e8f\u53f7",dataIndex:"index",key:"index",render:function(e,t,n){return n+1}},isInForm:!1},{table:{title:"\u73af\u8282\u7f16\u53f7",dataIndex:"num",key:"num"},form:{required:!0,type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u5408\u89c4\u73af\u8282\u540d\u79f0",dataIndex:"complianceBanseName",key:"complianceBanseName"},form:{required:!0,type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u521b\u5efa\u8005",dataIndex:"modifyUserName",key:"modifyUserName"},isInForm:!1},{table:{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"modifyTime",key:"modifyTime",format:"YYYY-MM-DD"},isInForm:!1}],method:{editClick:function(t){e.table.clearSelectedRows()},exportClick:function(){}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})),n?d.a.createElement("div",null,d.a.createElement(a.a,{width:"500px",style:{paddingBottom:"0",top:"0"},title:"\u5bfc\u5165",visible:n,footer:null,bodyStyle:{padding:"10px",overflow:"hidden"},centered:!0,closable:!1,maskClosable:!1,wrapClassName:"replyData"},d.a.createElement(f.a,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},formItemLayout:{labelCol:{xs:{span:3},sm:{span:3}},wrapperCol:{xs:{span:21},sm:{span:21}}},formConfig:[{label:"\u5bfc\u5165\u6a21\u677f",field:"attachmentList",type:"files",required:!0,fetchConfig:{apiName:window.configs.domain+"upload"}}],btns:[{name:"cancel",type:"dashed",label:"\u53d6\u6d88",field:"cancel",isValidate:!1,onClick:function(t){e.setState({visible:!1})}},{name:"submit",type:"primary",label:"\u786e\u5b9a",field:"submit",onClick:function(t){t.btnfns.fetchByCb("",t.values,function(t){t.data;var n=t.success,a=t.message;n?(o.b.success(a),e.table&&e.table.refresh(),e.setState({visible:!1})):o.b.error(a)})}}]}))):null)}}]),t}(p.Component);t.default=I},yatL:function(e,t,n){}}]);