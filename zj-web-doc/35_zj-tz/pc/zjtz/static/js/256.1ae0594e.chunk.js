(window.webpackJsonp=window.webpackJsonp||[]).push([[256],{WWOx:function(e,a,t){"use strict";t.r(a);t("9U97"),t("zIPO");var o=t("UpC8"),s=(t("fx2i"),t("cZi0")),n=t("Id3l"),r=t("RNsw"),l=t("OR/T"),i=t("bn5B"),c=t("PnTt"),d=(t("w9C0"),t("XW+2")),p=t("r0ML"),m=t.n(p),u=t("6eYn"),f=t("U8v4"),b=t("iEDq"),h=t.n(b),w=d.a.confirm,I={antd:{rowKey:function(e){return e.thousandCheckId},size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},k=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(i.a)(a).call(this,e))).state={proNameId:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectId:""},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:h.a.root},m.a.createElement(u.a,Object(o.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(a){e.table=a},fetchConfig:{apiName:"getZjTzThousandCheckList",otherParams:{projectId:this.state.proNameId}}},I,{formConfig:[{isInTable:!1,form:{field:"thousandCheckId",type:"string",hide:!0}},{isInSearch:!1,table:{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"projectName",key:"projectName",width:300,tooltip:23,onClick:"detail"},form:{field:"projectId",type:"select",editDisabled:!0,required:!0,showSearch:!0,optionConfig:{label:"projectName",value:"projectId"},fetchConfig:{apiName:"getZjTzProManageList"},placeholder:"\u8bf7\u8f93\u5165",formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}}},{isInSearch:!1,table:{title:"\u68c0\u67e5\u65e5\u671f",dataIndex:"checkDate",format:"YYYY-MM-DD",key:"checkDate"},form:{type:"date",field:"checkDate",placeholder:"\u8bf7\u8f93\u5165",required:!0,spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u9879\u76ee\u603b\u5f97\u5206",dataIndex:"proScore",key:"proScore"},form:{field:"proScore",type:"number",disabled:!0,addDisabled:!0,editDisabled:!0,initialValue:0,spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u989d\u5916\u52a0\u5206\u503c",dataIndex:"addMarks",key:"addMarks"},isInForm:!1},{table:{title:"\u989d\u5916\u52a0\u5206\u539f\u56e0",width:160,tooltip:20,dataIndex:"addMarksReason",key:"addMarksReason"},isInForm:!1},{table:{title:"\u989d\u5916\u6263\u5206\u503c",dataIndex:"reduceMarks",key:"reduceMarks"},isInForm:!1},{table:{title:"\u989d\u5916\u6263\u5206\u539f\u56e0",width:160,tooltip:20,dataIndex:"reduceMarksReason",key:"reduceMarksReason"},isInForm:!1},{table:{title:"\u68c0\u67e5\u4eba",dataIndex:"checkPerson",key:"checkPerson"},form:{field:"checkPerson",type:"string",required:!0,spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{table:{title:"\u662f\u5426\u5426\u51b3",dataIndex:"voteDownName",key:"voteDownName"},form:{field:"voteDownId",type:"select",optionData:[{label:"\u662f",value:"1"},{label:"\u5426",value:"0"}],required:!0,spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{isInTable:!1,form:{label:"\u5426\u51b3\u60c5\u51b5\u8bf4\u660e",field:"scoreTotal",type:"textarea"}},{table:{title:"\u767b\u8bb0\u65e5\u671f",dataIndex:"registerDate",format:"YYYY-MM-DD",key:"registerDate",width:100},isInForm:!1},{table:{title:"\u4e0b\u8fbe\u72b6\u6001",dataIndex:"releaseId",key:"releaseId",width:100,type:"select",filter:!0},isInForm:!1,form:{type:"select",field:"releaseId",optionData:[{label:"\u672a\u4e0b\u8fbe",value:"0"},{label:"\u5df2\u4e0b\u8fbe",value:"1"}]}},{isInTable:!1,form:{label:"\u989d\u5916\u52a0\u5206\u503c",field:"addMarks",type:"number",min:0,initialValue:0,spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{isInTable:!1,form:{label:"\u989d\u5916\u52a0\u5206\u539f\u56e0",field:"addMarksReason",type:"textarea",autoSize:{minRows:1,maxRows:4},spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{isInTable:!1,form:{label:"\u989d\u5916\u6263\u5206\u503c",field:"reduceMarks",type:"number",min:0,initialValue:0,spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{isInTable:!1,form:{label:"\u989d\u5916\u6263\u5206\u539f\u56e0",field:"reduceMarksReason",type:"textarea",autoSize:{minRows:1,maxRows:4},spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},{isInTable:!1,form:{label:"\u9644\u4ef6",field:"zjTzFileList",type:"files",showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",fetchConfig:{apiName:window.configs.domain+"upload",otherParams:{name:"\u5343\u5206\u5236\u68c0\u67e5"}}}},{isInTable:!1,form:{field:"registerDate",type:"date",label:"\u767b\u8bb0\u65e5\u671f",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},initialValue:function(){return new Date}}},{isInTable:!1,form:{field:"registerPerson",type:"string",label:"\u767b\u8bb0\u7528\u6237",required:!0,addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},initialValue:function(e){return e.loginAndLogoutInfo.loginInfo.userInfo.realName}}},{isInTable:!1,form:{type:"number",field:"detailMarks",hide:!0,initialValue:0}},{isInForm:!1,table:{title:"\u64cd\u4f5c",fixed:"right",dataIndex:"action",key:"action",align:"center",noHaveSearchInput:!0,showType:"tile",width:120,btns:[{name:"PolicyDetail",render:function(e){return"<a>\u5343\u5206\u5236\u68c0\u67e5\u660e\u7ec6</a>"},onClick:function(e){var a=e.props.myPublic.appInfo.mainModule,t=e.rowData.thousandCheckId;e.props.dispatch(Object(f.push)("".concat(a,"ThousandthSystemInspectionDetail/").concat(t,"/").concat("0")))}}]}}],method:{editClick:function(a){1===a.selectedRows.length?"1"===a.selectedRows[0].releaseId?(a.btnCallbackFn.closeDrawer(),s.b.warn("\u5df2\u4e0b\u8fbe\u7684\u6570\u636e\u4e0d\u80fd\u4fee\u6539\uff01!"),e.table.clearSelectedRows()):e.table.clearSelectedRows():s.b.warn("\u8bf7\u9009\u62e9\u4e00\u6761\u6570\u636e")},faBuClick:function(a){e.table.clearSelectedRows();var t=a.props.myFetch;if(a.selectedRows.length>0){for(var o=[],n=0;n<a.selectedRows.length;n++)"1"===a.selectedRows[n].releaseId&&o.push(a.selectedRows[n].releaseId);o.length>0?s.b.warn("\u5df2\u4e0b\u8fbe\u7684\u6d88\u606f\u4e0d\u80fd\u4e0b\u8fbe\uff01"):w({title:"\u786e\u5b9a\u4e0b\u8fbe\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){t("batchReleaseZjTzThousandCheck",a.selectedRows).then(function(a){var t=a.success,o=a.message;t?(s.b.success(o),e.table.refresh()):s.b.error(o)})}})}else s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},cheHuiClick:function(a){e.table.clearSelectedRows();var t=a.props.myFetch;if(a.selectedRows.length>0){for(var o=[],n=0;n<a.selectedRows.length;n++)"0"===a.selectedRows[n].releaseId&&o.push(a.selectedRows[n].releaseId);o.length>0?s.b.warn("\u672a\u4e0b\u8fbe\u7684\u6d88\u606f\u4e0d\u80fd\u64a4\u56de\uff01"):w({title:"\u786e\u5b9a\u64a4\u56de\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){t("batchRecallZjTzThousandCheck",a.selectedRows).then(function(a){var t=a.success,o=a.message;t?(s.b.success(o),e.table.refresh()):s.b.error(o)})}})}else s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},filestExport:function(a){e.table.clearSelectedRows();var t=a.props.myFetch;a.selectedRows.length>0?w({title:"\u786e\u5b9a\u5bfc\u51fa\u9644\u4ef6\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){t("batchExportZjTzThousandCheckFile",a.selectedRows).then(function(a){var t=a.success,o=a.message,n=a.data;t?(s.b.success(o),window.location.href=n,e.table.refresh(),e.table.clearSelectedRows()):s.b.error(o)})}}):s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e")},delClick:function(a){var t=a.props.myFetch;if(a.selectedRows.length>0){for(var o=[],n=0;n<a.selectedRows.length;n++)"1"===a.selectedRows[n].releaseId&&o.push(a.selectedRows[n].releaseId);o.length>0?s.b.warn("\u5df2\u4e0b\u8fbe\u7684\u6d88\u606f\u4e0d\u80fd\u5220\u9664\uff01"):w({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){t("batchDeleteUpdateZjTzThousandCheck",a.selectedRows).then(function(a){var t=a.success,o=a.message;t?(s.b.success(o),e.table.refresh(),e.table.clearSelectedRows()):s.b.error(o)})}})}else s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var a=e.Pprops;return{menuParentId:a.routerInfo.routeData[a.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),a}(p.Component);a.default=k}}]);