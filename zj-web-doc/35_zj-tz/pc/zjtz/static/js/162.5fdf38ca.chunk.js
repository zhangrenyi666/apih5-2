(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{"+J2t":function(e,t,a){"use strict";a.r(t);var l=a("UpC8"),s=(a("fx2i"),a("cZi0")),o=a("Id3l"),n=a("RNsw"),r=a("OR/T"),c=a("bn5B"),i=a("PnTt"),p=(a("w9C0"),a("XW+2")),d=a("r0ML"),m=a.n(d),b=a("6eYn"),w=a("bGoz"),f=a.n(w),u=p.a.confirm,h={fetchConfig:{apiName:"getZjTzRiskListBaseList"},antd:{rowKey:"riskListBaseId",size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={},a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:f.a.root},m.a.createElement(b.a,Object(l.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t}},h,{formConfig:[{isInTable:!1,form:{field:"riskListBaseId",type:"string",hide:!0}},{isInTable:!1,form:{label:"\u6240\u5c5e\u98ce\u9669\u7c7b\u522b",type:"select",field:"typeId",editDisabled:!0,optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"suoSuFengXianLeiBie"}},required:!0,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}}},{table:{title:"\u98ce\u9669\u540d\u79f0",dataIndex:"number",tooltip:55,key:"number"},form:{type:"string",field:"riskName",placeholder:"\u8bf7\u8f93\u5165",required:!0,formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}}},{table:{title:"\u7ba1\u7406\u5c42\u7ea7",onClick:"detail",tooltip:23,width:260,dataIndex:"managLever",key:"managLever"},form:{type:"string",field:"managLever",placeholder:"\u8bf7\u8f93\u5165",formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}}},{table:{title:"\u9002\u7528\u9879\u76ee\u7c7b\u578b",width:180,tooltip:23,dataIndex:"applicableItemType",key:"applicableItemType"},form:{type:"string",field:"applicableItemType",placeholder:"\u8bf7\u8f93\u5165",formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}}},{table:{title:"\u5907\u6ce8",width:200,tooltip:80,dataIndex:"remarks",key:"remarks"},form:{type:"textarea",field:"remarks",placeholder:"\u8bf7\u8f93\u5165",formItemLayoutForm:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}}},{table:{title:"\u72b6\u6001",width:100,dataIndex:"lockFlag",key:"lockFlag",render:function(e){return e?"0"===e?"\u672a\u9501\u5b9a":"\u9501\u5b9a":""}},isInForm:!1}],method:{editClick:function(t){"0"===t.selectedRows[0].lockFlag?"main"===t.selectedRows[0].mainFlag?(s.b.warn("\u8bf7\u9009\u62e9\u5185\u5c42\u6570\u636e\uff01"),e.table.clearSelectedRows(),t.btnCallbackFn.closeDrawer()):e.table.clearSelectedRows():"1"===t.selectedRows[0].lockFlag?(s.b.warn("\u9501\u5b9a\u6570\u636e\u4e0d\u5141\u8bb8\u4fee\u6539\uff01"),e.table.clearSelectedRows(),t.btnCallbackFn.closeDrawer()):(s.b.warn("\u8bf7\u9009\u62e9\u5185\u5c42\u6570\u636e\uff01"),e.table.clearSelectedRows(),t.btnCallbackFn.closeDrawer())},lockClick:function(t){var a=t.props.myFetch,l=[],o=[],n=[],r="",c="";if(t.selectedRows.length>0){for(var i=0;i<t.selectedRows.length;i++)"0"===t.selectedRows[i].lockFlag?l.push(t.selectedRows[i]):"main"===t.selectedRows[i].mainFlag?n.push(t.selectedRows[i]):o.push(t.selectedRows[i]);l.length>0&&(r="\u786e\u5b9a\u9501\u5b9a\u4e48\uff1f",c="batchLockUpdateZjTzRiskListBase"),o.length>0&&(r="\u786e\u5b9a\u89e3\u9501\u4e48\uff1f",c="batchClearUpdateZjTzRiskListBase"),n.length>0?s.b.warn("\u8bf7\u9009\u62e9\u5185\u5c42\u6570\u636e\uff01"):t.selectedRows.length===l.length||t.selectedRows.length===o.length?u({title:r,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a(c,t.selectedRows).then(function(t){var a=t.success,l=t.message;a?(s.b.success(l),e.table.refresh(),e.table.clearSelectedRows()):s.b.error(l)})}}):s.b.warn("\u53ea\u80fd\u9009\u62e9\u76f8\u540c\u7c7b\u578b\u6570\u636e!")}else s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")},delClick:function(t){var a=t.props.myFetch,l=[],o=[];if(t.selectedRows.length>0){for(var n=0;n<t.selectedRows.length;n++)"main"===t.selectedRows[n].mainFlag&&l.push(t.selectedRows[n].mainFlag),"1"===t.selectedRows[n].lockFlag&&o.push(t.selectedRows[n].lockFlag);o.length>0?(t.btnCallbackFn.closeDrawer(),s.b.warn("\u9501\u5b9a\u6570\u636e\u4e0d\u80fd\u5220\u9664!"),e.table.clearSelectedRows()):l.length>0?(t.btnCallbackFn.closeDrawer(),s.b.warn("\u5916\u5c42\u6570\u636e\u4e0d\u80fd\u5220\u9664!"),e.table.clearSelectedRows()):u({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchDeleteUpdateZjTzRiskListBase",t.selectedRows).then(function(t){var a=t.success,l=t.message;a?(s.b.success(l),e.table.refresh(),e.table.clearSelectedRows()):s.b.error(l)})}})}else s.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(d.Component);t.default=g},bGoz:function(e,t,a){}}]);