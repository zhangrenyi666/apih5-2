(window.webpackJsonp=window.webpackJsonp||[]).push([[258],{er5r:function(e,t,a){"use strict";a.r(t);a("9U97");var o=a("UpC8"),r=a("C9HG"),i=a("wUJ3"),n=a.n(i),l=(a("TSXX"),a("iZJp")),d=(a("fx2i"),a("cZi0")),s=a("Id3l"),c=a("RNsw"),p=a("OR/T"),m=a("bn5B"),f=a("PnTt"),h=(a("w9C0"),a("XW+2")),u=a("r0ML"),w=a.n(u),b=a("6eYn"),I=a("U8v4"),g=a("Seuk"),y=a.n(g),v=h.a.confirm,x={antd:{rowKey:function(e){return e.executiveMeetId},size:"small"},drawerConfig:{width:"1000px"},paginationConfig:{position:"bottom"},firstRowIsSearch:!1,isShowRowSelect:!0,formItemLayout:{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}}},C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={proNameId:e.loginAndLogoutInfo.loginInfo.userInfo.curCompany?e.loginAndLogoutInfo.loginInfo.userInfo.curCompany.projectId:""},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.proNameId,a=this.props.myPublic.apis;return console.log(a),w.a.createElement("div",{className:y.a.root},w.a.createElement(b.a,Object(o.a)({},this.props,{fetch:this.props.myFetch,upload:this.props.myUpload,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},wrappedComponentRef:function(t){e.table=t}},x,{fetchConfig:{apiName:"getZjTzExecutiveMeetList",otherParams:{projectId:t}},formConfig:[{isInTable:!1,form:{field:"executiveMeetId",type:"string",hide:!0}},{table:{title:"\u9879\u76ee\u540d\u79f0",filter:!0,width:300,fixed:"left",dataIndex:"projectId",key:"projectId",type:"select",fieldsConfig:{field:"projectId",showSearch:!0,type:"select",optionConfig:{label:"projectName",value:"projectId"},fetchConfig:{apiName:"getZjTzProManageList"}}},form:{field:"projectId",type:"select",showSearch:!0,addDisabled:!0,disabled:!0,editDisabled:!0,initialValue:function(){return t},optionConfig:{label:"projectName",value:"projectId"},fetchConfig:{apiName:"getZjTzProManageList"},placeholder:"\u8bf7\u9009\u62e9",spanForm:12,formItemLayout:{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}}},{isInSearch:!1,table:{title:"\u8463\u4e8b\u4f1a\u671f\u6b21",onClick:"detail",width:100,dataIndex:"periodName",key:"periodName"},form:{type:"select",required:!0,field:"periodId",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"huiYiJieCi"}},onChange:function(t){for(var a=0;a<e.table.state.data.length;a++)if(t===e.table.state.data[a].periodId){d.b.error("\u8be5\u9879\u76ee\u4e0b\u8fd9\u4e2a\u5c4a\u6b21\u5df2\u7ecf\u6dfb\u52a0\uff0c\u8bf7\u53bb\u53d8\u66f4\u5427\uff01");break}},allowClear:!0,placeholder:"\u8bf7\u9009\u62e9",spanForm:12,formItemLayout:{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}}},{isInSearch:!1,table:{title:"\u586b\u62a5\u65e5\u671f",filter:!0,format:"YYYY-MM-DD",dataIndex:"businessDate",key:"businessDate",width:100,fieldsConfig:{type:"rangeDate",field:"businessDateList"}},form:{type:"date",placeholder:"\u8bf7\u9009\u62e9",required:!0,spanForm:12,formItemLayout:{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}}},{isInSearch:!1,table:{title:"\u4efb\u804c\u671f\u9650\u5f00\u59cb\u65f6\u95f4",filter:!0,format:"YYYY-MM-DD",dataIndex:"startDate",key:"startDate",width:150},form:{type:"date",placeholder:"\u8bf7\u9009\u62e9",required:!0,spanForm:12,formItemLayout:{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}}},{isInSearch:!1,table:{title:"\u4efb\u804c\u671f\u9650\u7ed3\u675f\u65f6\u95f4",filter:!0,format:"YYYY-MM-DD",dataIndex:"endDate",key:"endDate",width:150},form:{type:"date",placeholder:"\u8bf7\u9009\u62e9",required:!0,spanForm:12,formItemLayout:{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}}},{isInSearch:!1,table:{title:"\u6cd5\u5b9a\u4ee3\u8868\u4eba",dataIndex:"legal",key:"legal",width:150},form:{type:"string",addDisabled:!0,editDisabled:!0,placeholder:"\u8bf7\u8f93\u5165",spanForm:12,formItemLayout:{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}}},{isInSearch:!1,isInTable:!1,form:{label:"\u5907\u6ce8",field:"remarks",type:"textarea",placeholder:"\u8bf7\u8f93\u5165"}},{isInTable:!1,form:{label:"\u9644\u4ef6",field:"zjTzFileList",type:"files",showDownloadIcon:!0,onPreview:"bind:_docFilesByOfficeUrl",fetchConfig:{apiName:window.configs.domain+"upload"}}},{isInSearch:!1,table:{title:"\u4e0a\u62a5\u5185\u5bb9",dataIndex:"conentDesc",key:"conentDesc",width:200},isInForm:!1},{isInSearch:!1,table:{title:"\u53d8\u66f4\u6b21\u6570",dataIndex:"changeNum",key:"changeNum",width:80},isInForm:!1},{table:{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"statusName",key:"statusName",width:80,fixed:"right"},isInForm:!1},{isInTable:!1,form:{type:"qnnTable",field:"personnelList",incToForm:!0,qnnTableConfig:{fetchConfig:{apiName:"getZjTzExecutiveMeetListFromProjectShareholder",otherParams:function(){var a,o,r,i;return(null===(a=e.table)||void 0===a?void 0:null===(o=a.qnnForm)||void 0===o?void 0:null===(r=o.form)||void 0===r?void 0:null===(i=r.getFieldValue)||void 0===i?void 0:i.call(r,"executiveMeetId"))?{executiveMeetId:e.table.qnnForm.form.getFieldValue("executiveMeetId")}:{projectId:t}}},actionBtnsPosition:"top",antd:{rowKey:"executivePersonnelId",size:"small"},paginationConfig:{position:"bottom"},wrappedComponentRef:function(t){e.tables=t},formConfig:[{isInTable:!1,form:{label:"\u4e3b\u952eid",field:"executivePersonnelId",hide:!0}},{table:{title:"\u5e8f\u53f7",dataIndex:"index",key:"index",width:50,fixed:"left",render:function(e,t,a){return a+1}},isInForm:!1},{table:{title:"\u80a1\u4e1c\u540d\u79f0",dataIndex:"shareholderName",key:"shareholderName",tdEdit:!0,fixed:"left",width:150,tooltip:8},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u80a1\u6bd4",dataIndex:"proportion",key:"proportion",tdEdit:!0,width:100},form:{type:"number",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u80a1\u4e1c\u7c7b\u578b",dataIndex:"shareType",key:"shareType",tdEdit:!0,width:100},form:{type:"select",field:"shareTypeId",placeholder:"\u8bf7\u9009\u62e9",optionConfig:{label:"itemName",value:"itemId"},fetchConfig:{apiName:"getBaseCodeSelect",otherParams:{itemId:"guDongLeiXing"}}}},{table:{title:"\u8463\u4e8b\u957f",dataIndex:"directorz",key:"directorz",tdEdit:!0,width:100,render:function(e,t){return t.directorz!==t.directorzOld?w.a.createElement(l.a,{title:e},w.a.createElement("div",{style:{color:"red",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e)):e}},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u8463\u4e8b",dataIndex:"director",key:"director",tdEdit:!0,width:100,render:function(e,t){return t.director!==t.directorOld?w.a.createElement(l.a,{title:e},w.a.createElement("div",{style:{color:"red",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e)):e}},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u76d1\u4e8b\u957f",dataIndex:"supervisorz",key:"supervisorz",tdEdit:!0,width:100,render:function(e,t){return t.supervisorz!==t.supervisorzOld?w.a.createElement(l.a,{title:e},w.a.createElement("div",{style:{color:"red",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e)):e}},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u76d1\u4e8b",dataIndex:"supervisor",key:"supervisor",tdEdit:!0,width:100,render:function(e,t){return t.supervisor!==t.supervisorOld?w.a.createElement(l.a,{title:e},w.a.createElement("div",{style:{color:"red",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e)):e}},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u9879\u76ee\u516c\u53f8\u603b\u7ecf\u7406",dataIndex:"manager",key:"manager",tdEdit:!0,width:120,render:function(e,t){return t.manager!==t.managerOld?w.a.createElement(l.a,{title:e},w.a.createElement("div",{style:{color:"red",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e)):e}},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u603b\u5de5",dataIndex:"chief1",key:"chief1",tdEdit:!0,width:100,tooltip:5},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u603b\u4f1a",dataIndex:"chief2",key:"chief2",tdEdit:!0,width:100,tooltip:5},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u603b\u7ecf",dataIndex:"chief3",key:"chief3",tdEdit:!0,width:100,tooltip:5},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u5907\u6ce8",dataIndex:"remarks",key:"remarks",tdEdit:!0,width:150,tooltip:8},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}},{table:{title:"\u6392\u5e8f\u53f7",dataIndex:"orderNum",key:"orderNum",tdEdit:!0,width:80},form:{type:"string",placeholder:"\u8bf7\u8f93\u5165"}}],actionBtns:[{name:"addRow",icon:"plus",type:"primary",label:"\u65b0\u589e\u884c"},{name:"del",icon:"delete",type:"danger",label:"\u5220\u9664"}]}}},{isInForm:!1,table:{title:"\u64cd\u4f5c",fixed:"right",dataIndex:"action",key:"action",align:"center",noHaveSearchInput:!0,showType:"tile",width:80,btns:[{name:"PolicyDetail",render:function(e){return"<a>\u53d8\u66f4\u8bb0\u5f55</a>"},onClick:function(e){var t=e.props.myPublic.appInfo.mainModule;e.props.dispatch(Object(I.push)("".concat(t,"ThreeMeetingMangeDongPrisonHighDetail/").concat(encodeURIComponent(n()(e.rowData)))))}}]}}],method:{addClick:function(a){"all"===t?(a.btnCallbackFn.closeDrawer(),a.btnCallbackFn.clearSelectedRows(),d.b.warn("\u8bf7\u9009\u62e9\u53f3\u4e0a\u89d2\u9879\u76ee\uff01")):setTimeout(function(){var o,r,i,n;"\u65b0\u589e"===(null===a||void 0===a?void 0:null===(o=a.btnCallbackFn)||void 0===o?void 0:null===(r=o.qnnForm)||void 0===r?void 0:null===(i=r.props)||void 0===i?void 0:null===(n=i.Pstate)||void 0===n?void 0:n.drawerDetailTitle)&&(0,a.props.myFetch)("getZjTzProManageDetails",{projectId:t}).then(function(t){var a=t.data,o=t.success;t.message;o&&a&&a.legalPersonName&&e.table.qnnForm.form.setFieldsValue({legal:a.legalPersonName})})},200)},editClick:function(t){e.table.clearSelectedRows(),"1"===t.selectedRows[0].statusId?(d.b.warn("\u5ba1\u6838\u4e2d\u7684\u6570\u636e\u4e0d\u80fd\u4fee\u6539\uff01"),t.btnCallbackFn.closeDrawer()):"2"===t.selectedRows[0].statusId&&(d.b.warn("\u5ba1\u6838\u7ed3\u675f\u7684\u6570\u636e\u4e0d\u80fd\u4fee\u6539\uff01"),t.btnCallbackFn.closeDrawer())},delClick:function(t){var a=t.props.myFetch,o=[];if(t.selectedRows.length>0){for(var r=0;r<t.selectedRows.length;r++)"1"!==t.selectedRows[r].statusId&&"2"!==t.selectedRows[r].statusId||o.push(t.selectedRows[r].statusId);o.length>0?(t.btnCallbackFn.closeDrawer(),d.b.warn("\u8bf7\u9009\u62e9\u672a\u5ba1\u6838\u7684\u6570\u636e!"),e.table.clearSelectedRows()):v({title:"\u786e\u5b9a\u5220\u9664\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a("batchDeleteUpdateZjTzExecutiveMeet",t.selectedRows).then(function(t){var a=t.success,o=t.message;a?(d.b.success(o),e.table.refresh(),e.table.clearSelectedRows()):d.b.error(o)})}})}else d.b.warn("\u8bf7\u9009\u62e9\u6570\u636e!")},appearClick:function(t){1===t.selectedRows.length?"0"===t.selectedRows[0].statusId||"3"===t.selectedRows[0].statusId?v({title:"\u786e\u5b9a\u4e0a\u62a5\u4e48?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var a;(a=e.props).myFetch.apply(a,["correctiveZjTzExecutiveMeet"].concat(Object(r.a)(t.selectedRows))).then(function(t){var a=t.success,o=t.message;a?(d.b.success(o),e.table.refresh(),e.table.clearSelectedRows()):d.b.error(o)})}}):d.b.warn("\u5ba1\u6838\u4e2d\u6216\u5ba1\u6838\u7ed3\u675f\u6570\u636e\u4e0d\u53ef\u4e0a\u62a5\uff01"):d.b.warn("\u8bf7\u9009\u62e9\u4e00\u6761\u6570\u636e\u4e0a\u62a5\uff01")}},actionBtns:{apiName:"getSysMenuBtn",otherParams:function(e){var t=e.Pprops;return{menuParentId:t.routerInfo.routeData[t.routerInfo.curKey]._value,tableField:"projectInfo"}}}})))}}]),t}(u.Component);t.default=C}}]);