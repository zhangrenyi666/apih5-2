(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"/4Ee":function(e,t,a){e.exports={root:"_1pt26t8KgQQ7c7zllMzDAl",listview:"_25mfu9iqO7bGDxF1Dps3lM",item:"_2rYnAXpOZUy7oO9t0mr4Cf",itemHeader:"_2EXhuArPbB3DJihBZj9V_w",itemBody:"_6pPWVF7mxsougINLQFxW6",itemBodyArr:"_2Fg1z4D-9lnKYEjXicsmJb",searchModal:"FJuXwljU-CCPZPaJFhD5J",searchMark:"MqRcu8HLhwuvkduO_x6qy",searchBox:"_1HTs_6JPXtEoRnFj6D1Tog",searchInput:"_1B7TUrNfxGT_dWnAlMAl5m"}},"0goi":function(e,t,a){},"2wi3":function(e,t,a){var o=a("Qsbb");e.exports=function(e,t){if(null==e)return{};var a,n,r={},i=o(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}},"7aAv":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9U97"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("S6uq"),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("i1WY"),core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_date_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("zIPO"),core_js_modules_es_date_to_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_date_to_string__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("MRnW"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("IdsT"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("GzNv"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("TZoF"),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("pBsb"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_8__),varNtkoGUID=Math.random().toString(36),ntkoWinOpen,timer,userAgent=navigator.userAgent,rMsie=/(msie\s|trident.*rv:)([\w.]+)/,rFirefox=/(firefox)\/([\w.]+)/,rOpera=/(opera).+versi1on\/([\w.]+)/,rChrome=/(chrome)\/([\w.]+)/,rSafari=/version\/([\w.]+).*(safari)/,browser,version,ua=userAgent.toLowerCase();function uaMatch(e){var t;return null!=(t=rMsie.exec(e))?{browser:"IE",version:t[2]||"0"}:null!=(t=rFirefox.exec(e))?{browser:t[1]||"",version:t[2]||"0"}:null!=(t=rOpera.exec(e))?{browser:t[1]||"",version:t[2]||"0"}:null!=(t=rChrome.exec(e))?{browser:t[1]||"",version:t[2]||"0"}:null!=(t=rSafari.exec(e))?{browser:t[2]||"",version:t[1]||"0"}:null!=t?{browser:"",version:"0"}:void 0}var browserMatch=uaMatch(userAgent.toLowerCase());browserMatch&&browserMatch.browser&&(browser=browserMatch.browser,version=browserMatch.version);var mimeTypes=navigator.mimeTypes,bChromeExtensionInstalled=!1,img;browserMatch&&"chrome"===browserMatch.browser&&version>="45"&&(img=new Image,img.src="chrome-extension://lppkeogbkjlmmbjenbogdndlgmpiddda/icons/ntko.png",img.onload=function(){bChromeExtensionInstalled=!0},img.onerror=function(){bChromeExtensionInstalled=!1});var ntkoBrowser={init:function(){if("IE"==browser)return!0},ntkoSendDataToChild:function(e,t){if("undefined"!==typeof t){e=ntkoBrowser.NtkoStrURL(e);var a='{"SendDataToChild":1,"GUID":"';a+=varNtkoGUID,a+='","URLMD5":"',a+=b64_md5(e),a+='","ChildValue":"',a+=t,a+='"}',ntkoBrowser.NtkoBrower()?window.postMessage({type:"FROM_NTKO_PAGE",text:a},"*"):ntkoWinOpen.ntkoGetParentData(t)}},ExtensionInstalled:function(){if(!ntkoBrowser.NtkoBrower()){if("IE"==browser){for(var e=["NTKO.OfficeControl20160_X64","NTKO.OfficeControl20160","NTKO.OfficeControlQiYe"],t=0;t<e.length;t++)try{new ActiveXObject(e[t]);return!0}catch(o){}return!1}var a=navigator.mimeTypes["application/ntko-plug"];return!!a&&!!a.enabledPlugin}if("firefox"===browserMatch.browser){return"undefined"!==typeof FirefoxInstalled&&window.FirefoxInstalled()}if("chrome"===browserMatch.browser)return bChromeExtensionInstalled},ntkoClose:function(e){e=ntkoBrowser.NtkoStrURL(e);var t='{"Close":1,"GUID":"';t+=varNtkoGUID,t+='","URLMD5":"',t+=b64_md5(e),t+='"}',ntkoBrowser.NtkoBrower()?window.postMessage({type:"FROM_NTKO_PAGE",text:t},"*"):ntkoWinOpen.close()},openWindow:function(e,t,a,o,n,r){var i;e=ntkoBrowser.NtkoStrURL(e);if(window.top!=window.self){if(-1!=(i=window.top.location.href).indexOf("#")){var s=i.lastIndexOf("#");i=i.substring(0,s)}if(-1!=i.indexOf("?")){s=i.lastIndexOf("?");i=i.substring(0,s)}}else{if(-1!=(i=window.location.href).indexOf("#")){s=i.lastIndexOf("#");i=i.substring(0,s)}if(-1!=i.indexOf("?")){s=i.lastIndexOf("?");i=i.substring(0,s)}}var l='{"OpenWindow":1,"URL":"';if(l+=e,l+='","GUID":"',l+=varNtkoGUID,l+='","URLMD5":"',l+=b64_md5(e),l+='","SessionURL":"',l+=i,l+='","IsShowOnExtendMonitor":"',l+=t,l+='"',"undefined"!=typeof a&&null!=a&&""!=a&&(l+=',"ProductCaption":"',l+=a,l+='"'),"undefined"!=typeof o&&null!=o&&""!=o&&(l+=',"ProductKey":"',l+=o,l+='"'),"undefined"!=typeof n&&null!=n&&""!=n&&(l+=',"NoExpireKey":"',l+=n,l+='"'),"undefined"!=typeof r&&null!=r&&""!=r&&(l+=',"Options":"',l+=r,l+='"'),l+="}",ntkoBrowser.NtkoBrower())window.postMessage({type:"FROM_NTKO_PAGE",text:l},"*");else{var c=b64_md5(e),d=window.screen.width,u=window.screen.height;(ntkoWinOpen=window.open(e,c,"height="+u+", width="+d+", top=0,left=0,titlebar=no,toolbar =no, menubar=no, scrollbars=no, resizable=yes, location=no, status=no")).resizeTo(screen.availWidth,screen.availHeight),ntkoWinOpen.focus()}},NtkoWShell:function(){},NtkoiTop:function(){return(window.screen.height-30-300)/2},NtkoiLeft:function(){return(window.screen.width-10-400)/2},NtkoBrower:function(){return"IE"!=browser&&("firefox"==browser?!(userAgent.indexOf("Windows NT 5.1")>-1)&&version>="50":"chrome"==browser?!(userAgent.indexOf("Windows NT 5.1")>-1)&&version>="45":void 0)},NtkoStrURL:function(e){var t=window.location.search,a=document.location.toString(),o=window.document.location.pathname,n=a.indexOf(o),r=a.substring(0,n);if(null!==e&&""!==e){var i=e.toLowerCase();if("/"!=e.charAt(0))if("http://"===i.substr(0,7)||"https://"===i.substr(0,8));else if(-1==e.indexOf("../")){var s=window.location.href,l=s.lastIndexOf("/");e=s.substr(0,l+1)+e}else{var c=e.length;e=r+(e=e.substring(2,c))}else{c=e.length;e=r+(e=e.substring(0,c))}if(-1==e.indexOf(t))if(-1==e.indexOf("?"))e+=t;else{var d=e.indexOf("?"),u=e.length,p=e.substring(0,d),f=e.substring(d+1,u);e=p+t+"&"+f}return e}alert(" The Param strURL of openWindow() is NULL or empty. ")}};function ieattachEventntko(data,varFunctionAgrvs){"undefined"!==typeof data&&"undefined"!=typeof varFunctionAgrvs&&null!=varFunctionAgrvs&&""!=varFunctionAgrvs&&eval(data+"( varFunctionAgrvs[0], varFunctionAgrvs[1], varFunctionAgrvs[2], varFunctionAgrvs[3],varFunctionAgrvs[4],varFunctionAgrvs[5],varFunctionAgrvs[6],varFunctionAgrvs[7],varFunctionAgrvs[8]);")}"IE"!=browser&&window.addEventListener("message",function(event){if(event.source==window&&event.data.type&&"FROM_NTKO_CONTEXT_PAGE"==event.data.type){var vJsonData=JSON.parse(event.data.text),jsonData=vJsonData.ntkoData;if("undefined"!==typeof jsonData&&varNtkoGUID===jsonData.ntkoGUID)if("ntkoClose"===jsonData.functionName)eval("ntkoCloseEvent()");else if("ntkoReturnValueToParentPage"===jsonData.functionName){var varFunctionName=jsonData.parentExecutionFunction;if("undefined"!=typeof varFunctionName&&null!=varFunctionName&&""!=varFunctionName){var varFunctionAgrvs=jsonData.FunctionArgs;"undefined"!=typeof varFunctionAgrvs&&null!=varFunctionAgrvs&&""!=varFunctionAgrvs&&eval(varFunctionName+"( varFunctionAgrvs[0], varFunctionAgrvs[1], varFunctionAgrvs[2], varFunctionAgrvs[3],varFunctionAgrvs[4],varFunctionAgrvs[5],varFunctionAgrvs[6],varFunctionAgrvs[7],varFunctionAgrvs[8]);")}}}},!1),"IE"==browser&&(version<=8||window.addEventListener("message",function(event){if("ntkowordie"==event.data.type){var str=event.data.text,Jsondata=JSON.parse(str),jsonData=Jsondata.ntkodata,varFunctionAgrvsArray=Jsondata.ntkotext,varFunctionAgrvs=varFunctionAgrvsArray.split(",");"undefined"!==typeof jsonData&&"undefined"!=typeof varFunctionAgrvs&&null!=varFunctionAgrvs&&""!=varFunctionAgrvs&&eval(jsonData+"( varFunctionAgrvs[0], varFunctionAgrvs[1], varFunctionAgrvs[2], varFunctionAgrvs[3],varFunctionAgrvs[4],varFunctionAgrvs[5],varFunctionAgrvs[6],varFunctionAgrvs[7],varFunctionAgrvs[8]);")}},!1));var hexcase=0,b64pad="",chrsz=8;function hex_md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}function b64_md5(e){return binl2b64(core_md5(str2binl(e),e.length*chrsz))}function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*chrsz))}function hex_hmac_md5(e,t){return binl2hex(core_hmac_md5(e,t))}function b64_hmac_md5(e,t){return binl2b64(core_hmac_md5(e,t))}function str_hmac_md5(e,t){return binl2str(core_hmac_md5(e,t))}function md5_vm_test(){return"900150983cd24fb0d6963f7d28e17f72"==hex_md5("abc")}function core_md5(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var a=1732584193,o=-271733879,n=-1732584194,r=271733878,i=0;i<e.length;i+=16){var s=a,l=o,c=n,d=r;a=md5_ff(a,o,n,r,e[i+0],7,-680876936),r=md5_ff(r,a,o,n,e[i+1],12,-389564586),n=md5_ff(n,r,a,o,e[i+2],17,606105819),o=md5_ff(o,n,r,a,e[i+3],22,-1044525330),a=md5_ff(a,o,n,r,e[i+4],7,-176418897),r=md5_ff(r,a,o,n,e[i+5],12,1200080426),n=md5_ff(n,r,a,o,e[i+6],17,-1473231341),o=md5_ff(o,n,r,a,e[i+7],22,-45705983),a=md5_ff(a,o,n,r,e[i+8],7,1770035416),r=md5_ff(r,a,o,n,e[i+9],12,-1958414417),n=md5_ff(n,r,a,o,e[i+10],17,-42063),o=md5_ff(o,n,r,a,e[i+11],22,-1990404162),a=md5_ff(a,o,n,r,e[i+12],7,1804603682),r=md5_ff(r,a,o,n,e[i+13],12,-40341101),n=md5_ff(n,r,a,o,e[i+14],17,-1502002290),a=md5_gg(a,o=md5_ff(o,n,r,a,e[i+15],22,1236535329),n,r,e[i+1],5,-165796510),r=md5_gg(r,a,o,n,e[i+6],9,-1069501632),n=md5_gg(n,r,a,o,e[i+11],14,643717713),o=md5_gg(o,n,r,a,e[i+0],20,-373897302),a=md5_gg(a,o,n,r,e[i+5],5,-701558691),r=md5_gg(r,a,o,n,e[i+10],9,38016083),n=md5_gg(n,r,a,o,e[i+15],14,-660478335),o=md5_gg(o,n,r,a,e[i+4],20,-405537848),a=md5_gg(a,o,n,r,e[i+9],5,568446438),r=md5_gg(r,a,o,n,e[i+14],9,-1019803690),n=md5_gg(n,r,a,o,e[i+3],14,-187363961),o=md5_gg(o,n,r,a,e[i+8],20,1163531501),a=md5_gg(a,o,n,r,e[i+13],5,-1444681467),r=md5_gg(r,a,o,n,e[i+2],9,-51403784),n=md5_gg(n,r,a,o,e[i+7],14,1735328473),a=md5_hh(a,o=md5_gg(o,n,r,a,e[i+12],20,-1926607734),n,r,e[i+5],4,-378558),r=md5_hh(r,a,o,n,e[i+8],11,-2022574463),n=md5_hh(n,r,a,o,e[i+11],16,1839030562),o=md5_hh(o,n,r,a,e[i+14],23,-35309556),a=md5_hh(a,o,n,r,e[i+1],4,-1530992060),r=md5_hh(r,a,o,n,e[i+4],11,1272893353),n=md5_hh(n,r,a,o,e[i+7],16,-155497632),o=md5_hh(o,n,r,a,e[i+10],23,-1094730640),a=md5_hh(a,o,n,r,e[i+13],4,681279174),r=md5_hh(r,a,o,n,e[i+0],11,-358537222),n=md5_hh(n,r,a,o,e[i+3],16,-722521979),o=md5_hh(o,n,r,a,e[i+6],23,76029189),a=md5_hh(a,o,n,r,e[i+9],4,-640364487),r=md5_hh(r,a,o,n,e[i+12],11,-421815835),n=md5_hh(n,r,a,o,e[i+15],16,530742520),a=md5_ii(a,o=md5_hh(o,n,r,a,e[i+2],23,-995338651),n,r,e[i+0],6,-198630844),r=md5_ii(r,a,o,n,e[i+7],10,1126891415),n=md5_ii(n,r,a,o,e[i+14],15,-1416354905),o=md5_ii(o,n,r,a,e[i+5],21,-57434055),a=md5_ii(a,o,n,r,e[i+12],6,1700485571),r=md5_ii(r,a,o,n,e[i+3],10,-1894986606),n=md5_ii(n,r,a,o,e[i+10],15,-1051523),o=md5_ii(o,n,r,a,e[i+1],21,-2054922799),a=md5_ii(a,o,n,r,e[i+8],6,1873313359),r=md5_ii(r,a,o,n,e[i+15],10,-30611744),n=md5_ii(n,r,a,o,e[i+6],15,-1560198380),o=md5_ii(o,n,r,a,e[i+13],21,1309151649),a=md5_ii(a,o,n,r,e[i+4],6,-145523070),r=md5_ii(r,a,o,n,e[i+11],10,-1120210379),n=md5_ii(n,r,a,o,e[i+2],15,718787259),o=md5_ii(o,n,r,a,e[i+9],21,-343485551),a=safe_add(a,s),o=safe_add(o,l),n=safe_add(n,c),r=safe_add(r,d)}return Array(a,o,n,r)}function md5_cmn(e,t,a,o,n,r){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(o,r)),n),a)}function md5_ff(e,t,a,o,n,r,i){return md5_cmn(t&a|~t&o,e,t,n,r,i)}function md5_gg(e,t,a,o,n,r,i){return md5_cmn(t&o|a&~o,e,t,n,r,i)}function md5_hh(e,t,a,o,n,r,i){return md5_cmn(t^a^o,e,t,n,r,i)}function md5_ii(e,t,a,o,n,r,i){return md5_cmn(a^(t|~o),e,t,n,r,i)}function core_hmac_md5(e,t){var a=str2binl(e);a.length>16&&(a=core_md5(a,e.length*chrsz));for(var o=Array(16),n=Array(16),r=0;r<16;r++)o[r]=909522486^a[r],n[r]=1549556828^a[r];var i=core_md5(o.concat(str2binl(t)),512+t.length*chrsz);return core_md5(n.concat(i),640)}function safe_add(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){for(var t=Array(),a=(1<<chrsz)-1,o=0;o<e.length*chrsz;o+=chrsz)t[o>>5]|=(e.charCodeAt(o/chrsz)&a)<<o%32;return t}function binl2str(e){for(var t="",a=(1<<chrsz)-1,o=0;o<32*e.length;o+=chrsz)t+=String.fromCharCode(e[o>>5]>>>o%32&a);return t}function binl2hex(e){for(var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",a="",o=0;o<4*e.length;o++)a+=t.charAt(e[o>>2]>>o%4*8+4&15)+t.charAt(e[o>>2]>>o%4*8&15);return a}function binl2b64(e){for(var t="",a=0;a<4*e.length;a+=3)for(var o=(e[a>>2]>>a%4*8&255)<<16|(e[a+1>>2]>>(a+1)%4*8&255)<<8|e[a+2>>2]>>(a+2)%4*8&255,n=0;n<4;n++)8*a+6*n>32*e.length?t+=b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o>>6*(3-n)&63);return t}__webpack_exports__.a=ntkoBrowser},PPjM:function(e,t,a){e.exports={root:"_3YZptKgDTDCD4021Eh5w5F",rootByMobile:"_2leyuETC2bj3aEg8qYqoAe",pcroot:"_6qnthHc-Q1fk-JRsz39wM",pcrootByInQnnTable:"_1__3rbhlGfgVPP4kF8GZyi",TabPane:"_2ehm65vo05zvOzmJr6G771",myTable:"_3LXPkeoou3emTYcux5XMxv",leftDocMyTable:"_3fEMCb7zj63pnYxDX1VIAp",FlowConByAdd:"_16mRKKXmVtVL34iiRaZTvF",FlowConByMobilePre:"_3ncOY3EBU8xN6_UC-1esCv",flowHistory:"_1K8hWIQx6QtmhwQljPCva",btn:"_3sUw56S0q92MERKSPytlYN",flowIframe:"_3JBAb6oPEHbVD64H0Yi_oE",flowDocContainer:"rtpmTS2Sf9UgtmVLpuLtL",uploadResContainer:"_20AgxpP5QNfs51OBocf_eC",noRedDoc:"Md7-VyRj0FPYSnmWeHcYJ",docItem:"_3jGnrymFiEsdjiz-UYt2aC",delBtn:"_1eL-GL5jAW2SvK61N-TsWT"}},Tb18:function(e,t,a){"use strict";var o=a("kEo8"),n=a("u67S"),r=a("KG2+"),i=a("QCBl"),s=a("sRF7"),l=Math.min,c=[].lastIndexOf,d=!!c&&1/[1].lastIndexOf(1,-0)<0,u=i("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),f=d||!u||!p;e.exports=f?function(e){if(d)return c.apply(this,arguments)||0;var t=o(this),a=r(t.length),i=a-1;for(arguments.length>1&&(i=l(i,n(arguments[1]))),i<0&&(i=a+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}:c},f1uq:function(e,t,a){var o=a("4tJN"),n=a("2wi3");e.exports=function(e,t){if(null==e)return{};var a,r,i=n(e,t);if(o){var s=o(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}},i1WY:function(e,t,a){var o=a("ZfjD"),n=a("Tb18");o({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},rgf5:function(e,t,a){e.exports={mobileBtnContainer:"_3aIK0YDX95cUrDsElJ2aUG",container:"_3gjDosb9aY-dSnsP9qk78a",containerByQnnTable:"_22I4ux7Z_Ry3YgSPLDFZY0",leftFilesLayout:"_2IMaTdp12YhR148LI237dx",left:"HsY8wkd2sqidclAmOzkGZ",todoList:"mchws5S8Q1qMMp6KLMRn5",docsList:"_2E-SruU4y8NAOReSXO0suA",filesList:"_1x8o96llYNmWPGBG-zQTe6",topAndBtns:"_1zSVp0X0GdxZKo2yfxHP7i",title:"_2TST5gGyntr-4a1BDlRpB8",btn:"Pw0ZiaIeJ06B20kCdPYcO",list:"_2Q26OEpEXsq3CyCrpZeBR_",content:"_2Zzo8zDgrziPs8XiZXgcOT",item:"_3abnydJsF5QzQZ-Ex0Dc4l",none:"_1fJS7ayoWOxdy7VW6AtKMQ",right:"_3J-pT055cr9tPln1YnN0UH",top:"e8zBdRVnBkm9NrZqlB7Bz",context:"_3H0ncntWp_jQsQWjg7EZSv",qnnFormContext:"_1uSVkNnVjwnUEEPeiKSsxY",full:"_363eh1OnKxWlciyzNqHYQW",qnnTableFlowBtn:"_2UQ_gLx14dSQm3J99iyMSa"}},tjlV:function(e,t,a){"use strict";a("9U97"),a("IdsT"),a("l9AF"),a("phWY");var o=a("N5Od"),n=(a("PcKd"),a("+hGT")),r=a("Wv3C"),i=a.n(r),s=(a("H8ZZ"),a("rc3a")),l=(a("Iyzk"),a("WGss")),c=a("isxb"),d=a.n(c),u=a("wJ7t"),p=a.n(u),f=a("rD0L"),m=a.n(f),h=a("bj0d"),v=a.n(h),g=a("/V2q"),_=a.n(g),w=a("i2ZC"),y=a.n(w),b=a("r0ML"),F=a.n(b),k=a("fIjf"),E=(a("bSDv"),a("fbSu")),I=a.n(E),C=a("5T12"),N=a.n(C),A=a("qHWA"),D=a.n(A),x=a("rx6U"),B=a.n(x),O=a("4tJN"),S=a.n(O),T=a("Qsbb"),R=a.n(T),M=(a("kO4A"),a("S6uq"),a("x/6R"),a("gyUR"),a("Z5ek"),a("jnfO"),a("zIPO"),a("MRnW"),a("GzNv"),a("S26F"),a("orcL"),a("UP13"),a("uuJk")),P=(a("7oMC"),a("sjhd")),L=(a("9M8h"),a("4sxk")),j=a("EByn"),U=a.n(j),V=(a("40Q9"),a("VpwF")),z=(a("07Zm"),a("2HLw")),K=(a("m2t+"),a("QQP0")),W=(a("OmMX"),a("yAbe")),q=(a("ezgv"),a("jHlp")),H=(a("3fBH"),a("g2mn")),J=(a("C55e"),a("dr2a")),Q=a("wUJ3"),G=a.n(Q),Y=a("yRwV"),Z=a.n(Y),X=a("qQuN"),$=a.n(X),ee=(a("GSo0"),a("H5O6")),te=a.n(ee),ae=a("f1uq"),oe=a.n(ae),ne=(a("HJbo"),a("daJc")),re=(a("LEv/"),a("vlRS")),ie=(a("p1x/"),a("514X")),se=a("SjV7"),le=a("ahjI"),ce=a("cNRa"),de=a.n(ce),ue=(de.a.shape({getFieldsValue:de.a.func,getFieldValue:de.a.func,getFieldInstance:de.a.func,setFieldsValue:de.a.func,setFields:de.a.func,setFieldsInitialValue:de.a.func,getFieldDecorator:de.a.func,getFieldProps:de.a.func,getFieldsError:de.a.func,getFieldError:de.a.func,isFieldValidating:de.a.func,isFieldsValidating:de.a.func,isFieldsTouched:de.a.func,isFieldTouched:de.a.func,isSubmitting:de.a.func,submit:de.a.func,validateFields:de.a.func,resetFields:de.a.func}),a("U32T")),pe=a("ID3L"),fe=a.n(pe),me=a("0DJy"),he=a("+K9n"),ve=a("rgf5"),ge=a.n(ve),_e=a("Dlqy"),we=a("5/yp"),ye=a("eyLu"),be=a("1tnM");function Fe(e,t){var a=R()(e);if(S.a){var o=S()(e);t&&(o=o.filter(function(t){return B()(e,t).enumerable})),a.push.apply(a,o)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(a),!0).forEach(function(t){$()(e,t,a[t])}):D.a?N()(e,D()(a)):Fe(Object(a)).forEach(function(t){I()(e,t,B()(a,t))})}return e}new ie.a({selectedIndex:0});var Ee=re.a.CheckboxItem,Ie=ne.a.alert,Ce=k.a.Item,Ne={labelCol:{span:5},wrapperCol:{span:8,offset:6}},Ae=function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},De=function(e){var t=e.isNeedClassifyConfig,a=oe()(e,["isNeedClassifyConfig"]);return F.a.useMemo(function(){return F.a.createElement(_e.default,a)},[t])},xe=function(e){function t(){var e,a;d()(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=m()(this,(e=v()(t)).call.apply(e,[this].concat(n)))).state={curRightClickData:void 0,todoDataLoading:!0,todoData:[]},a.getTodoData=te()(Z.a.mark(function e(){var t,o,n,r,i,s,l,c,d,u,p,f,m,h;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,o=t.workFlowConfig.hasTodo,n=t.match.path,r=t.getTodoDataFetchConfig,i=t.flowId,s=!1,new RegExp(o,"g").test(n)&&(s=!0),a.setState({todoDataLoading:!0}),r||console.error("leftDoc \u5e03\u5c40\u6a21\u5f0f\u5fc5\u987b\u914d\u7f6e\uff1agetTodoDataFetchConfig\u3001filesFieldName\u3001docFieldName"),l=r(s?"hasTodo":"todo"),c=l.apiName,d=l.params,e.next=8,a.props.myFetch(c,ke({flowId:i},d));case 8:u=e.sent,p=u.data,f=u.success,m=u.code,h=u.message,f?a.setState({todoDataLoading:!1,todoData:p}):(a.props.errMsg(h,m),a.setState({todoDataLoading:!1}));case 14:case"end":return e.stop()}},e)})),a.refreshTodoList=function(){a.getTodoData()},a.contentRightClick=function(e){/ant-table-cell/gi.test(e.target.className)||a.setState({curRightClickData:void 0})},a.curUploadType="",a.docInputRef=F.a.createRef(),a.filesInputRef=F.a.createRef(),a.uploadDocBtnClick=function(e){a.curUploadType=e,"doc"===e?a.docInputRef.current.click():a.filesInputRef.current.click()},a.docFileChange=function(e){a.props.redDocUpload({onSuccess:function(e){var t=e.data;"files"===a.curUploadType&&a.props.uploadFlies(t)},onError:function(){},file:e.target.files[0]},"files"===a.curUploadType)},a.changeFlow=function(e){a.props.openFlowByPre(e)},a}return y()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.todoListModuleShow,a=void 0===t||t;"leftDoc"===e.formLayout&&a&&this.getTodoData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.todoData,o=void 0===a?[]:a,n=t.curRightClickData,r=t.todoDataLoading,s=this.props,l=s.updateRootBody,c=s.isInQnnTable,d=s.flowFormColumn,u=void 0===d?[]:d,p=s.getQnnForm,f=s.parentQnnForm,m=s.qnnFormInitialValues,h=void 0===m?{}:m,v=s.form,g=s.formLayout,_=s.delFlies,w=s.uploadRes,y=void 0===w?[]:w,b=s.openFlies,k=s.docFns,E=s.delRedDoc,I=s.filesUploadData,C=void 0===I?[]:I,N=s.BtnsJsx,A=s.getFlowRootDom,D=s.workFlowConfig.hasTodo,x=s.match.path,B=s.workId,O=s.isNeedClassifyConfig,S=s.todoListModuleShow,T=void 0===S||S,R=s.docModuleShow,M=void 0===R||R,P=s.filesModuleShow,L=void 0===P||P,j=!1;new RegExp(D,"g").test(x)&&(j=!0);var U=(0,v.getFieldsValue)().apiBody||{};u=u.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],e.field),a=e.type;U[t]&&("datetime"===a?U[t]=fe()(U[t]).valueOf():"Cascader"!==a&&"cascader"!==a||(U[t]=U[t].join(",")));var o="";return o=t&&-1!==t.indexOf("apiBody.")?t:t?"apiBody.".concat(t):"",e.field=o,"linkage"===a?e.children=function e(t){var a=t.children,o=t.form,n=o.field,r="";return r=-1!==n.indexOf("apiBody.")?n:n?"apiBody."+n.toString():"",o.field=r,a&&e(a),t}(e.children):"qnnForm"===a&&(U["".concat(t.replace(/(apiBody.)/g,""))]=U["".concat(t.replace(/(apiBody.)/g,""),"_Block")],delete U["".concat(t.replace(/(apiBody.)/g,""),"_Block")]),e.formItemLayout||(e.formItemLayout={labelCol:{xs:{span:7},sm:{span:6}},wrapperCol:{xs:{span:17},sm:{span:18}}}),e});var V={apiBody:G()(U)};U.opinionContent&&(V.opinionContent=U.opinionContent),l(ke({},V));var z,Q=ke({},this.props,{children:null,data:{},form:null,fetch:this.props.myFetch,headers:{token:this.props.loginAndLogoutInfo.loginInfo.token},formConfig:u.map(function(e){e.opinionField,e.qnnDisabled,e.addShow;return ke({},oe()(e,["opinionField","qnnDisabled","addShow"]))}),style:{paddingBottom:"leftDoc"===g?0:"52px",paddingTop:"0px",padding:c?0:12},fetchConfig:{},wrappedComponentRef:function(t){t&&(e.qnnForm=t,p&&p(t),f&&f(t),setTimeout(function(){e.qnnForm.setValues(h)},100))},drawerConfig:{bodyStyle:{paddingTop:"24px"}}}),Y=F.a.createElement(J.a,null,n&&F.a.createElement(J.a.Item,{key:"openDoc",onClick:function(e){return k.openDoc(n)}},"\u6253\u5f00\u516c\u6587"),F.a.createElement(J.a.Item,{key:"createDoc",onClick:function(){return k.createDoc()}},"\u521b\u5efa\u516c\u6587"),F.a.createElement(J.a.Item,{key:"uploadDoc",onClick:function(){return e.uploadDocBtnClick("doc")}},"\u4e0a\u4f20\u516c\u6587"),n&&F.a.createElement(J.a.Item,{key:"delDoc",onClick:function(){return E(n)}},"\u5220\u9664\u516c\u6587")),Z=[{title:"\u9644\u4ef6\u540d",dataIndex:"name",key:"name",width:100},{title:"\u4f4d\u7f6e",dataIndex:"address",key:"address",width:100},{title:"\u5927\u5c0f",dataIndex:"size",key:"size",width:100},{title:"\u5df2\u4e0b\u8f7d",dataIndex:"downloaded",key:"downloaded",render:function(e){return e?"\u5df2\u4e0b\u8f7d":"\u672a\u4e0b\u8f7d"},width:100},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"createTime",key:"createTime",render:function(e){return e?fe()(e).format("YYYY-MM-DD HH:mm"):""},width:200},{width:200,title:"URL\u6216\u8def\u5f84",dataIndex:"url",key:"url",ellipsis:!0}],X=F.a.createElement(J.a,null,n&&F.a.createElement(J.a.Item,{key:"openFlies",onClick:function(){return b(n)}},"\u6253\u5f00\u9644\u4ef6"),F.a.createElement(J.a.Item,{key:"uploadDocBtnClick",onClick:function(){return e.uploadDocBtnClick("files")}},"\u4e0a\u4f20\u9644\u4ef6"),n&&F.a.createElement(J.a.Item,{key:"delFlies",onClick:function(){return _(n)}},"\u5220\u9664\u9644\u4ef6")),$=!T&&!M&&!L;return z="leftDoc"===g?F.a.createElement("div",{className:ge.a.leftFilesLayout},F.a.createElement("input",{type:"file",accept:".doc,.docx",ref:this.docInputRef,style:{display:"none"},onChange:this.docFileChange}),F.a.createElement("input",{type:"file",ref:this.filesInputRef,style:{display:"none"},onChange:this.docFileChange}),F.a.createElement("div",{className:"".concat(ge.a.left," ").concat($?ge.a.none:"")},T&&F.a.createElement("div",{className:ge.a.todoList},F.a.createElement("div",{className:ge.a.topAndBtns},F.a.createElement("span",{className:ge.a.title},j?"\u5df2\u529e\u4efb\u52a1":"\u5f85\u529e\u4efb\u52a1"),F.a.createElement("a",{className:ge.a.btn,onClick:this.refreshTodoList},F.a.createElement(we.a,null)," \u5237\u65b0")),F.a.createElement("div",{className:ge.a.list},F.a.createElement(H.a,{spinning:r,tip:"loading",style:{padding:"32px 0px"}},o.map(function(t,a){var o=t.title;return F.a.createElement("a",{key:a,className:ge.a.item,onClick:function(){return e.changeFlow(t)}},o)})))),M&&F.a.createElement("div",{className:ge.a.docsList},F.a.createElement("div",{className:ge.a.topAndBtns},F.a.createElement("span",{className:ge.a.title},"\u516c\u6587\u6b63\u6587"),F.a.createElement("a",{className:ge.a.btn,onClick:function(){return e.uploadDocBtnClick("doc")}},F.a.createElement(ye.a,null),"  \u4e0a\u4f20\u6b63\u6587"),F.a.createElement("a",{className:ge.a.btn,onClick:function(){return k.createDoc()}},F.a.createElement(be.a,null)," \u521b\u5efa\u6b63\u6587")),F.a.createElement("div",{className:ge.a.list},F.a.createElement(W.a,{overlay:Y,trigger:["contextMenu"]},F.a.createElement("div",{className:ge.a.content,onContextMenu:this.contentRightClick},F.a.createElement(q.a,{key:"".concat(B,"-").concat(y.length),rowKey:function(e){return e.uid||e.url||Math.random()},sticky:!0,columns:Z,dataSource:y,size:"small",pagination:!1,rowClassName:"data-row",onRow:function(t){return{onContextMenu:function(a){e.setState({curRightClickData:t})}}},onHeaderRow:function(){return{onContextMenu:function(t){e.setState({curRightClickData:void 0})}}}}))))),L&&F.a.createElement("div",{className:ge.a.filesList},F.a.createElement("div",{className:ge.a.topAndBtns},F.a.createElement("span",{className:ge.a.title},"\u516c\u6587\u9644\u4ef6"),F.a.createElement("a",{className:ge.a.btn,onClick:function(){return e.uploadDocBtnClick("files")}}," ",F.a.createElement(ye.a,null)," \u4e0a\u4f20\u9644\u4ef6")),F.a.createElement("div",{className:ge.a.list},F.a.createElement(W.a,{overlay:X,trigger:["contextMenu"]},F.a.createElement("div",{className:ge.a.content,onContextMenu:this.contentRightClick},F.a.createElement(q.a,{rowKey:function(e){return e.uid||e.url||Math.random()},sticky:!0,columns:Z,key:"".concat(B,"-").concat(C.length),dataSource:C,size:"small",pagination:!1,rowClassName:"data-row",onRow:function(t){return{onContextMenu:function(a){e.setState({curRightClickData:t})}}},onHeaderRow:function(){return{onContextMenu:function(t){e.setState({curRightClickData:void 0})}}}})))))),F.a.createElement("div",{className:"".concat(ge.a.right," ").concat($?ge.a.full:"")},F.a.createElement(K.a,{target:function(e){return A()}},F.a.createElement("div",{className:ge.a.top},N)),F.a.createElement("div",{className:ge.a.context},F.a.createElement("div",{className:ge.a.qnnFormContext},F.a.createElement(De,i()({},Q,{key:B})))))):F.a.createElement(F.a.Fragment,null,this.props.children,F.a.createElement(De,i()({},Q,{isNeedClassifyConfig:O}))),u.length>0?F.a.createElement("div",{className:c||Ae()?ge.a.containerByQnnTable:ge.a.container},z):F.a.createElement("div",null)}}]),t}(b.Component),Be=function(e){var t=e.flowButtons,a=e.clickFlowButton,o=void 0===a?function(){}:a,n=e.backTop,r=void 0===n?function(){}:n,s=e.createOpenFlow,l=void 0===s?function(){}:s,c=e.refresh,d=void 0===c?function(){}:c,u=e.isInQnnTable,p=e.formLayout,f=(t=t||[]).length||0,m=t.map(function(e,t){var a={right:64*(f-1-t)+20+"px"},n="...";switch(e.buttonClass){case"backTop":a.background="#fff",a.color="#108ee9";break;case"refresh":a.background="#fff",a.color="#108ee9",n="\u5237\u65b0";break;case"goBack":a.background="#fff",a.color="greenyellow",n="\u8fd4\u56de";break;case"createOpenFlow":a.background="green",n="\u53d1\u8d77";break;case"com.horizon.wf.action.ActionReaded":n="\u5df2\u9605";break;case"com.horizon.wf.action.ActionReject":a.background="red",n="\u9000\u56de";break;case"com.horizon.wf.action.ActionSubmitForReject":a.background="greenyellow",n="\u9000\u56de\u63d0\u4ea4";break;case"com.horizon.wf.action.ActionRejectByJump":a.background="red",n="\u4efb\u610f\u9000\u56de";break;case"com.horizon.wf.action.ActionStop":a.background="red",n="\u5220\u9664";break;case"com.horizon.wf.action.ActionSubmit":a.background="orange",n="\u63d0\u4ea4";break;case"com.horizon.wf.action.ActionSave":a.background="#108ee9",n="\u4fdd\u5b58";break;case"preFlow":a.background="#108ee9",n="\u5728\u7ebf\u9884\u89c8";break;case"exprot":a.background="#108ee9",n="\u5bfc\u51fa";break;default:a.background="darkgrey",n="\u53d6\u6d88"}return F.a.createElement(z.a,{key:t,style:{marginLeft:0===t?"0px":"8px"},type:"primary",onClick:function(t){t.preventDefault(),o(e,{backTop:r,createOpenFlow:l,refresh:d})},size:"leftDoc"===p?"small":"middle"},n)});return Ne=e.formTailLayout||Ne,u?"leftDoc"===p?m:F.a.createElement(Ce,i()({},Ne,{className:ge.a.qnnTableFlowBtn}),m):Ae()?F.a.createElement("div",{className:ge.a.mobileBtnContainer},m):"leftDoc"===p?m:F.a.createElement(Ce,i()({},Ne,{className:ge.a.pcBtnsContainer}),m)},Oe=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.props.dispatch,n=t.buttonId,r=t.buttonClass,i=t.buttonName,s=t.printUrl,l=a.backTop,c=void 0===l?function(){}:l,d=a.createOpenFlow,u=void 0===d?function(){}:d,p=a.refresh,f=void 0===p?function(){}:p,m={operate:n,operateClazz:r,operateText:i,operateFlag:1};switch(r){case"backTop":c();break;case"refresh":f();break;case"goBack":o(Object(ue.c)());break;case"createOpenFlow":u();break;case"com.horizon.wf.action.ActionSave":Ie("\u6682\u5b58","",[{text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")}},{text:"\u786e\u5b9a",onPress:function(){Se.bind(e)({operateObj:m,visible:!1,close:!0})}}]);break;case"com.horizon.wf.action.ActionReaded":Ie("\u60a8\u786e\u8ba4\u5df2\u9605\u8be5\u4fe1\u606f\uff1f","",[{text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")}},{text:"\u786e\u5b9a",onPress:function(){Se.bind(e)({operateObj:m,visible:!1,close:!0})}}]);break;case"com.horizon.wf.action.ActionReject":Ie("\u9000\u56de","\u786e\u5b9a\u9000\u56de\u4e48\uff1f",[{text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")}},{text:"\u786e\u5b9a",onPress:function(){Se.bind(e)({noVerifyField:!0,operateObj:m,visible:!1,close:!0})}}]);break;case"com.horizon.wf.action.ActionRejectByJump":Se.bind(this)({operateObj:m,visible:!0});break;case"com.horizon.wf.action.ActionStop":Ie("\u5220\u9664","\u786e\u5b9a\u5220\u9664\u4e48\uff1f",[{text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")}},{text:"\u786e\u5b9a",onPress:function(){Se.bind(e)({noVerifyField:!0,operateObj:m,visible:!1,close:!0})}}]);break;case"com.horizon.wf.action.ActionSubmitForReject":Ie("\u9000\u56de\u63d0\u4ea4","\u786e\u5b9a\u9000\u56de\u63d0\u4ea4\u4e48\uff1f",[{text:"\u53d6\u6d88",onPress:function(){}},{text:"\u786e\u5b9a",onPress:function(){Se.bind(e)({operateObj:m,visible:!1,close:!0})}}]);break;case"com.horizon.wf.action.ActionSubmit":Se.bind(this)({operateObj:m,visible:!0});break;case"preFlow":case"exprot":window.location.href=s;break;default:Ie("\u672a\u77e5")}},Se=function(e,t){var a=this,o=this.props,n=o.form,r=o.dispatch,i=o.match,s=o.myFetch,l=o.isInQnnTable,c=o.myPublic,d=void 0===c?{}:c,u=o.btnCallbackFn,p=void 0===u?{}:u,f=o.actionParamsFormat,m=void 0===f?function(e){return e}:f,h=o.workFlowConfig,v=void 0===h?{}:h,g=o.noForm,_=o.closeFn,w=o.parameterName,y=void 0===w?"":w,b=v.pushNode,F=v.closeedToUrl,k=p.closeDrawer,E=p.refresh,I=d.androidApi,C=n.setFieldsValue,N=n.getFieldValue,A=this.state,D=A.pushNodeData,x=void 0===D?[]:D,B=A.startSettingFlag,O=A.uploadRes,S=A.isHaveDoc,T=A.docFieldName,R=A.filesFieldName,M=A.filesUploadData,P=N("operateObj"),L=N("curNextNodes")||[],j=i.params.flag,U=void 0===j?"":j;this.qnnForm.getValues(!e.noVerifyField).then(function(o){var n,i,c,d,u,p,f,h=e.operateObj,v=void 0===h?{}:h,w=e.selectId,N=e.visible,A=void 0===N||N,D=e.close,j=void 0!==D&&D,z=e.actionNextNodes,K=void 0===z?[]:z;x.length&&K.splice(x.length,K.length);var W=ke({},P,{},v,{nextNodes:K});if(W.nextNodes&&W.nextNodes.length)for(var q=0;q<W.nextNodes.length;q++){var H;(null===(H=W.nextNodes[q])||void 0===H?void 0:H.authors)&&(W.nextNodes[q].authors.Author&&(W.nextNodes[q].authors.Author.initAuthorApih5=[]),W.nextNodes[q].authors.Reader&&(W.nextNodes[q].authors.Reader.initAuthorApih5=[]),W.nextNodes[q].authors.SecondAuthor&&(W.nextNodes[q].authors.SecondAuthor.initAuthorApih5=[]))}var J=ke({opinionContent:null===o||void 0===o?void 0:null===(n=o.apiBody)||void 0===n?void 0:n.opinionContent},a.rootBody,{apiBody:G()(o.apiBody),actionData:G()(W),topId:(null===o||void 0===o?void 0:null===(i=o.apiBody)||void 0===i?void 0:i[y])||(null===(c=a.props)||void 0===c?void 0:null===(d=c.loginAndLogoutInfo)||void 0===d?void 0:null===(u=d.loginInfo)||void 0===u?void 0:null===(p=u.userInfo)||void 0===p?void 0:null===(f=p.curCompany)||void 0===f?void 0:f.departmentId)||""});V.a.loading("loading...",0);var Q=m(J,ke({},a.props));S&&Q.apiBody&&(Q.apiBody=JSON.parse(Q.apiBody),Q.apiBody[T]=O,Q.apiBody=G()(Q.apiBody)),R&&Q.apiBody&&(Q.apiBody=JSON.parse(Q.apiBody),Q.apiBody[R]=M,Q.apiBody=G()(Q.apiBody)),s("actionFlow",Q).then(function(e){var o=e.success,n=e.message,i=e.data;if(V.a.hide(),o){var s=i.operate,c=i.operateClazz,d=i.operateText,u=i.nextNodes;if(L=w?K.map(function(e,t){if(e.selectId===w)for(var a=0;a<u.length;a++)if(u[a].selectId===w){e.authors=u[a].authors;break}return e}):u,j){if(g)return void _();if(U)return void(window.location.href="http://weixin.fheb.cn/ZJOA/initDocWorkListMsg.do?docType=1&flg=1");if(t&&t(i),I?I.closeStartActivity():l?k(!1,function(){E()}):r(Object(ue.c)()),F)return void(window.location.href=F)}else{var p={operateObj:{operate:s,operateClazz:c,operateText:d,operateFlag:"1"},curNextNodes:L.concat(x),visible:A};C(ke({},p)),t&&t(i)}b&&!x.length&&B&&a.getPushNodeData.bind(a)(i)}else V.a.fail(n,2,function(){I&&I.closeStartActivity()})})})},Te=function(e){function t(){var e,a;d()(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=m()(this,(e=v()(t)).call.apply(e,[this].concat(n)))).onClose=function(){a.props.onCancel?a.props.onCancel():(0,a.props.form.setFieldsValue)({visible:!1})},a}return y()(t,e),p()(t,[{key:"render",value:function(){var e,t,a,o,n=this,r=this.props,i=r.actionFlow,s=r.myFetch,l=r.form,c=void 0===l?{}:l,d=r.workFlowConfig.pushNode,u=r.pushNodeData,p=r.flowId,f=r.workId,m=r.noForm,h=r.closeFn,v=r.dispatch,g=r.myPublic.appInfo.mainModule,_=r.loginAndLogoutInfo,w=r.rootBody,y=c.getFieldValue,b=c.validateFields,k=c.setFieldsValue,E=y("visible"),I=y("curNextNodes")||[],C=y("operateObj")||{},N=(null===(e=this.props)||void 0===e?void 0:e.topId)||(null===_||void 0===_?void 0:null===(t=_.loginInfo)||void 0===t?void 0:null===(a=t.userInfo)||void 0===a?void 0:null===(o=a.curCompany)||void 0===o?void 0:o.departmentId)||"";return F.a.createElement(ne.a,{wrapClassName:"w-flowModal",className:"workFlow-myModal",visible:E,maskClosable:!1,title:"\u8bf7\u9009\u62e9\u6d41\u7a0b",footer:[{text:"\u53d6\u6d88",onPress:function(){n.onClose(),m&&h(),"add"===f&&Ae()&&v(Object(ue.e)("".concat(g).concat(n.props.todo)))}},{text:"\u786e\u5b9a",onPress:function(){for(var e=n.props.form.setFieldsValue,t=!1,a=0;a<I.length;a++){var o=I[a].authors,r=o.Author,l=void 0===r?{}:r,c=o.SecondAuthor,m=void 0===c?{}:c,h=o.Reader,v=void 0===h?{}:h,g=l.selectAuthorNewApih5&&l.selectAuthorNewApih5.length,_=m.selectAuthorNewApih5&&m.selectAuthorNewApih5.length,w=v.selectAuthorNewApih5&&v.selectAuthorNewApih5.length;(g||_||w)&&(t=!0)}var b=I.filter(function(e){return"true"===e.isSelect||!0===e.isSelect}),F=null;b.length&&(F=b[0].nodeId),t||/^End(\d{1,9})$/.test(F)||"com.horizon.wf.action.ActionRejectByJump"===C.operateClazz?"com.horizon.wf.action.ActionRejectByJump"!==C.operateClazz||F?(e({visible:!1}),Ie("\u63d0\u4ea4","\u786e\u5b9a\u4e48\uff1f",[{text:"\u53d6\u6d88",onPress:function(){e({visible:!0})}},{text:"\u786e\u5b9a",onPress:function(){var t=[],a=U()(I);d&&(a=I.filter(function(e,t){return t<I.length-u.length}),t=I.filter(function(e,t){return t>=I.length-u.length})),i({actionNextNodes:a,visible:!1,close:!0,operateObj:{operateFlag:"0"}},function(a){if(d&&"add"===f&&t.length){var o={apih5FlowId:p,apih5WorkId:a.workId,apih5FlowName:a.flowName,nextNodes:t};s("addBaseFlowStartSettingByFlow",ke({},o)).then(function(t){var a=t.success,o=t.message,r=t.data,i=t.code;if(a){var s=y("curNextNodes");s=s.concat(r),e({curNextNodes:s}),n.setState({pushNodeData:r})}else"-1"===i?L.a.error({message:"\u7cfb\u7edf\u9047\u5230\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u8fd0\u7ef4\u4eba\u5458",description:o,duration:3}):L.a.warn({message:"\u63d0\u793a",description:o,duration:3})})}})}}])):V.a.info("\u8bf7\u9009\u62e9\u8282\u70b9\uff01"):V.a.info("\u8bf7\u9009\u62e9\u5ba1\u6279\u4eba\u5458")}}],style:{maxWidth:"500px"}},F.a.createElement(P.a,null,I.map(function(e,t){var a=e.selectId,o=e.selectName,n=e.isSelect,r=e.authors,l=e.isDone,c=e.nodeGroup,d=e.isDisabledTabs,u="true"===n,p="true"===d||!0===d;return F.a.createElement(Ee,{checked:u,onChange:function(){"{}"===G()(r)&&"com.horizon.wf.action.ActionRejectByJump"!==C.operateClazz?b(function(e){if(!e){var t=I.map(function(e){return e.selectId===a?e.isSelect=c?"true":"true"===e.isSelect?"false":"true":c&&(e.isSelect="false"),e});i({actionNextNodes:t,selectId:a})}}):b(function(e){if(!e){var t=I.map(function(e){return e.selectId===a?e.isSelect=c?"true":"true"!==e.isSelect||1===I.length?"true":"false":c&&(e.isSelect="false"),e});k({curNextNodes:t})}})},key:a,disabled:p},F.a.createElement("span",null,"true"===l?F.a.createElement("span",{style:{color:"#108ee9"}},"[\u5df2]"):"",o),u&&r&&"{}"!==G()(r)?F.a.createElement(P.a.Item.Brief,null,F.a.createElement(Me,{myFetch:s,value:r,topId:N,workId:f,rootBody:w,onChange:function(e){b(function(t){if(!t){var o=I.map(function(t,o){if(t.selectId===a)for(var n in r)t.authors[n]=ke({},t.authors[n],{selectAuthorNewApih5:e[n].selectAuthorNewApih5});return t});k({curNextNodes:o})}})}})):null)})))}}]),t}(b.Component),Re=function(e){function t(e){var a;d()(this,t),(a=m()(this,v()(t).call(this,e))).onChange=function(e){a.setState({selectedIndex:e})},a.loadTree=function(){(0,a.props.myFetch)("getSysDepartmentUserAllTree").then(function(e){var t=e.success,o=(e.code,e.message,e.data);t&&a.setState({treeData:[o],loading:!1})})};var o=a.props.value;a.values=[{authorId:"Author",authorName:"\u529e\u7406\u4eba"},{authorId:"SecondAuthor",authorName:"\u4ee3\u7406\u4eba"},{authorId:"Reader",authorName:"\u4f20\u9605"}];for(var n=0,r=0;r<a.values.length;r++){var i=a.values[r].authorId;if(o[i]&&"true"===o[i].isSelect){n=r;break}}return a.state={selectedIndex:n,treeData:[],loading:!1},a}return y()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.props.onChange&&this.props.onChange(this.props.value)}},{key:"render",value:function(){var e=this.state,t=e.selectedIndex,a=e.loading,o=this.props.form.getFieldDecorator,n=this.props,r=n.value,s=n.myFetch,l=n.topId,c=n.workId,d=n.rootBody,u=void 0===d?{}:d;return a?F.a.createElement(M.a,{text:"Loading..."}):F.a.createElement("div",null,F.a.createElement(Pe,{onChange:this.onChange,value:r,selectedIndex:t}),this.values.map(function(e,a){var n=e.authorId;if(r[n]){var d={},p=r[n].initAuthorApiPar||{};return d=r[n].initAuthorApiUrl?{fetchConfig:{apiName:r[n].initAuthorApiUrl,paramsKey:"departmentParentId",params:ke({departmentParentId:"0",topId:l,workId:c&&"add"!==c?c:u.workId},p)}}:{treeData:r[n].initAuthorApih5},F.a.createElement("div",{key:a,style:{display:t===a?"block":"none"}},Ae()?o(n+"[selectAuthorNewApih5]",{valuePropName:"defaultValue",initialValue:r[n].selectAuthorNewApih5||[]})(F.a.createElement(me.a,i()({search:r[n].initAuthorApih5SearchApi,searchParamsKey:"search",searchApi:r[n].initAuthorApih5SearchApi?r[n].initAuthorApih5SearchApi:"getSysDepartmentUserAllTree",myFetch:s,selectType:"2",edit:"true"===r[n].isSelect},d,{useCollect:!0,collectApi:"appGetSysFrequentContactsList",collectApiByAdd:"appAddSysFrequentContacts",collectApiByDel:"appRemoveSysFrequentContacts"}))):o(n+"[selectAuthorNewApih5]",{valuePropName:"defaultValue",initialValue:r[n].selectAuthorNewApih5||[]})(F.a.createElement(he.default,i()({search:r[n].initAuthorApih5SearchApi,searchParamsKey:"search",searchApi:r[n].initAuthorApih5SearchApi?r[n].initAuthorApih5SearchApi:"getSysDepartmentUserAllTree",myFetch:s,selectType:"2",edit:"true"===r[n].isSelect},d,{useCollect:!0,collectApi:"appGetSysFrequentContactsList",collectApiByAdd:"appAddSysFrequentContacts",collectApiByDel:"appRemoveSysFrequentContacts"}))))}return null}))}}]),t}(b.Component),Me=Object(se.a)({mapPropsToFields:function(e){return{Author:Object(le.a)(e.value.Author),SecondAuthor:Object(le.a)(e.value.SecondAuthor),Reader:Object(le.a)(e.value.Reader)}},onValuesChange:function(e,t,a){e.onChange&&e.onChange(a)}})(Re),Pe=function(e){function t(e){var a;return d()(this,t),(a=m()(this,v()(t).call(this,e))).onChange=function(e){a.props.onChange(e)},a.state={selectedIndex:0,treeData:[],loading:!1},a}return y()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,o=t.selectedIndex;return F.a.createElement("div",{className:"am-segment",role:"tablist"},[{authorId:"Author",authorName:"\u529e\u7406\u4eba"},{authorId:"SecondAuthor",authorName:"\u4ee3\u7406\u4eba"},{authorId:"Reader",authorName:"\u4f20\u9605"}].map(function(t,n){var r=t.authorId,i=t.authorName;if(a[r]){var s=o===n,l="true"!==a[r].isFree;return F.a.createElement("div",{key:n,onClick:function(t){t.preventDefault(),!l&&e.onChange(n)},style:l?{opacity:.5}:{},className:s?"am-segment-item am-segment-item-selected":"am-segment-item"},F.a.createElement("div",{className:"am-segment-item-inner"}),i)}return null}))}}]),t}(b.Component),Le=(a("SCQv"),a("1B76")),je=(a("IgG4"),a("/ate")),Ue=(a("jDwJ"),a("iqff")),Ve=a("+Q0i"),ze=a("/4Ee"),Ke=a.n(ze);function We(e,t){var a=R()(e);if(S.a){var o=S()(e);t&&(o=o.filter(function(t){return B()(e,t).enumerable})),a.push.apply(a,o)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(Object(a),!0).forEach(function(t){$()(e,t,a[t])}):D.a?N()(e,D()(a)):We(Object(a)).forEach(function(t){I()(e,t,B()(a,t))})}return e}var He=P.a.Item,Je=He.Brief;function Qe(e){return F.a.createElement("div",{className:"am-list-body my-body",style:{width:"100vw"}},e.children)}var Ge=function(e){function t(e){var a;d()(this,t),(a=m()(this,v()(t).call(this,e))).onBackTop=function(){a.lv.scrollTo(0,0)},a.onRefresh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a.searchKeywords=e||"";var t=a.props.myFetch,o=a.state,n=o.todoListApiName,r=o.hasTodoListApiName,i=o.status,s=o.flowId;a.page=1,a.limit=10,a.realData=[],a.setState({hasMore:!0,isLoading:!0,refreshing:!0,dataSource:a.state.dataSource.cloneWithRows(a.realData)}),t("todo"===i?n:r,{page:a.page,limit:a.limit,title:a.searchKeywords,flowId:s}).then(function(e){var t=e.success,o=e.message,n=e.data,r=e.totalNumber;t?(a.realData=U()(n),a.setState({hasMore:r>a.realData.length,dataSource:a.state.dataSource.cloneWithRows(a.realData),isLoading:!1,refreshing:!1,height:a.hei,searchKeywords:a.searchKeywords})):V.a.fail(o)})},a.onEndReached=function(e){var t=a.props.myFetch,o=a.state,n=o.status,r=o.todoListApiName,i=o.hasTodoListApiName,s=o.flowId;!a.state.isLoading&&a.state.hasMore&&(a.setState({isLoading:!0}),a.page=a.page+1,t("todo"===n?r:i,{page:a.page,limit:a.limit,keyword:a.searchKeywords,flowId:s}).then(function(e){var t=e.success,o=e.message,n=e.data,r=e.totalNumber;t?(a.realData=a.realData.concat(U()(n)),a.setState({hasMore:r>a.realData.length,dataSource:a.state.dataSource.cloneWithRows(a.realData),isLoading:!1})):V.a.fail(o)}))};var o=new Ue.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),n=a.props,r=n.todoListApiName,i=void 0===r?"getTodoList":r,s=n.hasTodoListApiName,l=void 0===s?"getHasTodoList":s,c=n.match,u=n.CustomItem,p=c.params.status;return"function"===typeof i&&(i=i({match:c})),"function"===typeof l&&(l=i({match:c})),a.page=1,a.limit=10,a.realData=[],a.tabBarHeight=a.props.tabBarHeight||0,a.state={hasMore:!1,isLoading:!1,refreshing:!1,dataSource:o.cloneWithRows(a.realData),height:3*document.documentElement.clientHeight/4,todoListApiName:i,hasTodoListApiName:l,status:"0"===p?"todo":p,formLink:a.props.formLink,CustomItem:u,flowId:""},a}return y()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a=this.props.formLink,o=void 0===a?{}:a;for(var n in o)t.push(n);this.setState({flowId:t.join(",")},function(){e.hei=document.documentElement.clientHeight-Object(Ve.findDOMNode)(e.lv).parentNode.offsetTop-e.tabBarHeight,e.onRefresh()})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,a=e.match.params.status;this.state.status===a||this.state.isLoading||this.setState({status:a},function(){t.onRefresh()})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,o=t.myPublic.appInfo.mainModule,n=this.state,r=n.searchKeywords,i=n.formLink,s=n.status,c=n.CustomItem;return F.a.createElement(Ue.a,{className:Ke.a.listview,ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderHeader:r?function(){return F.a.createElement("div",null,"\u5173\u952e\u8bcd\uff1a",r,F.a.createElement("a",{onClick:function(){e.setState({searchKeywords:""},function(){e.props.clearSearchKeywords(),e.onRefresh("")})},style:{marginLeft:"8px",fontSize:"13px"}},"\u6e05\u9664"))}:null,renderFooter:function(){return F.a.createElement("div",{style:{padding:30,textAlign:"center"}},e.state.hasMore?e.state.isLoading?F.a.createElement(M.a,{text:"Loading..."}):"\u4e0a\u62c9\u52a0\u8f7d":F.a.createElement("div",null,"\u6ca1\u6709\u66f4\u591a\u4e86"))},renderBodyComponent:function(){return F.a.createElement(Qe,null)},renderRow:function(t,n){var r=t.title,d=t.flowStatus,u=t.flowName,p=t.nodeName,f=t.workId,m=t.flowId,h=t.sendTime,v=t.sendUserName;return F.a.createElement(He,{key:n,multipleLine:!0,wrap:!0,className:Ke.a.item,onClick:function(){var e=window.encodeURI(r),t="".concat(o).concat(i[m],"/").concat(m,"/").concat(s,"/").concat(f,"/").concat(e);a(Object(ue.e)(t))}},c?c(qe({rowData:qe({},t)},e.props)):F.a.createElement("div",null,F.a.createElement(je.a,{className:Ke.a.itemHeader},F.a.createElement(je.a.Item,null,u),F.a.createElement("div",{style:{textAlign:"right"}},d)),F.a.createElement("div",{className:Ke.a.itemBody},F.a.createElement(je.a,{wrap:"wrap",align:"center",alignContent:"center",style:{color:"#666",fontSize:"13px"}},F.a.createElement(je.a.Item,null,r),F.a.createElement("div",{className:Ke.a.itemBodyArr},F.a.createElement(l.a,{style:{color:"#bbb",width:25,height:25},type:"right"})))),F.a.createElement(Je,{style:{borderTop:"1px solid #e8e8e8",paddingTop:"5px"}},F.a.createElement(je.a,null,F.a.createElement(je.a.Item,{style:{fontSize:"13px"}},F.a.createElement("span",{style:{marginRight:"10px"}},v),fe()(h).format("YYYY-MM-DD HH:mm:ss")),F.a.createElement("div",{style:{textAlign:"right",fontSize:"13px"}},p)))))},style:{height:this.state.height,overflow:"auto"},pageSize:4,onScroll:function(){},scrollRenderAheadDistance:500,onEndReached:this.onEndReached,onEndReachedThreshold:10,pullToRefresh:F.a.createElement(Le.a,{refreshing:this.state.refreshing,onRefresh:function(){e.onRefresh(r)}})})}}]),t}(F.a.Component),Ye=function(e){function t(e){var a;d()(this,t),(a=m()(this,v()(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=(0,a.props.form.getFieldValue)("searchKeywords");a.setState({searchShow:!1,searchKeywords:t},function(){a.refs.tab0.onRefresh(t),a.refs.tab1.onRefresh(t)})},a.backTop=function(){var e=a.state.page,t=a.props.match.params.status;"todo"===t?e=0:"hastodo"===t&&(e=1),a.refs["tab"+e].onBackTop()},a.clearSearchKeywords=function(){a.setState({searchKeywords:""},function(){a.props.form.resetFields("searchKeywords")})},a.clickFlowButton=Oe.bind(_()(a));var o=a.props.match.params.status;return a.state={searchKeywords:"",searchShow:!1,page:"0"===o||"todo"===o?0:1,status:"0"===o?"todo":o,formLink:a.props.formLink},a}return y()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.page,r=t.searchShow,c=t.searchKeywords,d=t.formLink,u=this.props,p=u.dispatch,f=u.myPublic.androidApi,m=u.match.params.status,h=this.props.form.getFieldDecorator;return a="todo"===m?0:"hastodo"===m?1:0,F.a.createElement("div",{className:Ke.a.root},F.a.createElement(s.a,{mode:"dark",icon:F.a.createElement(l.a,{type:"left"}),onLeftClick:function(){f?f.closeActivity():p(Object(ue.c)())},rightContent:[F.a.createElement(l.a,{key:"0",onClick:function(){e.setState({searchShow:!r})},type:"search"})]},"\u5ba1\u6279\u7ba1\u7406"),F.a.createElement(n.a,{swipeable:!1,tabs:[{title:"\u5f85\u529e"},{title:"\u5df2\u529e"}],initialPage:a,page:a,onChange:function(t,a){e.setState({searchKeywords:""});var o=0===a?"todo":"hastodo",n=e.props,r=n.myPublic.appInfo.mainModule,i=n.match.params.flowId;e.props.dispatch(Object(ue.f)("".concat(r).concat(d[i],"/").concat(i,"/").concat(o)))}},F.a.createElement(Ge,i()({ref:"tab0"},this.props,{tabBarHeight:88.5,clearSearchKeywords:this.clearSearchKeywords.bind(this)})),F.a.createElement(Ge,i()({ref:"tab1"},this.props,{tabBarHeight:88.5,clearSearchKeywords:this.clearSearchKeywords.bind(this)}))),F.a.createElement(Be,i()({},this.props,{clickFlowButton:this.clickFlowButton,backTop:this.backTop,flowButtons:[{buttonClass:"backTop"}]})),r?F.a.createElement("div",{className:Ke.a.searchModal},F.a.createElement("div",{className:Ke.a.searchMark,onClick:function(){e.setState({searchShow:!1})}}),F.a.createElement(k.a,{onSubmit:this.handleSubmit,className:Ke.a.searchBox},h("searchKeywords",{initialValue:c})(F.a.createElement(o.a,{className:Ke.a.searchInput,placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5173\u952e\u8bcd",extra:F.a.createElement(l.a,{type:"search",color:"#108ee9"}),onExtraClick:this.handleSubmit,clear:!0})))):h("searchKeywords",{initialValue:""})(F.a.createElement("div",null)))}}]),t}(F.a.Component),Ze=(k.a.create()(Ye),a("3E1d"),a("8Qi2"),a("pBsb"),a("6FPJ"),a("UVzF")),Xe=(a("j9gX"),a("0goi"),a("daqd")),$e=a.n(Xe),et=a("qtOx"),tt=a.n(et),at=a("Pc05"),ot=a.n(at),nt=a("9cCS"),rt=a.n(nt),it=a("vy0m"),st=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(a[o[n]]=e[o[n]])}return a},lt=function(e){var t,a,o=e.prefixCls,n=e.className,r=e.color,i=void 0===r?"blue":r,s=e.dot,l=e.pending,c=void 0!==l&&l,d=(e.position,e.label),u=e.children,p=st(e,["prefixCls","className","color","dot","pending","position","label","children"]),f=(0,b.useContext(it.b).getPrefixCls)("timeline",o),m=ot()((t={},tt()(t,"".concat(f,"-item"),!0),tt()(t,"".concat(f,"-item-pending"),c),t),n),h=ot()((a={},tt()(a,"".concat(f,"-item-head"),!0),tt()(a,"".concat(f,"-item-head-custom"),s),tt()(a,"".concat(f,"-item-head-").concat(i),!0),a));return b.createElement("li",$e()({},p,{className:m}),d&&b.createElement("div",{className:"".concat(f,"-item-label")},d),b.createElement("div",{className:"".concat(f,"-item-tail")}),b.createElement("div",{className:h,style:{borderColor:/blue|red|green|gray/.test(i||"")?void 0:i}},s),b.createElement("div",{className:"".concat(f,"-item-content")},u))},ct=a("Vg6e"),dt=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(a[o[n]]=e[o[n]])}return a},ut=function(e){var t,a=b.useContext(it.b),o=a.getPrefixCls,n=a.direction,r=e.prefixCls,i=e.pending,s=void 0===i?null:i,l=e.pendingDot,c=e.children,d=e.className,u=e.reverse,p=void 0!==u&&u,f=e.mode,m=void 0===f?"":f,h=dt(e,["prefixCls","pending","pendingDot","children","className","reverse","mode"]),v=o("timeline",r),g="boolean"===typeof s?null:s,_=s?b.createElement(lt,{pending:!!s,dot:l||b.createElement(rt.a,null)},g):null,w=b.Children.toArray(c);w.push(_),p&&w.reverse();var y=function(e,t){return"alternate"===m?"right"===e.props.position?"".concat(v,"-item-right"):"left"===e.props.position?"".concat(v,"-item-left"):"".concat(v,t%2===0?"-item-left":"-item-right"):"left"===m?"".concat(v,"-item-left"):"right"===m?"".concat(v,"-item-right"):"right"===e.props.position?"".concat(v,"-item-right"):""},F=w.filter(function(e){return!!e}),k=b.Children.count(F),E="".concat(v,"-item-last"),I=b.Children.map(F,function(e,t){var a=t===k-2?E:"",o=t===k-1?E:"";return Object(ct.a)(e,{className:ot()([e.props.className,!p&&s?a:o,y(e,t)])})}),C=w.some(function(e){var t;return!!(null===(t=null===e||void 0===e?void 0:e.props)||void 0===t?void 0:t.label)}),N=ot()(v,(t={},tt()(t,"".concat(v,"-pending"),!!s),tt()(t,"".concat(v,"-reverse"),!!p),tt()(t,"".concat(v,"-").concat(m),!!m&&!C),tt()(t,"".concat(v,"-label"),C),tt()(t,"".concat(v,"-rtl"),"rtl"===n),t),d);return b.createElement("ul",$e()({},h,{className:N}),I)};ut.Item=lt;var pt=ut,ft=(a("NExk"),a("ftLu")),mt=(a("w9C0"),a("XW+2")),ht=a("eRGJ"),vt=a.n(ht),gt=(a("p3n1"),a("3Dc/")),_t=a("iL/T"),wt=a("Z8M8"),yt=a("AE6M"),bt=a("PPjM"),Ft=a.n(bt),kt=a("3a3M"),Et=a.n(kt),It=a("7aAv");function Ct(e,t){var a=R()(e);if(S.a){var o=S()(e);t&&(o=o.filter(function(t){return B()(e,t).enumerable})),a.push.apply(a,o)}return a}function Nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(a),!0).forEach(function(t){$()(e,t,a[t])}):D.a?N()(e,D()(a)):Ct(Object(a)).forEach(function(t){I()(e,t,B()(a,t))})}return e}var At=gt.a.TabPane,Dt=function(e){function t(e){var a;d()(this,t),(a=m()(this,v()(t).call(this,e))).updateRootBody=function(e){a.rootBody=Nt({},a.rootBody,{},e)},a.openFlowByPre=function(e){var t=a.state,o=t.formConfig,n=t.apiNameByGet,r=t.apiNameByUpdate,i=t.flowId,s=t.openParamsFormat,l=t.btnsCURD,c=t.fieldsCURD,d=t.openFlowDataParms,u=t.docFieldName,p=t.filesFieldName,f=t.flowData,m=Nt({workId:a.state.workId,title:a.state.title},e),h=m.workId,v=m.title;"function"===typeof i&&i(a.props);var g=U()(o).map(function(e){return e.disabled=!0,e.children&&e.children.formConfig&&e.children.formConfig.length&&(e.children.formConfig=e.children.formConfig.map(function(e){return Nt({},e,{disabled:!0})})),e}),w=a.props,y=w.myFetch,b=w.noForm,F=w.workFlowConfig,k=void 0===F?{}:F,E=w.match,I=w.loginAndLogoutInfo.loginInfo.userInfo,C=v;try{C=window.decodeURI(C)}catch(O){}var N={flowId:i,workId:h,apiName:n,apiType:"POST",title:C},A=s(N,Nt({},a.props)),D="openFlow",x=k.hasTodo;!a.isMobile()&&new RegExp(x,"g").test(E.path)?D="openFlowHas":a.isMobile()&&"hasTodo"===E.params.status&&(D="openFlowHas");var B=function(t){var o=t.apiData,n=t.nodeVars,s=t.flowVars,f=t.flowNode,m=f.nodeId,v=f.trackId,w=t.flowButtons,y=t.flowHistoryList,F=t.flowWebUrl,k=o?JSON.parse(o):{};if(b){var E=t.apiFlowId,C=t.workId,A=t.nodeVars,D=t.flowVars,x=t.flowNode,B=x.nodeId,O=x.trackId,S=t.apiName,T=t.apiBody,R=t.apiType,M=t.opinionContent,P=t.title;a.rootBody={selectAuthorNewFlag:"1",nodeVars:A,flowVars:D,workId:C,nodeId:B,trackId:O,apiName:S,apiBody:T,apiType:R,opinionContent:M,title:P,apiFlowId:E};var L=w.filter(function(e){return"com.horizon.wf.action.ActionSubmit"===e.buttonClass})[0]||{},j={buttonId:L.buttonId,buttonClass:L.buttonClass,buttonName:L.buttonName};return Oe.bind(_()(a))(j,{dispatch:a.props.dispatch,actionFlow:a.actionFlow,onCancel:function(){console.log("\u5173\u95ed")},form:a.props.form}),void a.setState({isNeedClassifyConfig:!1})}a.updateRootBody({workId:h,flowId:i,nodeId:m,trackId:v,nodeVars:n,flowVars:s,apiName:r,apiType:"POST",title:N.title});var U=!1;n&&"1"===n.formEditFlag&&(U=!0);var V,z=k,K=s.opinionFieldName&&s.opinionFieldName.split("_").map(function(e){var t=e.split("|");return{field:t[0],type:"textarea",label:t[1],voice:!0,disabled:!0,opinionField:!0}}),W=s.attachmentListName?s.attachmentListName.split("_").map(function(e){var t=e.split("|");return{field:t[0],fieldName:t[0],type:"camera",cameraConfig:{type:"camera",showName:!1},label:t[1],disabled:!0,fetchConfig:{apiName:window.configs.domain+"upload"}}}):[];if(n&&"1"===n.fileOperationFlag&&W.push({type:"camera",cameraConfig:{type:"camera",showName:!1},field:"zlAttachmentList",fieldName:"zlAttachmentList",label:"\u4e0a\u4f20\u9644\u4ef6",fetchConfig:{apiName:window.configs.domain+"upload"}}),V=(V=K?[].concat([],g,W,K):[].concat([],g,W)).map(function(e){var t=e.field,o=e.type,r=e.disabled,i=e.initialValue,s=e.hide,l=e.opinionField;return t=t?t.replace(/(apiBody.)/g,""):"","function"===typeof i&&(e.initialValue=i(Nt({},a.props))),"function"===typeof s&&(e.hide=s(Nt({},a.props))),r="upload"!==o?r:!n||"1"!==n.fileOperationFlag,U&&!l&&(r=!1),Nt({},e,{disabled:r})}),n&&n.opinionField&&w&&w.length){setTimeout(function(){var e=document.getElementById("apiBody.opinionContent"),t=z["apiBody.".concat(n.opinionField)];t&&(t=t.replace(/\r\n/gi,"<br/>"),Et()(e).before('<div style="line-height:1.3;color:#777;font-size:14px;margin-bottom:6px">'.concat(t,"</div>")))},200),V=V.map(function(e){var t=e.field,a=e.type;return(t=t?t.replace("apiBody.",""):t)===n.opinionField&&(e.disabled=!1,e.field="apiBody.opinionContent",e.placeholder="\u8bf7\u8f93\u5165...",I.imageUrl&&(e.style={background:"url(".concat(I.imageUrl,") right bottom / 80px no-repeat")})),"textarea"===a&&z["".concat(t,"VldValue")]&&(e.oldValue=z["".concat(t,"VldValue")]),t===n.opinionFieldTwo&&(e.disabled=!1,e.placeholder="\u8bf7\u8f93\u5165..."),e})}V=c(V,t,Nt({},a.props)),a.props.changeIsNeedClassifyConfig&&a.props.changeIsNeedClassifyConfig();var q={};for(var H in z)"string"===typeof z[H]?q[H]=z[H].replace(/\<br\/\>/gi,"\r\n"):q[H]=z[H];q=d&&d(q,a.props,t),a.setState({loading:!1,flowFormColumn:V,flowButtons:w&&l({btns:w.reverse(),flowData:t}),flowHistoryList:y,flowWebUrl:F,navTitle:"\u5ba1\u6279\u5904\u7406",isNeedClassifyConfig:!1,startSettingFlag:n&&n.startSettingFlag,uploadRes:k[u]||[],filesUploadData:k[p],qnnFormInitialValues:{apiBody:q},docIsReadOnly:!("1"===(null===n||void 0===n?void 0:n.ntkoEditFlag))},function(){e&&(a.qnnForm.clearValues(),a.qnnForm.setValues({apiBody:q}))})};f&&!e?B(f):(e&&a.setState({loading:!0}),y(D,A).then(function(e){var t=e.success,o=e.data,n=e.message,r=e.code;t?B(o):a.errMsg(n,r)}))},a.isMobile=function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},a.delApiBody=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"del";return U()(e).map(function(e){var a=Nt({},e);switch(e.type){case"linkage":var o=function e(a){var o=Nt({},a.form,{field:"del"===t?a.form.field.replace(/(apiBody.)/g,""):"apiBody.".concat(a.form.field)});return(a=Nt({},a,{form:Nt({},o)})).children&&(a.children=e(a.children)),a}(e.children);a.children=o;break;default:a.field="del"===t?e.field.replace(/(apiBody.)/g,""):"apiBody.".concat(e.field)}return a})},a.getPushNodeData=function(e){var t=a.props,o=t.myFetch,n=t.workFlowConfig.pushNode,r=t.form,i=a.state.flowId,s=r.getFieldValue,l=r.setFieldsValue;"function"===typeof i&&i(a.props),n&&(V.a.loading("loading",0),o("getBaseFlowStartSettingListByFlow",{apih5FlowId:i,apih5WorkId:e.workId}).then(function(e){var t=e.success,o=e.message,n=e.data,r=e.code;if(V.a.hide(),t){var i=s("curNextNodes");i=i.concat(n),l({curNextNodes:i}),a.setState({pushNodeData:n})}else a.errMsg(o,r)}))},a.createOpenFlow=function(){var e=a.state,t=e.apiNameByUpdate,o=e.apiNameByAdd,n=e.title,r=e.flowId,i=e.createParamsFormat,s=e.uploadRes,l=e.docFieldName,c=e.filesFieldName,d=e.filesUploadData,u=e.docFieldIsRequired,p=void 0===u||u,f=e.isHaveDoc,m=e.docFieldLable,h=e.parameterName,v=a.props,g=v.myFetch,_=v.apiTitle,w=v.btnCallbackFn,y=void 0===w?{}:w,b=v.isInQnnTable;"function"===typeof r&&r(a.props);var F=y.refresh;a.qnnForm.getValues(!0).then(function(e){var u,v,w,y,k,E,I=e.apiBody,C="";if(vt()(n))for(var N=0;N<n.length;N++){var A=I[n[N]]||n[N];C+="".concat(0===N?"":"-").concat(A)}else C="function"===typeof n?n(I):I[n]||n;if(s&&(e.apiBody[l]=s),c&&(e.apiBody[c]=d),!p||!f||s&&s.length){var D={title:C,flowId:r,apiNameByCreate:t,apiName:o,apiType:"POST",apiTitle:_,apiBody:G()(e.apiBody),topId:(null===e||void 0===e?void 0:null===(u=e.apiBody)||void 0===u?void 0:u[h])||(null===(v=a.props)||void 0===v?void 0:null===(w=v.loginAndLogoutInfo)||void 0===w?void 0:null===(y=w.loginInfo)||void 0===y?void 0:null===(k=y.userInfo)||void 0===k?void 0:null===(E=k.curCompany)||void 0===E?void 0:E.departmentId)||""},x=i(D,Nt({},a.props));V.a.loading("\u6b63\u5728\u521b\u5efa\u6d41\u7a0b",0),g("createOpenFlow",x).then(function(e){var t=e.success,o=e.message,n=e.data,r=e.code;if(V.a.hide(),t){a.setState({flowButtons:[]}),V.a.success("\u521b\u5efa\u6d41\u7a0b\u6210\u529f"),b&&F&&F();var i=n.workId,s=n.nodeVars,l=n.flowVars,c=n.flowNode,d=c.nodeId,u=c.trackId,p=n.flowButtons,f=n.apiName,m=n.apiType,h=n.apiBody,v=n.title;a.updateRootBody({nodeVars:s,flowId:n.flowId,flowVars:l,workId:i,nodeId:d,trackId:u,apiName:f,apiType:m,apiBody:h,title:v});var g=p[0],_={operate:g.buttonId,operateClazz:g.buttonClass,operateText:g.buttonName,operateFlag:1};a.actionFlow({operateObj:_,noVerifyField:!0})}else a.errMsg(o,r)})}else V.a.fail("".concat(m,"\u5fc5\u586b"))})},a.createOpenFlowByNoForm=function(){var e,t,o,n,r,i,s=a.state,l=s.apiNameByUpdate,c=s.apiNameByAdd,d=s.title,u=s.flowId,p=s.createParamsFormat,f=s.parameterName,m=a.props,h=m.rowData,v=m.myFetch,g=m.apiTitle,_=m.isInQnnTable,w=m.refresh;"function"===typeof u&&u(a.props);var y={};a.setState({flowButtons:[]});var b=h,F="";if(vt()(d))for(var k=0;k<d.length;k++){var E=b[d[k]]||d[k];F+="".concat(0===k?"":"-").concat(E)}else F="function"===typeof d?d(b):b[d]||d;y.apiBody=b;var I=p({title:F,flowId:u,apiNameByCreate:l,apiName:c,apiType:"POST",apiTitle:g,apiBody:G()(y.apiBody),topId:(null===y||void 0===y?void 0:null===(e=y.apiBody)||void 0===e?void 0:e[f])||(null===(t=a.props)||void 0===t?void 0:null===(o=t.loginAndLogoutInfo)||void 0===o?void 0:null===(n=o.loginInfo)||void 0===n?void 0:null===(r=n.userInfo)||void 0===r?void 0:null===(i=r.curCompany)||void 0===i?void 0:i.departmentId)||""},Nt({},a.props));V.a.loading("\u6b63\u5728\u521b\u5efa\u6d41\u7a0b",0),v("createOpenFlow",I).then(function(e){var t=e.success,o=e.message,n=e.data,r=e.code;if(V.a.hide(),t){a.setState({flowButtons:[]}),V.a.success("\u521b\u5efa\u6d41\u7a0b\u6210\u529f"),_&&w&&w();var i=n.workId,s=n.nodeVars,l=n.flowVars,c=n.flowNode,d=c.nodeId,u=c.trackId,p=n.flowButtons,f=n.apiName,m=n.apiType,h=n.apiBody,v=n.title;a.updateRootBody({nodeVars:s,flowId:n.flowId,flowVars:l,workId:i,nodeId:d,trackId:u,apiName:f,apiType:m,apiBody:h,title:v});var g=p[0],y={operate:g.buttonId,operateClazz:g.buttonClass,operateText:g.buttonName,operateFlag:1};a.actionFlow({operateObj:y})}else a.errMsg(o,r)})},a.redDocUpload=function(e,t){var o,n,r=a.props.upload||a.props.myUpload,i=a.state.uploadRes,s=e.onSuccess,l=e.onError,c=e.file,d=(null===(o=c.name)||void 0===o?void 0:null===(n=o.split)||void 0===n?void 0:n.call(o,"."))||[],u=d[d.length-1];"doc"===u||"docx"===u||t?r("upload")({target:{files:[c]}}).then(function(e){e.success?t||(i.push(e.data),a._isMounted&&a.setState({uploadRes:i})):a.errMsg(e.message,e.code),s(Nt({},e))}).catch(function(){l({type:"error"})}):mt.a.warn({title:"\u53ea\u80fd\u4e0a\u4f20 .doc\u3001.docx \u6587\u4ef6\uff01"})},a.delRedDoc=function(e){var t=a.state.uploadRes.filter(function(t){return t.url!==e.url});a.setState({uploadRes:t})},a.uploadFlies=function(e){var t=a.state.filesUploadData,o=void 0===t?[]:t;o.push(e),a._isMounted&&a.setState({filesUploadData:o})},a.delFlies=function(e){var t=a.state.filesUploadData.filter(function(t){return t.url!==e.url});a.setState({filesUploadData:t})},a.openFlies=function(e){window.open(e.url,"_block")},a.pcrootRef=F.a.createRef();var o=e.isInQnnTable,n=e.rowData,r=e.formLayout,i=e.filesFieldName,s=e.editDocCdnAddress,l=void 0===s?"http://cdn.apih5.com/ntko":s,c=a.props.match.params,u=c.workId,p=void 0===u?"add":u,f=c.flowId,h=c.title,g=void 0===h?"title":h;return o&&n?(p=n.workId,g=n.title,f=n.flowId):o&&(p="add",f=e.flowId,g=e.title),a.state={flowFormColumn:[],flowButtons:[],formConfig:a.props.formConfig,workId:p,flowId:f,apiNameByAdd:a.props.apiNameByAdd,apiNameByUpdate:a.props.apiNameByUpdate,apiNameByGet:e.apiNameByGet,title:g,loading:!0,btnsCURD:e.btnsCURD||function(e){return e.btns},createParamsFormat:e.createParamsFormat||function(e){return e},openParamsFormat:e.openParamsFormat||function(e){return e},flowDataFormat:e.flowDataFormat||function(e){return e},fieldsCURD:e.fieldsCURD||function(e){return e},openFlowDataParms:e.openFlowDataParms||function(e){return e},flowImgLoading:!0,flowImgShow:!0,isNeedClassifyConfig:!1,isHaveDoc:a.props.isHaveDoc,docIsReadOnly:!1,docFormFormItemLayout:Nt({labelCol:{xs:{span:7},sm:{span:6}},wrapperCol:{xs:{span:17},sm:{span:18}}},a.props.docFormFormItemLayout),docFieldLable:a.props.docFieldLable||"\u7ea2\u5934\u6587\u4ef6",docFieldName:a.props.docFieldName||"redHeaderFiles",docFieldIsRequired:a.props.docFieldIsRequired||!0,filesFieldName:i,filesUploadData:[],editDocCdnAddress:l,docMaxNumber:a.props.docMaxNumber||9999999999,editDocAddress:l+(a.props.editDocAddress||"/editindex.html"),redModels:a.props.redModels||[],uploadRes:[],pushNodeData:[],flowData:a.props.flowData,parameterName:a.props.parameterName||""},a.rootBody={apiTitle:e.apiTitle,selectAuthorNewFlag:"1"},a.actionFlow=Se.bind(_()(a)),a.clickFlowButton=Oe.bind(_()(a)),a.delApiBody=a.delApiBody.bind(_()(a)),a.createOpenFlowByNoForm=a.createOpenFlowByNoForm.bind(_()(a)),a.errMsg=function(e,t){"-1"===t?L.a.error({message:"\u7cfb\u7edf\u9047\u5230\u95ee\u9898\uff0c\u8bf7\u8054\u7cfb\u8fd0\u7ef4\u4eba\u5458",description:e,duration:3}):L.a.warn({message:"\u63d0\u793a",description:e,duration:3})},a.successMsg=function(e){L.a.success({message:"\u63d0\u793a",description:e,duration:3})},a.formLayout=r,a}return y()(t,e),p()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.match.params,o=a.workId,n=void 0===o?"add":o,r=a.flowId,i=a.title,s=void 0===i?"title":i,l=e.isInQnnTable,c=e.rowData,d=e.workFlowConfig;return l&&c&&c.flowId?(n=c.workId,s=c.title,r=c.flowId):l&&(r=e.flowId,s=d.title),"add"===n&&(s=d.title),Nt({},t,{},e,{workId:n,flowId:r,title:s})}}]),p()(t,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this.state.workId,t=void 0===e?"add":e,a=this.props,o=a.isInQnnTable,n=a.rowData;o&&n&&n.flowId&&(t=n.workId),"add"===t?this.openFlow(this.props.formConfig.map(function(e){return e.disabled&&(e.disabled=!1),e})):this.openFlowByPre()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"docFns",value:function(){var e=this.state,t=e.editDocAddress,a=e.uploadRes,o=void 0===a?[]:a,n=e.redModels,r=void 0===n?[]:n,i=e.editDocCdnAddress,s=e.docIsReadOnly,l=this.props,c=l.loginAndLogoutInfo.loginInfo,d=c.token,u=c.access_token,p=c.refresh_token,f=c.userInfo.realName,m=l.myPublic,h=m.domain,v=m.appInfo,g=v.name,_=v.client_id,w=v.client_secret,y=v.grant_type,b=m.apis,k=this;o||(o=[]);var E=[d||"Bearer ".concat(u),f,b.ntkoUploadOffice?"".concat(h).concat(b.ntkoUploadOffice):"".concat(h,"ntkoUploadOffice"),g,escape(G()(r))];return{isInitEd:function(e){if(It.a.ExtensionInstalled()){window.ntkoCloseEvent=function(){},window.OnData=function(e,t,a){switch(e){case"uploadResByAddDoc":JSON.parse(t)&&JSON.parse(t).success&&(o.push(JSON.parse(t).data),k.setState({uploadRes:o}));break;case"uploadResByEditDoc":JSON.parse(t)&&JSON.parse(t).success&&k.setState({uploadRes:o.map(function(e){return e.url===a&&(e=JSON.parse(t).data),e})})}},e()}else mt.a.warning({title:F.a.createElement("div",null,"\u60a8\u7684\u6d4f\u89c8\u5668\u672a\u5b89\u88c5\u63d2\u4ef6\uff01\u8bf7\u70b9\u51fb\u4e0b\u9762\u3010\u4e0b\u8f7d\u63d2\u4ef6\u3011\u8fdb\u884c\u4e0b\u8f7d\u5b89\u88c5\u3002 ",F.a.createElement("br",null),F.a.createElement("sub",null,"(\u6ce8\u610f\uff1a\u8bf7\u4f7f\u7528Chrome\u6d4f\u89c8\u5668)")),content:F.a.createElement("a",{href:"".concat(i,"/officecontrol/ntko.exe")},"\u4e0b\u8f7d\u63d2\u4ef6 (15.8MB)")})},createDoc:function(){this.isInitEd(function(){var e="".concat(t,"?cmd=1&t=").concat((new Date).getTime());window.ntkoSendDataToChildtext=function(t){It.a.ntkoSendDataToChild(e,E.concat([void 0,void 0,!1,h,b.refreshAccessToken,y,_,w,p]))},It.a.openWindow(e)})},openDoc:function(e){this.isInitEd(function(){var a="".concat(t,"?cmd=2&t=").concat((new Date).getTime());window.ntkoSendDataToChildtext=function(t){It.a.ntkoSendDataToChild(a,E.concat([e.url,e.name,s,h,b.refreshAccessToken,y,_,w,p]))},It.a.openWindow(a)})}}}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,o=this.state,n=o.workId,r=void 0===n?"add":n,i=o.isNeedClassifyConfig,s=a.isInQnnTable,l=a.rowData;s&&l&&l.flowId&&(r=l.workId),i&&("add"===r?this.openFlow(a.formConfig.map(function(e){return e.disabled&&(e.disabled=!1),e})):this.openFlowByPre())}},{key:"openFlow",value:function(e){var t=this,a=this.state.btnsCURD,o=this.props.webTitle,n=this.state.formConfig||e,r="";r=o&&"function"===typeof o?o(this.props):o||"\u5ba1\u6279\u7533\u8bf7";var i=n.filter(function(e){var t=e.addShow;return void 0===t||t}).map(function(e){var a=e.qnnDisabled,o=e.initialValue,n=e.hide,r=Nt({},oe()(e,["qnnDisabled","initialValue","hide"]));return!0===a&&(r.disabled=!0),"function"===typeof o&&(r.initialValue=o(Nt({},t.props))),Nt({initialValue:o,hide:n},r)});this.props.changeIsNeedClassifyConfig&&this.props.changeIsNeedClassifyConfig(),this.setState({loading:!1,navTitle:r,flowFormColumn:i,flowButtons:a({btns:[{buttonClass:"createOpenFlow"}]}),isNeedClassifyConfig:!1,startSettingFlag:"1",docIsReadOnly:!1})}},{key:"callback",value:function(e){}},{key:"setFlowImgShow",value:function(){this.setState({flowImgShow:!this.state.flowImgShow})}},{key:"render",value:function(){var e,t=this,a=this.props,o=a.dispatch,n=a.isInQnnTable,r=a.getQnnForm,c=this.state,d=c.flowButtons,u=c.flowFormColumn,p=c.flowHistoryList,f=c.navTitle,m=c.flowWebUrl,h=c.workId,v=c.flowId,g=c.flowImgLoading,_=c.loading,w=c.uploadRes,y=c.isHaveDoc,b=c.docMaxNumber,E=c.docFormFormItemLayout,I=void 0===E?{}:E,C=c.docFieldLable,N=c.docFieldIsRequired,A=c.docIsReadOnly,D=c.qnnFormInitialValues,x=c.parameterName,B=c.filesUploadData,O=this.props.form.getFieldDecorator;O("visible",{initialValue:!1})(F.a.createElement(ft.a,{hidden:!0})),O("operateObj",{initialValue:{}}),O("curNextNodes",{initialValue:[]});var S=p&&p.length?F.a.createElement(At,{tab:"\u64cd\u4f5c\u5386\u53f2",key:"2"},F.a.createElement("div",{className:Ft.a.flowHistory,style:this.isMobile()?{height:"90vh",overflowY:"scroll",paddingBottom:"10vh"}:{height:"100%"}},F.a.createElement(pt,{style:{padding:"16px"}},p.map(function(e,t){var a=e.historyFlag,o=e.realName,n=e.nodeName,r=e.comments,i=e.actionTime;return F.a.createElement(pt.Item,{dot:"1"===a?"":F.a.createElement(_t.a,null),key:t},F.a.createElement("div",null,n,"\uff1a",o),F.a.createElement("div",null,r),i?F.a.createElement("div",null,"\u5230\u8fbe\u65f6\u95f4\uff1a",fe()(Number(i)).format("YYYY-MM-DD HH:mm:ss")):"")})),m?F.a.createElement("div",null,F.a.createElement(H.a,{spinning:g},F.a.createElement("iframe",{onLoad:function(){t.setState({flowImgLoading:!1})},src:m,title:"\u6d41\u7a0b\u56fe",frameBorder:"0",className:Ft.a.flowIframe}))):"")):null,T=F.a.createElement("div",{style:{display:A?"none":"block",paddingLeft:"4px"}},F.a.createElement(ft.a.Group,{compact:!0},F.a.createElement(z.a,{onClick:function(){t.docFns().createDoc()},icon:F.a.createElement(wt.a,null)},"\u65b0\u589e\u6587\u6863"),F.a.createElement(Ze.a,{accept:".doc,.docx",fileList:[],customRequest:this.redDocUpload},F.a.createElement(z.a,null,F.a.createElement(ye.a,null)," \u70b9\u51fb\u4e0a\u4f20")))),R=F.a.createElement("div",{id:"flow-doc",className:Ft.a.flowDocContainer},F.a.createElement(k.a.Item,i()({label:C,required:N,style:{marginBottom:8,marginTop:12}},I),w?w.length<b?T:null:T,w?F.a.createElement("div",{className:"".concat(Ft.a.uploadResContainer," ").concat(w.length?"":Ft.a.noRedDoc),style:{marginTop:A||w.length>=b?"0px":"6px"}},w.map(function(e,a){return F.a.createElement("div",{className:Ft.a.docItem,key:a},F.a.createElement("a",{onClick:function(){return t.docFns().openDoc(e)}},e.name),"add"!==h||A?null:F.a.createElement("span",{className:Ft.a.delBtn,onClick:function(){return t.delRedDoc(e)}}," ",F.a.createElement(yt.a,null)))})):null)),M=F.a.createElement(Be,i()({},this.props,{clickFlowButton:this.clickFlowButton,createOpenFlow:this.createOpenFlow,flowButtons:d})),P=F.a.createElement(F.a.Fragment,null,F.a.createElement(xe,i()({},this.props,{updateRootBody:this.updateRootBody,flowFormColumn:u,flowHistoryList:p,delApiBody:this.delApiBody,getQnnForm:function(e){t.qnnForm=e},parentQnnForm:function(e){null===r||void 0===r||r(e)},getFlowRootDom:function(){return t.pcrootRef.current},qnnFormInitialValues:D,uploadFlies:this.uploadFlies,delFlies:this.delFlies,openFlies:this.openFlies,redDocUpload:this.redDocUpload,docFns:this.docFns(),delRedDoc:this.delRedDoc,uploadRes:w,filesUploadData:B,BtnsJsx:M,errMsg:this.errMsg,successMsg:this.successMsg,openFlowByPre:this.openFlowByPre}),y?R:null),"leftDoc"===this.formLayout?"":M,F.a.createElement(Te,i()({},this.props,{flowId:v,workId:h,rootBody:this.rootBody,actionFlow:this.actionFlow,pushNodeData:this.state.pushNodeData,topId:null===D||void 0===D?void 0:null===(e=D.apiBody)||void 0===e?void 0:e[x]})));return this.isMobile()?F.a.createElement(H.a,{spinning:_,style:{height:"100vh"}},F.a.createElement(je.a,{className:"".concat(Ft.a.root," ").concat(Ft.a.rootByMobile," rootByMobile"),direction:"column"},F.a.createElement(s.a,{style:{width:"100%"},mode:"dark",icon:F.a.createElement(l.a,{type:"left"}),onLeftClick:function(){o(Object(ue.c)())}},f),"add"===h?F.a.createElement("div",{className:Ft.a.FlowConByAdd},P):F.a.createElement(gt.a,{defaultActiveKey:"1",onChange:this.callback,className:Ft.a.myTable,style:{width:"100%",height:"100%",background:"#fff"}},F.a.createElement(At,{tab:"\u8be6\u60c5",key:"1",style:{height:"100%"}},F.a.createElement("div",{className:Ft.a.FlowConByMobilePre},P)),S))):F.a.createElement(H.a,{spinning:_},F.a.createElement("div",{ref:this.pcrootRef,className:"".concat(Ft.a.pcroot," pcroot ").concat(n?Ft.a.pcrootByInQnnTable:null)},"add"===h?P:F.a.createElement(gt.a,{defaultActiveKey:"1",onChange:this.callback,className:"".concat(Ft.a.myTable," ").concat("leftDoc"===this.formLayout?Ft.a.leftDocMyTable:"")},F.a.createElement(At,{tab:"\u8be6\u60c5",key:"1",style:{height:"100%"}},P),S)))}}]),t}(b.Component),xt=k.a.create({onValuesChange:function(e,t,a){e.fieldsValueChange&&e.fieldsValueChange(e,t,a)}})(Dt);a.d(t,"a",function(){return xt})}}]);